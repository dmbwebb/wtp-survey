(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var od={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function lS(){if(Xy)return al;Xy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return al.Fragment=t,al.jsx=i,al.jsxs=i,al}var $y;function uS(){return $y||($y=1,od.exports=lS()),od.exports}var T=uS(),ld={exports:{}},ol={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function cS(){return Zy||(Zy=1,(function(r){function t(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var Ve=de-1>>>1,He=G[Ve];if(0<l(He,ne))G[Ve]=ne,G[de]=He,de=Ve;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var Ve=0,He=G.length,k=He>>>1;Ve<k;){var K=2*(Ve+1)-1,ie=G[K],re=K+1,ge=G[re];if(0>l(ie,de))re<He&&0>l(ge,ie)?(G[Ve]=ge,G[re]=de,Ve=re):(G[Ve]=ie,G[K]=de,Ve=K);else if(re<He&&0>l(ge,de))G[Ve]=ge,G[re]=de,Ve=re;else break e}}return ne}function l(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],R=1,w=null,L=3,X=!1,Z=!1,te=!1,W=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Re(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,t(v,ne);else break;ne=i(_)}}function Be(G){if(te=!1,Re(G),!Z)if(i(v)!==null)Z=!0,we||(we=!0,O());else{var ne=i(_);ne!==null&&Ae(Be,ne.startTime-G)}}var we=!1,N=-1,b=5,A=-1;function I(){return W?!0:!(r.unstable_now()-A<b)}function C(){if(W=!1,we){var G=r.unstable_now();A=G;var ne=!0;try{e:{Z=!1,te&&(te=!1,oe(N),N=-1),X=!0;var de=L;try{t:{for(Re(G),w=i(v);w!==null&&!(w.expirationTime>G&&I());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,L=w.priorityLevel;var He=Ve(w.expirationTime<=G);if(G=r.unstable_now(),typeof He=="function"){w.callback=He,Re(G),ne=!0;break t}w===i(v)&&a(v),Re(G)}else a(v);w=i(v)}if(w!==null)ne=!0;else{var k=i(_);k!==null&&Ae(Be,k.startTime-G),ne=!1}}break e}finally{w=null,L=de,X=!1}ne=void 0}}finally{ne?O():we=!1}}}var O;if(typeof ce=="function")O=function(){ce(C)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,je=x.port2;x.port1.onmessage=C,O=function(){je.postMessage(null)}}else O=function(){se(C,0)};function Ae(G,ne){N=se(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_next=function(G){switch(L){case 1:case 2:case 3:var ne=3;break;default:ne=L}var de=L;L=ne;try{return G()}finally{L=de}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=L;L=G;try{return ne()}finally{L=de}},r.unstable_scheduleCallback=function(G,ne,de){var Ve=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=de+He,G={id:R++,callback:ne,priorityLevel:G,startTime:de,expirationTime:He,sortIndex:-1},de>Ve?(G.sortIndex=de,t(_,G),i(v)===null&&G===i(_)&&(te?(oe(N),N=-1):te=!0,Ae(Be,de-Ve))):(G.sortIndex=He,t(v,G),Z||X||(Z=!0,we||(we=!0,O()))),G},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(G){var ne=L;return function(){var de=L;L=ne;try{return G.apply(this,arguments)}finally{L=de}}}})(cd)),cd}var Jy;function hS(){return Jy||(Jy=1,ud.exports=cS()),ud.exports}var hd={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function fS(){if(Wy)return ye;Wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),L=Symbol.iterator;function X(k){return k===null||typeof k!="object"?null:(k=L&&k[L]||k["@@iterator"],typeof k=="function"?k:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,W={};function se(k,K,ie){this.props=k,this.context=K,this.refs=W,this.updater=ie||Z}se.prototype.isReactComponent={},se.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},se.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function ce(k,K,ie){this.props=k,this.context=K,this.refs=W,this.updater=ie||Z}var Re=ce.prototype=new oe;Re.constructor=ce,te(Re,se.prototype),Re.isPureReactComponent=!0;var Be=Array.isArray;function we(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(k,K,ie){var re=ie.ref;return{$$typeof:r,type:k,key:K,ref:re!==void 0?re:null,props:ie}}function I(k,K){return A(k.type,K,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return K[ie]})}var x=/\/+/g;function je(k,K){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):K.toString(36)}function Ae(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(we,we):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,K,ie,re,ge){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var Me=!1;if(k===null)Me=!0;else switch(Ee){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(k.$$typeof){case r:case t:Me=!0;break;case R:return Me=k._init,G(Me(k._payload),K,ie,re,ge)}}if(Me)return ge=ge(k),Me=re===""?"."+je(k,0):re,Be(ge)?(ie="",Me!=null&&(ie=Me.replace(x,"$&/")+"/"),G(ge,K,ie,"",function(tr){return tr})):ge!=null&&(C(ge)&&(ge=I(ge,ie+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(x,"$&/")+"/")+Me)),K.push(ge)),1;Me=0;var Ct=re===""?".":re+":";if(Be(k))for(var it=0;it<k.length;it++)re=k[it],Ee=Ct+je(re,it),Me+=G(re,K,ie,Ee,ge);else if(it=X(k),typeof it=="function")for(k=it.call(k),it=0;!(re=k.next()).done;)re=re.value,Ee=Ct+je(re,it++),Me+=G(re,K,ie,Ee,ge);else if(Ee==="object"){if(typeof k.then=="function")return G(Ae(k),K,ie,re,ge);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(k,K,ie){if(k==null)return k;var re=[],ge=0;return G(k,re,"","",function(Ee){return K.call(ie,Ee,ge++)}),re}function de(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Ve=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},He={map:ne,forEach:function(k,K,ie){ne(k,function(){K.apply(this,arguments)},ie)},count:function(k){var K=0;return ne(k,function(){K++}),K},toArray:function(k){return ne(k,function(K){return K})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ye.Activity=w,ye.Children=He,ye.Component=se,ye.Fragment=i,ye.Profiler=l,ye.PureComponent=ce,ye.StrictMode=a,ye.Suspense=v,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ye.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},ye.cache=function(k){return function(){return k.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(k,K,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var re=te({},k.props),ge=k.key;if(K!=null)for(Ee in K.key!==void 0&&(ge=""+K.key),K)!b.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(re[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=ie;else if(1<Ee){for(var Me=Array(Ee),Ct=0;Ct<Ee;Ct++)Me[Ct]=arguments[Ct+2];re.children=Me}return A(k.type,ge,re)},ye.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},ye.createElement=function(k,K,ie){var re,ge={},Ee=null;if(K!=null)for(re in K.key!==void 0&&(Ee=""+K.key),K)b.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=K[re]);var Me=arguments.length-2;if(Me===1)ge.children=ie;else if(1<Me){for(var Ct=Array(Me),it=0;it<Me;it++)Ct[it]=arguments[it+2];ge.children=Ct}if(k&&k.defaultProps)for(re in Me=k.defaultProps,Me)ge[re]===void 0&&(ge[re]=Me[re]);return A(k,Ee,ge)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(k){return{$$typeof:y,render:k}},ye.isValidElement=C,ye.lazy=function(k){return{$$typeof:R,_payload:{_status:-1,_result:k},_init:de}},ye.memo=function(k,K){return{$$typeof:_,type:k,compare:K===void 0?null:K}},ye.startTransition=function(k){var K=N.T,ie={};N.T=ie;try{var re=k(),ge=N.S;ge!==null&&ge(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(we,Ve)}catch(Ee){Ve(Ee)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),N.T=K}},ye.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ye.use=function(k){return N.H.use(k)},ye.useActionState=function(k,K,ie){return N.H.useActionState(k,K,ie)},ye.useCallback=function(k,K){return N.H.useCallback(k,K)},ye.useContext=function(k){return N.H.useContext(k)},ye.useDebugValue=function(){},ye.useDeferredValue=function(k,K){return N.H.useDeferredValue(k,K)},ye.useEffect=function(k,K){return N.H.useEffect(k,K)},ye.useEffectEvent=function(k){return N.H.useEffectEvent(k)},ye.useId=function(){return N.H.useId()},ye.useImperativeHandle=function(k,K,ie){return N.H.useImperativeHandle(k,K,ie)},ye.useInsertionEffect=function(k,K){return N.H.useInsertionEffect(k,K)},ye.useLayoutEffect=function(k,K){return N.H.useLayoutEffect(k,K)},ye.useMemo=function(k,K){return N.H.useMemo(k,K)},ye.useOptimistic=function(k,K){return N.H.useOptimistic(k,K)},ye.useReducer=function(k,K,ie){return N.H.useReducer(k,K,ie)},ye.useRef=function(k){return N.H.useRef(k)},ye.useState=function(k){return N.H.useState(k)},ye.useSyncExternalStore=function(k,K,ie){return N.H.useSyncExternalStore(k,K,ie)},ye.useTransition=function(){return N.H.useTransition()},ye.version="19.2.0",ye}var ev;function Qd(){return ev||(ev=1,hd.exports=fS()),hd.exports}var fd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function dS(){if(tv)return Kt;tv=1;var r=Qd();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)_+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,R){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:R}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(v,_){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,R)},Kt.flushSync=function(v){var _=d.T,R=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=R,a.d.f()}},Kt.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Kt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Kt.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var R=_.as,w=y(R,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;R==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:L,fetchPriority:X}):R==="script"&&a.d.X(v,{crossOrigin:w,integrity:L,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Kt.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var R=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Kt.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var R=_.as,w=y(R,_.crossOrigin);a.d.L(v,R,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Kt.preloadModule=function(v,_){if(typeof v=="string")if(_){var R=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Kt.requestFormReset=function(v){a.d.r(v)},Kt.unstable_batchedUpdates=function(v,_){return v(_)},Kt.useFormState=function(v,_,R){return d.H.useFormState(v,_,R)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var nv;function mS(){if(nv)return fd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=dS(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function pS(){if(iv)return ol;iv=1;var r=hS(),t=Qd(),i=mS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,o=f;break}if(E===o){p=!0,o=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=c;break}if(E===o){p=!0,o=f,s=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=R(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,L=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case se:return"Profiler";case W:return"StrictMode";case Be:return"Suspense";case we:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ce:return e.displayName||"Context";case oe:return(e._context.displayName||"Context")+".Consumer";case Re:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:je(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return je(e(n))}catch{}}return null}var Ae=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ve=[],He=-1;function k(e){return{current:e}}function K(e){0>He||(e.current=Ve[He],Ve[He]=null,He--)}function ie(e,n){He++,Ve[He]=e.current,e.current=n}var re=k(null),ge=k(null),Ee=k(null),Me=k(null);function Ct(e,n){switch(ie(Ee,n),ie(ge,e),ie(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vy(n),e=_y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(re),ie(re,e)}function it(){K(re),K(ge),K(Ee)}function tr(e){e.memoizedState!==null&&ie(Me,e);var n=re.current,s=_y(n,e.type);n!==s&&(ie(ge,e),ie(re,s))}function Qr(e){ge.current===e&&(K(re),K(ge)),Me.current===e&&(K(Me),nl._currentValue=de)}var Yr,Kr;function ti(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Kr}var to=!1;function nr(e,n){if(!e||to)return"";to=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var D=p.split(`
`),P=E.split(`
`);for(c=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===D.length||c===P.length)for(o=D.length-1,c=P.length-1;1<=o&&0<=c&&D[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(D[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||D[o]!==P[c]){var F=`
`+D[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=c);break}}}finally{to=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function no(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return ti("Activity");default:return""}}function io(e){try{var n="",s=null;do n+=no(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,lh=r.unstable_shouldYield,Vl=r.unstable_requestPaint,Wt=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,so=r.unstable_ImmediatePriority,ro=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,uh=r.unstable_LowPriority,Ll=r.unstable_IdlePriority,Ul=r.log,jl=r.unstable_setDisableYieldValue,Ln=null,Lt=null;function Sn(e){if(typeof Ul=="function"&&jl(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Ln,e)}catch{}}var ft=Math.clz32?Math.clz32:zl,Pl=Math.log,Xr=Math.LN2;function zl(e){return e>>>=0,e===0?32:31-(Pl(e)/Xr|0)|0}var ni=256,sr=262144,yt=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ii(o):(p&=E,p!==0?c=ii(p):s||(s=E&~e,s!==0&&(c=ii(s))))):(E=o&~f,E!==0?c=ii(E):p!==0?c=ii(p):s||(s=o&~e,s!==0&&(c=ii(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var e=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hh(e,n,s,o,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ft(s),Y=1<<F;E[F]=0,D[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&ar(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ft(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ao(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ft(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function oo(e,n){var s=n&-n;return s=(s&42)!==0?1:or(s),(s&(e.suspendedLanes|n))!==0?0:s}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ql(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:qy(e.type))}function jn(e,n){var s=ne.p;try{return ne.p=e,n()}finally{ne.p=s}}var Pn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Pn,Nt="__reactProps$"+Pn,ai="__reactContainer$"+Pn,$r="__reactEvents$"+Pn,fh="__reactListeners$"+Pn,Hl="__reactHandles$"+Pn,Gl="__reactResources$"+Pn,oi="__reactMarker$"+Pn;function Zr(e){delete e[vt],delete e[Nt],delete e[$r],delete e[fh],delete e[Hl]}function li(e){var n=e[vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=xy(e);e!==null;){if(s=e[vt])return s;e=xy(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[vt]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ui(e){var n=e[Gl];return n||(n=e[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[oi]=!0}var lo=new Set,uo={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(uo[e]=n,e=0;e<n.length;e++)lo.add(n[e])}var co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},fo={};function Fl(e){return gt.call(fo,e)?!0:gt.call(ho,e)?!1:co.test(e)?fo[e]=!0:(ho[e]=!0,!1)}function Jr(e,n,s){if(Fl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Et(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ge(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=mo(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function nn(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?po(e,p,Dt(n)):s!=null?po(e,p,Dt(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Dt(E):e.removeAttribute("name")}function Ql(e,n,s,o,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ge(e);return}s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ge(e)}function po(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Yl(e,n,s){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Dt(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Dt(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ge(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Kl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Kl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function yo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&go(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&go(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var vo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,di=null;function cr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Nt]||null;if(!c)throw Error(a(90));Wr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&lr(o)}break e;case"textarea":Yl(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var na=!1;function hs(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cs!==null||di!==null)&&(qu(),cs&&(n=cs,e=di,di=cs=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Nt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(wn)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{hr=!1}var mi=null,_o=null,fr=null;function Eo(){if(fr)return fr;var e,n=_o,s=n.length,o,c="value"in mi?mi.value:mi.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===c[f-o];o++);return fr=c.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Ut(e){function n(s,o,c,f,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ut(Di),fs=w({},Di,{view:0,detail:0}),To=Ut(fs),ds,ia,gi,sa=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ds=e.screenX-gi.screenX,ia=e.screenY-gi.screenY):ia=ds=0,gi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),So=Ut(sa),mr=w({},sa,{dataTransfer:0}),$l=Ut(mr),Zl=w({},fs,{relatedTarget:0}),pr=Ut(Zl),bo=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Ut(bo),ra=w({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wl=Ut(ra),eu=w({},Di,{data:0}),yi=Ut(eu),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=iu[e])?!!n[e]:!1}function ms(){return su}var en=w({},fs,{key:function(e){if(e.key){var n=tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ru=Ut(en),au=w({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Ut(au),u=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=Ut(u),g=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ut(g),U=w({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ut(U),ee=w({},Di,{newState:0,oldState:0}),ve=Ut(ee),dt=[9,13,27,32],Pe=wn&&"CompositionEvent"in window,st=null;wn&&"documentMode"in document&&(st=document.documentMode);var xn=wn&&"TextEvent"in window&&!st,vi=wn&&(!Pe||st&&8<st&&11>=st),Hn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function OE(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function ME(e,n){if(oa)return e==="compositionend"||!Pe&&gr(e,n)?(e=Eo(),fr=_o=mi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!kE[e.type]:n==="textarea"}function Nm(e,n,s,o){cs?di?di.push(o):di=[o]:cs=o,n=Xu(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ao=null,wo=null;function VE(e){fy(e,0)}function ou(e){var n=dn(e);if(lr(n))return e}function Dm(e,n){if(e==="change")return n}var Om=!1;if(wn){var dh;if(wn){var mh="oninput"in document;if(!mh){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),mh=typeof Mm.oninput=="function"}dh=mh}else dh=!1;Om=dh&&(!document.documentMode||9<document.documentMode)}function km(){Ao&&(Ao.detachEvent("onpropertychange",Vm),wo=Ao=null)}function Vm(e){if(e.propertyName==="value"&&ou(wo)){var n=[];Nm(n,wo,e,An(e)),hs(VE,n)}}function LE(e,n,s){e==="focusin"?(km(),Ao=n,wo=s,Ao.attachEvent("onpropertychange",Vm)):e==="focusout"&&km()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ou(wo)}function jE(e,n){if(e==="click")return ou(n)}function PE(e,n){if(e==="input"||e==="change")return ou(n)}function zE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:zE;function xo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!gt.call(n,c)||!pn(e[c],n[c]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,n){var s=Lm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lm(s)}}function jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BE=wn&&"documentMode"in document&&11>=document.documentMode,la=null,gh=null,Co=null,yh=!1;function zm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||la==null||la!==fi(o)||(o=la,"selectionStart"in o&&ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&xo(Co,o)||(Co=o,o=Xu(gh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function yr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},vh={},Bm={};wn&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function vr(e){if(vh[e])return vh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Bm)return vh[e]=n[s];return e}var qm=vr("animationend"),Hm=vr("animationiteration"),Gm=vr("animationstart"),qE=vr("transitionrun"),HE=vr("transitionstart"),GE=vr("transitioncancel"),Fm=vr("transitionend"),Qm=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Fn(e,n){Qm.set(e,n),ci(n,[e])}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ca=0,Eh=0;function uu(){for(var e=ca,n=Eh=ca=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Ym(s,c,f)}}function cu(e,n,s,o){Cn[ca++]=e,Cn[ca++]=n,Cn[ca++]=s,Cn[ca++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,n,s,o){return cu(e,n,s,o),hu(e)}function _r(e,n){return cu(e,null,null,n),hu(e)}function Ym(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ft(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function hu(e){if(50<Xo)throw Xo=0,Df=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function FE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new FE(e,n,s,o)}function Sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Km(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function fu(e,n,s,o,c,f){var p=0;if(o=e,typeof e=="function")Sh(e)&&(p=1);else if(typeof e=="string")p=$T(e,s,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=gn(31,s,n,c),e.elementType=A,e.lanes=f,e;case te:return Er(s.children,c,f,n);case W:p=8,c|=24;break;case se:return e=gn(12,s,n,c|2),e.elementType=se,e.lanes=f,e;case Be:return e=gn(13,s,n,c),e.elementType=Be,e.lanes=f,e;case we:return e=gn(19,s,n,c),e.elementType=we,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:p=10;break e;case oe:p=9;break e;case Re:p=11;break e;case N:p=14;break e;case b:p=16,o=null;break e}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function bh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Xm(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Ah(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $m=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=$m.get(e);return s!==void 0?s:(n={value:e,source:n,stack:io(n)},$m.set(e,n),n)}return{value:e,source:n,stack:io(n)}}var fa=[],da=0,du=null,Ro=0,In=[],Nn=0,ps=null,_i=1,Ei="";function ki(e,n){fa[da++]=Ro,fa[da++]=du,du=e,Ro=n}function Zm(e,n,s){In[Nn++]=_i,In[Nn++]=Ei,In[Nn++]=ps,ps=e;var o=_i;e=Ei;var c=32-ft(o)-1;o&=~(1<<c),s+=1;var f=32-ft(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,_i=1<<32-ft(n)+c|s<<c|o,Ei=f+e}else _i=1<<f|s<<c|o,Ei=e}function wh(e){e.return!==null&&(ki(e,1),Zm(e,1,0))}function xh(e){for(;e===du;)du=fa[--da],fa[da]=null,Ro=fa[--da],fa[da]=null;for(;e===ps;)ps=In[--Nn],In[Nn]=null,Ei=In[--Nn],In[Nn]=null,_i=In[--Nn],In[Nn]=null}function Jm(e,n){In[Nn++]=_i,In[Nn++]=Ei,In[Nn++]=ps,_i=n.id,Ei=n.overflow,ps=e}var jt=null,tt=null,Oe=!1,gs=null,Dn=!1,Ch=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Rn(n,e)),Ch}function Wm(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[vt]=e,n[Nt]=o,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Ce(Zo[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Ql(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||gy(n.textContent,s)?(o.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),o.onScroll!=null&&Ce("scroll",n),o.onScrollEnd!=null&&Ce("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||ys(e,!0)}function ep(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:jt=jt.return}}function ma(e){if(e!==jt)return!1;if(!Oe)return ep(e),Oe=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qf(e.type,e.memoizedProps)),s=!s),s&&tt&&ys(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=wy(e)}else n===27?(n=tt,Ds(e.type)?(e=Zf,Zf=null,tt=e):tt=n):tt=jt?Mn(e.stateNode.nextSibling):null;return!0}function Tr(){tt=jt=null,Oe=!1}function Rh(){var e=gs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gs=null),e}function Io(e){gs===null?gs=[e]:gs.push(e)}var Ih=k(null),Sr=null,Vi=null;function vs(e,n,s){ie(Ih,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Ih.current,K(Ih)}function Nh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Dh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Nh(f.return,s,e),o||(p=null);break e}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Nh(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function pa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;pn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===Me.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}c=c.return}e!==null&&Dh(n,e,s,o),n.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pt(e){return tp(Sr,e)}function pu(e,n){return Sr===null&&br(e),tp(e,n)}function tp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var QE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},YE=r.unstable_scheduleCallback,KE=r.unstable_NormalPriority,Tt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new QE,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&YE(KE,function(){e.controller.abort()})}var Do=null,Mh=0,ga=0,ya=null;function XE(e,n){if(Do===null){var s=Do=[];Mh=0,ga=Uf(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Mh++,n.then(np,np),n}function np(){if(--Mh===0&&Do!==null){ya!==null&&(ya.status="fulfilled");var e=Do;Do=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $E(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var ip=G.S;G.S=function(e,n){zg=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XE(e,n),ip!==null&&ip(e,n)};var Ar=k(null);function kh(){var e=Ar.current;return e!==null?e:We.pooledCache}function gu(e,n){n===null?ie(Ar,Ar.current):ie(Ar,n.pool)}function sp(){var e=kh();return e===null?null:{parent:Tt._currentValue,pool:e}}var va=Error(a(460)),Vh=Error(a(474)),yu=Error(a(542)),vu={then:function(){}};function rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ap(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e}throw xr=n,va}}function wr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xr=s,va):s}}var xr=null;function op(){if(xr===null)throw Error(a(459));var e=xr;return xr=null,e}function lp(e){if(e===va||e===yu)throw Error(a(483))}var _a=null,Oo=0;function _u(e){var n=Oo;return Oo+=1,_a===null&&(_a=[]),ap(_a,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===L?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function up(e){function n(V,M){if(e){var j=V.deletions;j===null?(V.deletions=[M],V.flags|=16):j.push(M)}}function s(V,M){if(!e)return null;for(;M!==null;)n(V,M),M=M.sibling;return null}function o(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function c(V,M){return V=Mi(V,M),V.index=0,V.sibling=null,V}function f(V,M,j){return V.index=j,e?(j=V.alternate,j!==null?(j=j.index,j<M?(V.flags|=67108866,M):j):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,M,j,Q){return M===null||M.tag!==6?(M=bh(j,V.mode,Q),M.return=V,M):(M=c(M,j),M.return=V,M)}function D(V,M,j,Q){var he=j.type;return he===te?F(V,M,j.props.children,Q,j.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&wr(he)===M.type)?(M=c(M,j.props),Mo(M,j),M.return=V,M):(M=fu(j.type,j.key,j.props,null,V.mode,Q),Mo(M,j),M.return=V,M)}function P(V,M,j,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Ah(j,V.mode,Q),M.return=V,M):(M=c(M,j.children||[]),M.return=V,M)}function F(V,M,j,Q,he){return M===null||M.tag!==7?(M=Er(j,V.mode,Q,he),M.return=V,M):(M=c(M,j),M.return=V,M)}function Y(V,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bh(""+M,V.mode,j),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case X:return j=fu(M.type,M.key,M.props,null,V.mode,j),Mo(j,M),j.return=V,j;case Z:return M=Ah(M,V.mode,j),M.return=V,M;case b:return M=wr(M),Y(V,M,j)}if(Ae(M)||O(M))return M=Er(M,V.mode,j,null),M.return=V,M;if(typeof M.then=="function")return Y(V,_u(M),j);if(M.$$typeof===ce)return Y(V,pu(V,M),j);Eu(V,M)}return null}function B(V,M,j,Q){var he=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:E(V,M,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return j.key===he?D(V,M,j,Q):null;case Z:return j.key===he?P(V,M,j,Q):null;case b:return j=wr(j),B(V,M,j,Q)}if(Ae(j)||O(j))return he!==null?null:F(V,M,j,Q,null);if(typeof j.then=="function")return B(V,M,_u(j),Q);if(j.$$typeof===ce)return B(V,M,pu(V,j),Q);Eu(V,j)}return null}function H(V,M,j,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(j)||null,E(M,V,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return V=V.get(Q.key===null?j:Q.key)||null,D(M,V,Q,he);case Z:return V=V.get(Q.key===null?j:Q.key)||null,P(M,V,Q,he);case b:return Q=wr(Q),H(V,M,j,Q,he)}if(Ae(Q)||O(Q))return V=V.get(j)||null,F(M,V,Q,he,null);if(typeof Q.then=="function")return H(V,M,j,_u(Q),he);if(Q.$$typeof===ce)return H(V,M,j,pu(M,Q),he);Eu(M,Q)}return null}function ae(V,M,j,Q){for(var he=null,Le=null,le=M,Te=M=0,Ne=null;le!==null&&Te<j.length;Te++){le.index>Te?(Ne=le,le=null):Ne=le.sibling;var Ue=B(V,le,j[Te],Q);if(Ue===null){le===null&&(le=Ne);break}e&&le&&Ue.alternate===null&&n(V,le),M=f(Ue,M,Te),Le===null?he=Ue:Le.sibling=Ue,Le=Ue,le=Ne}if(Te===j.length)return s(V,le),Oe&&ki(V,Te),he;if(le===null){for(;Te<j.length;Te++)le=Y(V,j[Te],Q),le!==null&&(M=f(le,M,Te),Le===null?he=le:Le.sibling=le,Le=le);return Oe&&ki(V,Te),he}for(le=o(le);Te<j.length;Te++)Ne=H(le,V,Te,j[Te],Q),Ne!==null&&(e&&Ne.alternate!==null&&le.delete(Ne.key===null?Te:Ne.key),M=f(Ne,M,Te),Le===null?he=Ne:Le.sibling=Ne,Le=Ne);return e&&le.forEach(function(Ls){return n(V,Ls)}),Oe&&ki(V,Te),he}function me(V,M,j,Q){if(j==null)throw Error(a(151));for(var he=null,Le=null,le=M,Te=M=0,Ne=null,Ue=j.next();le!==null&&!Ue.done;Te++,Ue=j.next()){le.index>Te?(Ne=le,le=null):Ne=le.sibling;var Ls=B(V,le,Ue.value,Q);if(Ls===null){le===null&&(le=Ne);break}e&&le&&Ls.alternate===null&&n(V,le),M=f(Ls,M,Te),Le===null?he=Ls:Le.sibling=Ls,Le=Ls,le=Ne}if(Ue.done)return s(V,le),Oe&&ki(V,Te),he;if(le===null){for(;!Ue.done;Te++,Ue=j.next())Ue=Y(V,Ue.value,Q),Ue!==null&&(M=f(Ue,M,Te),Le===null?he=Ue:Le.sibling=Ue,Le=Ue);return Oe&&ki(V,Te),he}for(le=o(le);!Ue.done;Te++,Ue=j.next())Ue=H(le,V,Te,Ue.value,Q),Ue!==null&&(e&&Ue.alternate!==null&&le.delete(Ue.key===null?Te:Ue.key),M=f(Ue,M,Te),Le===null?he=Ue:Le.sibling=Ue,Le=Ue);return e&&le.forEach(function(oS){return n(V,oS)}),Oe&&ki(V,Te),he}function $e(V,M,j,Q){if(typeof j=="object"&&j!==null&&j.type===te&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case X:e:{for(var he=j.key;M!==null;){if(M.key===he){if(he=j.type,he===te){if(M.tag===7){s(V,M.sibling),Q=c(M,j.props.children),Q.return=V,V=Q;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&wr(he)===M.type){s(V,M.sibling),Q=c(M,j.props),Mo(Q,j),Q.return=V,V=Q;break e}s(V,M);break}else n(V,M);M=M.sibling}j.type===te?(Q=Er(j.props.children,V.mode,Q,j.key),Q.return=V,V=Q):(Q=fu(j.type,j.key,j.props,null,V.mode,Q),Mo(Q,j),Q.return=V,V=Q)}return p(V);case Z:e:{for(he=j.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){s(V,M.sibling),Q=c(M,j.children||[]),Q.return=V,V=Q;break e}else{s(V,M);break}else n(V,M);M=M.sibling}Q=Ah(j,V.mode,Q),Q.return=V,V=Q}return p(V);case b:return j=wr(j),$e(V,M,j,Q)}if(Ae(j))return ae(V,M,j,Q);if(O(j)){if(he=O(j),typeof he!="function")throw Error(a(150));return j=he.call(j),me(V,M,j,Q)}if(typeof j.then=="function")return $e(V,M,_u(j),Q);if(j.$$typeof===ce)return $e(V,M,pu(V,j),Q);Eu(V,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(s(V,M.sibling),Q=c(M,j),Q.return=V,V=Q):(s(V,M),Q=bh(j,V.mode,Q),Q.return=V,V=Q),p(V)):s(V,M)}return function(V,M,j,Q){try{Oo=0;var he=$e(V,M,j,Q);return _a=null,he}catch(le){if(le===va||le===yu)throw le;var Le=gn(29,le,null,V.mode);return Le.lanes=Q,Le.return=V,Le}finally{}}}var Cr=up(!0),cp=up(!1),_s=!1;function Lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ze&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=hu(e),Ym(e,null,s),n}return cu(e,o,n,s),hu(e)}function ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ao(e,s)}}function jh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ph=!1;function Vo(){if(Ph){var e=ya;if(e!==null)throw e}}function Lo(e,n,s,o){Ph=!1;var c=e.updateQueue;_s=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,P=D.next;D.next=null,p===null?f=P:p.next=P,p=D;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=D))}if(f!==null){var Y=c.baseState;p=0,F=P=D=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ie&B)===B:(o&B)===B){B!==0&&B===ga&&(Ph=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=e,me=E;B=n;var $e=s;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){Y=ae.call($e,Y,B);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,B=typeof ae=="function"?ae.call($e,Y,B):ae,B==null)break e;Y=w({},Y,B);break e;case 2:_s=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,D=Y):F=F.next=H,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(D=Y),c.baseState=D,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=Y}}function hp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function fp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)hp(s[e],n)}var Ea=k(null),Tu=k(0);function dp(e,n){e=Fi,ie(Tu,e),ie(Ea,n),Fi=e|n.baseLanes}function zh(){ie(Tu,Fi),ie(Ea,Ea.current)}function Bh(){Fi=Tu.current,K(Ea),K(Tu)}var yn=k(null),On=null;function Ss(e){var n=e.alternate;ie(mt,mt.current&1),ie(yn,e),On===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(On=e)}function qh(e){ie(mt,mt.current),ie(yn,e),On===null&&(On=e)}function mp(e){e.tag===22?(ie(mt,mt.current),ie(yn,e),On===null&&(On=e)):bs()}function bs(){ie(mt,mt.current),ie(yn,yn.current)}function vn(e){K(yn),On===e&&(On=null),K(mt)}var mt=k(0);function Su(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xf(s)||$f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,_e=null,Ke=null,St=null,bu=!1,Ta=!1,Rr=!1,Au=0,Uo=0,Sa=null,ZE=0;function ut(){throw Error(a(321))}function Hh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function Gh(e,n,s,o,c,f){return Ui=f,_e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Zp:af,Rr=!1,f=s(o,c),Rr=!1,Ta&&(f=gp(n,s,o,c)),pp(e),f}function pp(e){G.H=zo;var n=Ke!==null&&Ke.next!==null;if(Ui=0,St=Ke=_e=null,bu=!1,Uo=0,Sa=null,n)throw Error(a(300));e===null||bt||(e=e.dependencies,e!==null&&mu(e)&&(bt=!0))}function gp(e,n,s,o){_e=e;var c=0;do{if(Ta&&(Sa=null),Uo=0,Ta=!1,25<=c)throw Error(a(301));if(c+=1,St=Ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Jp,f=n(s,o)}while(Ta);return f}function JE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?jo(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(_e.flags|=1024),n}function Fh(){var e=Au!==0;return Au=0,e}function Qh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Yh(e){if(bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bu=!1}Ui=0,St=Ke=_e=null,Ta=!1,Uo=Au=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?_e.memoizedState=St=e:St=St.next=e,St}function pt(){if(Ke===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=St===null?_e.memoizedState:St.next;if(n!==null)St=n,Ke=e;else{if(e===null)throw _e.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},St===null?_e.memoizedState=St=e:St=St.next=e}return St}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var n=Uo;return Uo+=1,Sa===null&&(Sa=[]),e=ap(Sa,e,n),n=_e,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Zp:af),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===ce)return Pt(e)}throw Error(a(438,String(e)))}function Kh(e){var n=null,s=_e.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=_e.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wu(),_e.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=I;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function Cu(e){var n=pt();return Xh(n,Ke,e)}function Xh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,D=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ie&Y)===Y:(Ui&Y)===Y){var B=P.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ga&&(F=!0);else if((Ui&B)===B){P=P.next,B===ga&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=Y,p=f):D=D.next=Y,_e.lanes|=B,xs|=B;Y=P.action,Rr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else B={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=B,p=f):D=D.next=B,_e.lanes|=Y,xs|=Y;P=P.next}while(P!==null&&P!==n);if(D===null?p=f:D.next=E,!pn(f,e.memoizedState)&&(bt=!0,F&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=D,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function $h(e){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);pn(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function yp(e,n,s){var o=_e,c=pt(),f=Oe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Ke||c).memoizedState,s);if(p&&(c.memoizedState=s,bt=!0),c=c.queue,Wh(Ep.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},_p.bind(null,o,c,s,n),null),We===null)throw Error(a(349));f||(Ui&127)!==0||vp(o,n,s)}return s}function vp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=_e.updateQueue,n===null?(n=wu(),_e.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function _p(e,n,s,o){n.value=s,n.getSnapshot=o,Tp(n)&&Sp(e)}function Ep(e,n,s){return s(function(){Tp(n)&&Sp(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function Sp(e){var n=_r(e,2);n!==null&&un(n,e,2)}function Zh(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Rr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function bp(e,n,s,o){return e.baseState=s,Xh(e,Ke,typeof o=="function"?o:ji)}function WE(e,n,s,o,c){if(Nu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Ap(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ap(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(c,o),D=G.S;D!==null&&D(p,E),wp(e,n,E)}catch(P){Jh(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(c,o),wp(e,n,f)}catch(P){Jh(e,n,P)}}function wp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){xp(e,n,o)},function(o){return Jh(e,n,o)}):xp(e,n,s)}function xp(e,n,s){n.status="fulfilled",n.value=s,Cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ap(e,s)))}function Jh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(Oe){var s=We.formState;if(s!==null){e:{var o=_e;if(Oe){if(tt){t:{for(var c=tt,f=Dn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){tt=Mn(c.nextSibling),o=c.data==="F!";break e}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},s.queue=o,s=Kp.bind(null,_e,o),o.dispatch=s,o=Zh(!1),f=rf.bind(null,_e,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=WE.bind(null,_e,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Np(e){var n=pt();return Dp(n,Ke,e)}function Dp(e,n,s){if(n=Xh(e,n,Rp)[0],e=Cu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jo(n)}catch(p){throw p===va?yu:p}else o=n;n=pt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(_e.flags|=2048,ba(9,{destroy:void 0},eT.bind(null,c,s),null)),[o,f,e]}function eT(e,n){e.action=n}function Op(e){var n=pt(),s=Ke;if(s!==null)return Dp(n,s,e);pt(),n=n.memoizedState,s=pt();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=_e.updateQueue,n===null&&(n=wu(),_e.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Mp(){return pt().memoizedState}function Ru(e,n,s,o){var c=tn();_e.flags|=e,c.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Iu(e,n,s,o){var c=pt();o=o===void 0?null:o;var f=c.memoizedState.inst;Ke!==null&&o!==null&&Hh(o,Ke.memoizedState.deps)?c.memoizedState=ba(n,f,s,o):(_e.flags|=e,c.memoizedState=ba(1|n,f,s,o))}function kp(e,n){Ru(8390656,8,e,n)}function Wh(e,n){Iu(2048,8,e,n)}function tT(e){_e.flags|=4;var n=_e.updateQueue;if(n===null)n=wu(),_e.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Vp(e){var n=pt().memoizedState;return tT({ref:n,nextImpl:e}),function(){if((ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lp(e,n){return Iu(4,2,e,n)}function Up(e,n){return Iu(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,s){s=s!=null?s.concat([e]):null,Iu(4,4,jp.bind(null,n,e),s)}function ef(){}function zp(e,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Hh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Bp(e,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Hh(n,o[1]))return o[0];if(o=e(),Rr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function tf(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(Ie&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=qg(),_e.lanes|=e,xs|=e,s)}function qp(e,n,s,o){return pn(s,n)?s:Ea.current!==null?(e=tf(e,s,o),pn(e,n)||(bt=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Ie&261930)===0?(bt=!0,e.memoizedState=s):(e=qg(),_e.lanes|=e,xs|=e,n)}function Hp(e,n,s,o,c){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,rf(e,!1,n,s);try{var D=c(),P=G.S;if(P!==null&&P(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=$E(D,o);Po(e,n,F,Tn(e))}else Po(e,n,o,Tn(e))}catch(Y){Po(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function nT(){}function nf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=Gp(e).queue;Hp(e,c,n,de,s===null?nT:function(){return Fp(e),s(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),Po(e,n.next.queue,{},Tn())}function sf(){return Pt(nl)}function Qp(){return pt().memoizedState}function Yp(){return pt().memoizedState}function iT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Es(s);var o=Ts(n,e,s);o!==null&&(un(o,n,s),ko(o,n,s)),n={cache:Oh()},e.payload=n;return}n=n.return}}function sT(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Nu(e)?Xp(n,s):(s=Th(e,n,s,o),s!==null&&(un(s,e,o),$p(s,n,o)))}function Kp(e,n,s){var o=Tn();Po(e,n,s,o)}function Po(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))Xp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,pn(E,p))return cu(e,n,c,0),We===null&&uu(),!1}catch{}finally{}if(s=Th(e,n,c,o),s!==null)return un(s,e,o),$p(s,n,o),!0}return!1}function rf(e,n,s,o){if(o={lane:2,revertLane:Uf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Nu(e)){if(n)throw Error(a(479))}else n=Th(e,s,o,2),n!==null&&un(n,e,2)}function Nu(e){var n=e.alternate;return e===_e||n!==null&&n===_e}function Xp(e,n){Ta=bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function $p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ao(e,s)}}var zo={readContext:Pt,use:xu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};zo.useEffectEvent=ut;var Zp={readContext:Pt,use:xu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Pt,useEffect:kp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ru(4194308,4,jp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ru(4194308,4,e,n)},useInsertionEffect:function(e,n){Ru(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Rr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var c=s(n);if(Rr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=sT.bind(null,_e,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,s=Kp.bind(null,_e,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(e,n){var s=tn();return tf(s,e,n)},useTransition:function(){var e=Zh(!1);return e=Hp.bind(null,_e,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=_e,c=tn();if(Oe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));(Ie&127)!==0||vp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,kp(Ep.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},_p.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=We.identifierPrefix;if(Oe){var s=Ei,o=_i;s=(o&~(1<<32-ft(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ZE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=rf.bind(null,_e,!0,s),s.dispatch=n,[e,n]},useMemoCache:Kh,useCacheRefresh:function(){return tn().memoizedState=iT.bind(null,_e)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},af={readContext:Pt,use:xu,useCallback:zp,useContext:Pt,useEffect:Wh,useImperativeHandle:Pp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Bp,useReducer:Cu,useRef:Mp,useState:function(){return Cu(ji)},useDebugValue:ef,useDeferredValue:function(e,n){var s=pt();return qp(s,Ke.memoizedState,e,n)},useTransition:function(){var e=Cu(ji)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:sf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var s=pt();return bp(s,Ke,e,n)},useMemoCache:Kh,useCacheRefresh:Yp};af.useEffectEvent=Vp;var Jp={readContext:Pt,use:xu,useCallback:zp,useContext:Pt,useEffect:Wh,useImperativeHandle:Pp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Bp,useReducer:$h,useRef:Mp,useState:function(){return $h(ji)},useDebugValue:ef,useDeferredValue:function(e,n){var s=pt();return Ke===null?tf(s,e,n):qp(s,Ke.memoizedState,e,n)},useTransition:function(){var e=$h(ji)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:jo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:sf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var s=pt();return Ke!==null?bp(s,Ke,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Yp};Jp.useEffectEvent=Vp;function of(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=Es(o);c.payload=n,s!=null&&(c.callback=s),n=Ts(e,c,o),n!==null&&(un(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=Es(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ts(e,c,o),n!==null&&(un(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(un(n,e,s),ko(n,e,s))}};function Wp(e,n,s,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!xo(s,o)||!xo(c,f):!0}function eg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&lf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function tg(e){lu(e)}function ng(e){console.error(e)}function ig(e){lu(e)}function Du(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){Du(e,n)},s}function rg(e){return e=Es(e),e.tag=3,e}function ag(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){sg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){sg(n,s,o),typeof c!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rT(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,c,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Hu():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),kf(e,o,c)),!1;case 22:return s.flags|=65536,o===vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),kf(e,o,c)),!1}throw Error(a(435,s.tag))}return kf(e,o,c),Hu(),!1}if(Oe)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Ch&&(e=Error(a(422),{cause:o}),Io(Rn(e,s)))):(o!==Ch&&(n=Error(a(423),{cause:o}),Io(Rn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,s),c=uf(e.stateNode,o,c),jh(e,c),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,s),Ko===null?Ko=[f]:Ko.push(f),ct!==4&&(ct=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=uf(s.stateNode,o,e),jh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=rg(c),ag(c,e,s,o),jh(s,c),!1}s=s.return}while(s!==null);return!1}var cf=Error(a(461)),bt=!1;function zt(e,n,s,o){n.child=e===null?cp(n,null,s,o):Cr(n,e.child,s,o)}function og(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=Gh(e,n,s,p,f,c),E=Fh(),e!==null&&!bt?(Qh(e,n,c),Pi(e,n,c)):(Oe&&E&&wh(n),n.flags|=1,zt(e,n,o,c),n.child)}function lg(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!Sh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ug(e,n,f,o,c)):(e=fu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:xo,s(p,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ug(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===n.ref)if(bt=!1,n.pendingProps=o=f,vf(e,c))(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return hf(e,n,s,o,c)}function cg(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return hg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,f!==null?f.cachePool:null),f!==null?dp(n,f):zh(),mp(n);else return o=n.lanes=536870912,hg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(gu(n,f.cachePool),dp(n,f),bs(),n.memoizedState=null):(e!==null&&gu(n,null),zh(),bs());return zt(e,n,c,s),n.child}function Bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hg(e,n,s,o,c){var f=kh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gu(n,null),zh(),mp(n),e!==null&&pa(e,n,o,!0),n.childLanes=c,null}function Ou(e,n){return n=ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fg(e,n,s){return Cr(n,e.child,null,s),e=Ou(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function aT(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Oe){if(o.mode==="hidden")return e=Ou(n,o),n.lanes=536870912,Bo(null,e);if(qh(n),(e=tt)?(e=Ay(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Xm(e),s.return=n,n.child=s,jt=n,tt=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Ou(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(qh(n),c)if(n.flags&256)n.flags&=-257,n=fg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(bt||pa(e,n,s,!1),c=(s&e.childLanes)!==0,bt||c){if(o=We,o!==null&&(p=oo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,_r(e,p),un(o,e,p),cf;Hu(),n=fg(e,n,s)}else e=f.treeContext,tt=Mn(p.nextSibling),jt=n,Oe=!0,gs=null,Dn=!1,e!==null&&Jm(n,e),n=Ou(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function hf(e,n,s,o,c){return br(n),s=Gh(e,n,s,o,void 0,c),o=Fh(),e!==null&&!bt?(Qh(e,n,c),Pi(e,n,c)):(Oe&&o&&wh(n),n.flags|=1,zt(e,n,s,c),n.child)}function dg(e,n,s,o,c,f){return br(n),n.updateQueue=null,s=gp(n,o,s,c),pp(e),o=Fh(),e!==null&&!bt?(Qh(e,n,f),Pi(e,n,f)):(Oe&&o&&wh(n),n.flags|=1,zt(e,n,s,f),n.child)}function mg(e,n,s,o,c){if(br(n),n.stateNode===null){var f=ha,p=s.contextType;typeof p=="object"&&p!==null&&(f=Pt(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Lh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Pt(p):ha,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(of(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&lf.enqueueReplaceState(f,f.state,null),Lo(n,o,f,c),Vo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,D=Ir(s,E);f.props=D;var P=f.context,F=s.contextType;p=ha,typeof F=="object"&&F!==null&&(p=Pt(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&eg(n,f,o,p),_s=!1;var B=n.memoizedState;f.state=B,Lo(n,o,f,c),Vo(),P=n.memoizedState,E||B!==P||_s?(typeof Y=="function"&&(of(n,s,Y,o),P=n.memoizedState),(D=_s||Wp(n,s,D,o,B,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Uh(e,n),p=n.memoizedProps,F=Ir(s,p),f.props=F,Y=n.pendingProps,B=f.context,P=s.contextType,D=ha,typeof P=="object"&&P!==null&&(D=Pt(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==D)&&eg(n,f,o,D),_s=!1,B=n.memoizedState,f.state=B,Lo(n,o,f,c),Vo();var H=n.memoizedState;p!==Y||B!==H||_s||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof E=="function"&&(of(n,s,E,o),H=n.memoizedState),(F=_s||Wp(n,s,F,o,B,H,D)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=D,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Mu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cr(n,e.child,null,c),n.child=Cr(n,null,s,c)):zt(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function pg(e,n,s,o){return Tr(),n.flags|=256,zt(e,n,s,o),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(e){return{baseLanes:e,cachePool:sp()}}function mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function gg(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Oe){if(c?Ss(n):bs(),(e=tt)?(e=Ay(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Xm(e),s.return=n,n.child=s,jt=n,tt=null)):e=null,e===null)throw ys(n);return $f(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(bs(),c=n.mode,E=ku({mode:"hidden",children:E},c),o=Er(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=df(s),o.childLanes=mf(e,p,s),n.memoizedState=ff,Bo(null,o)):(Ss(n),pf(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=gf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,c=n.mode,o=ku({mode:"visible",children:o.children},c),E=Er(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cr(n,e.child,null,s),o=n.child,o.memoizedState=df(s),o.childLanes=mf(e,p,s),n.memoizedState=ff,n=Bo(null,o));else if(Ss(n),$f(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Io({value:o,source:null,stack:null}),n=gf(e,n,s)}else if(bt||pa(e,n,s,!1),p=(s&e.childLanes)!==0,bt||p){if(p=We,p!==null&&(o=oo(p,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,_r(e,o),un(p,e,o),cf;Xf(E)||Hu(),n=gf(e,n,s)}else Xf(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,tt=Mn(E.nextSibling),jt=n,Oe=!0,gs=null,Dn=!1,e!==null&&Jm(n,e),n=pf(n,o.children),n.flags|=4096);return n}return c?(bs(),E=o.fallback,c=n.mode,D=e.child,P=D.sibling,o=Mi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=Er(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Bo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=df(s):(c=E.cachePool,c!==null?(D=Tt._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=sp(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=mf(e,p,s),n.memoizedState=ff,Bo(e.child,o)):(Ss(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function pf(e,n){return n=ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ku(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function gf(e,n,s){return Cr(n,e.child,null,s),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nh(e.return,n,s)}function yf(e,n,s,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function vg(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(mt,p),zt(e,n,o,s),o=Oe?Ro:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yg(e,s,n);else if(e.tag===19)yg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Su(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),yf(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Su(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}yf(n,!0,s,null,f,o);break;case"together":yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function oT(e,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),vs(n,Tt,e.memoizedState.cache),Tr();break;case 27:case 5:tr(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gg(e,n,s):(Ss(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return vg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return n.lanes=0,cg(e,n,s,n.pendingProps);case 24:vs(n,Tt,e.memoizedState.cache)}return Pi(e,n,s)}function _g(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)bt=!0;else{if(!vf(e,s)&&(n.flags&128)===0)return bt=!1,oT(e,n,s);bt=(e.flags&131072)!==0}else bt=!1,Oe&&(n.flags&1048576)!==0&&Zm(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")Sh(e)?(o=Ir(e,o),n.tag=1,n=mg(null,n,e,o,s)):(n.tag=0,n=hf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Re){n.tag=11,n=og(null,n,e,o,s);break e}else if(c===N){n.tag=14,n=lg(null,n,e,o,s);break e}}throw n=je(e)||e,Error(a(306,n,""))}}return n;case 0:return hf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Ir(o,n.pendingProps),mg(e,n,o,c,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Uh(e,n),Lo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,vs(n,Tt,o),o!==f.cache&&Dh(n,[Tt],s,!0),Vo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pg(e,n,o,s);break e}else if(o!==c){c=Rn(Error(a(424)),n),Io(c),n=pg(e,n,o,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=Mn(e.firstChild),jt=n,Oe=!0,gs=null,Dn=!0,s=cp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Tr(),o===c){n=Pi(e,n,s);break e}zt(e,n,o,s)}n=n.child}return n;case 26:return Mu(e,n),e===null?(s=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:Oe||(s=n.type,e=n.pendingProps,o=$u(Ee.current).createElement(s),o[vt]=n,o[Nt]=e,Bt(o,s,e),_t(o),n.stateNode=o):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Oe&&(o=n.stateNode=Cy(n.type,n.pendingProps,Ee.current),jt=n,Dn=!0,c=tt,Ds(n.type)?(Zf=c,tt=Mn(o.firstChild)):tt=c),zt(e,n,n.pendingProps.children,s),Mu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Oe&&((c=o=tt)&&(o=UT(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,jt=n,tt=Mn(o.firstChild),Dn=!1,c=!0):c=!1),c||ys(n)),tr(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Qf(c,f)?o=null:p!==null&&Qf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Gh(e,n,JE,null,null,s),nl._currentValue=c),Mu(e,n),zt(e,n,o,s),n.child;case 6:return e===null&&Oe&&((e=s=tt)&&(s=jT(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,jt=n,tt=null,e=!0):e=!1),e||ys(n)),null;case 13:return gg(e,n,s);case 4:return Ct(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cr(n,null,o,s):zt(e,n,o,s),n.child;case 11:return og(e,n,n.type,n.pendingProps,s);case 7:return zt(e,n,n.pendingProps,s),n.child;case 8:return zt(e,n,n.pendingProps.children,s),n.child;case 12:return zt(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),zt(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,br(n),c=Pt(c),o=o(c),n.flags|=1,zt(e,n,o,s),n.child;case 14:return lg(e,n,n.type,n.pendingProps,s);case 15:return ug(e,n,n.type,n.pendingProps,s);case 19:return vg(e,n,s);case 31:return aT(e,n,s);case 22:return cg(e,n,s,n.pendingProps);case 24:return br(n),o=Pt(Tt),e===null?(c=kh(),c===null&&(c=We,f=Oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Lh(n),vs(n,Tt,c)):((e.lanes&s)!==0&&(Uh(e,n),Lo(n,null,null,s),Vo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),vs(n,Tt,o)):(o=f.cache,vs(n,Tt,o),o!==c.cache&&Dh(n,[Tt],s,!0))),zt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function _f(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Qg())e.flags|=8192;else throw xr=vu,Vh}else e.flags&=-16777217}function Eg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n))if(Qg())e.flags|=8192;else throw xr=vu,Vh}function Vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bl():536870912,e.lanes|=n,Ca|=n)}function qo(e,n){if(!Oe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lT(e,n,s){var o=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Tt),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),nt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(nt(n),Eg(n,f)):(nt(n),_f(n,c,null,o,s))):f?f!==e.memoizedState?(zi(n),nt(n),Eg(n,f)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),nt(n),_f(n,c,e,o,s)),null;case 27:if(Qr(n),s=Ee.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}e=re.current,ma(n)?Wm(n):(e=Cy(c,o,s),n.stateNode=e,zi(n))}return nt(n),null;case 5:if(Qr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(f=re.current,ma(n))Wm(n);else{var p=$u(Ee.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[vt]=n,f[Nt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Bt(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&zi(n)}}return nt(n),_f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ee.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=jt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[vt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||gy(e.nodeValue,s)),e||ys(n,!0)}else e=$u(e).createTextNode(o),e[vt]=n,n.stateNode=e}return nt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[vt]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else s=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return nt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[vt]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),c=!1}else c=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Vu(n,n.updateQueue),nt(n),null);case 4:return it(),e===null&&Bf(n.stateNode.containerInfo),nt(n),null;case 10:return Li(n.type),nt(n),null;case 19:if(K(mt),o=n.memoizedState,o===null)return nt(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)qo(o,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Su(e),f!==null){for(n.flags|=128,qo(o,!1),e=f.updateQueue,n.updateQueue=e,Vu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Km(s,e),s=s.sibling;return ie(mt,mt.current&1|2),Oe&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Wt()>zu&&(n.flags|=128,c=!0,qo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Su(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Vu(n,e),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Oe)return nt(n),null}else 2*Wt()-o.renderingStartTime>zu&&s!==536870912&&(n.flags|=128,c=!0,qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Wt(),e.sibling=null,s=mt.current,ie(mt,c?s&1|2:s&1),Oe&&ki(n,o.treeForkCount),e):(nt(n),null);case 22:case 23:return vn(n),Bh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&Vu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Ar),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Tt),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uT(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Tt),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(mt),null;case 4:return it(),null;case 10:return Li(n.type),null;case 22:case 23:return vn(n),Bh(),e!==null&&K(Ar),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Tt),null;case 25:return null;default:return null}}function Tg(e,n){switch(xh(n),n.tag){case 3:Li(Tt),it();break;case 26:case 27:case 5:Qr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(mt);break;case 10:Li(n.type);break;case 22:case 23:vn(n),Bh(),e!==null&&K(Ar);break;case 24:Li(Tt)}}function Ho(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==c)}}catch(E){Qe(n,n.return,E)}}function As(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var D=s,P=E;try{P()}catch(F){Qe(c,D,F)}}}o=o.next}while(o!==f)}}catch(F){Qe(n,n.return,F)}}function Sg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{fp(n,s)}catch(o){Qe(e,e.return,o)}}}function bg(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qe(e,n,o)}}function Go(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Qe(e,n,c)}}function Ti(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Qe(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qe(e,n,c)}else s.current=null}function Ag(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Qe(e,e.return,c)}}function Ef(e,n,s){try{var o=e.stateNode;DT(o,e.type,s,n),o[Nt]=n}catch(c){Qe(e,e.return,c)}}function wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Sf(e,n,s),e=e.sibling;e!==null;)Sf(e,n,s),e=e.sibling}function Lu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Lu(e,n,s),e=e.sibling;e!==null;)Lu(e,n,s),e=e.sibling}function xg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Bt(n,o,s),n[vt]=e,n[Nt]=s}catch(f){Qe(e,e.return,f)}}var Bi=!1,At=!1,bf=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function cT(e,n){if(e=e.containerInfo,Gf=ic,e=Pm(e),ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,D=-1,P=0,F=0,Y=e,B=null;t:for(;;){for(var H;Y!==s||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||o!==0&&Y.nodeType!==3||(D=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break t;if(B===s&&++P===c&&(E=p),B===f&&++F===o&&(D=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ff={focusedElem:e,selectionRange:s},ic=!1,Ot=n;Ot!==null;)if(n=Ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ot=e;else for(;Ot!==null;){switch(n=Ot,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ae=Ir(s.type,c);e=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){Qe(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Kf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ot=e;break}Ot=n.return}}function Rg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&Ho(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Qe(s,s.return,p)}else{var c=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qe(s,s.return,p)}}o&64&&Sg(s),o&512&&Go(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{fp(e,n)}catch(p){Qe(s,s.return,p)}}break;case 27:n===null&&o&4&&xg(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Ag(s),o&512&&Go(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&Dg(e,s);break;case 13:Hi(e,s),o&4&&Og(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=_T.bind(null,s),PT(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||At,c=Bi;var f=At;Bi=o,(At=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=c,At=f}break;case 30:break;default:Hi(e,s)}}function Ig(e){var n=e.alternate;n!==null&&(e.alternate=null,Ig(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)Ng(e,n,s),s=s.sibling}function Ng(e,n,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:At||Ti(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Ti(s,n);var o=rt,c=rn;Ds(s.type)&&(rt=s.stateNode,rn=!1),qi(e,n,s),Wo(s.stateNode),rt=o,rn=c;break;case 5:At||Ti(s,n);case 6:if(o=rt,c=rn,rt=null,qi(e,n,s),rt=o,rn=c,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(f){Qe(s,n,f)}else try{rt.removeChild(s.stateNode)}catch(f){Qe(s,n,f)}break;case 18:rt!==null&&(rn?(e=rt,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):Sy(rt,s.stateNode));break;case 4:o=rt,c=rn,rt=s.stateNode.containerInfo,rn=!0,qi(e,n,s),rt=o,rn=c;break;case 0:case 11:case 14:case 15:As(2,s,n),At||As(4,s,n),qi(e,n,s);break;case 1:At||(Ti(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&bg(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:At=(o=At)||s.memoizedState!==null,qi(e,n,s),At=o;break;default:qi(e,n,s)}}function Dg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Qe(n,n.return,s)}}}function Og(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Qe(n,n.return,s)}}function hT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cg),n;default:throw Error(a(435,e.tag))}}function Uu(e,n){var s=hT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=ET.bind(null,e,o);o.then(c,c)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){rt=E.stateNode,rn=!1;break e}break;case 5:rt=E.stateNode,rn=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(a(160));Ng(f,p,c),rt=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Mg(n,e),n=n.sibling}var Qn=null;function Mg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(As(3,e,e.return),Ho(3,e),As(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(At||s===null||Ti(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Qn;if(an(n,e),on(e),o&512&&(At||s===null||Ti(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[oi]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Bt(f,o,s),f[vt]=e,_t(f),o=f;break e;case"link":var p=My("link","href",c).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=c.createElement(o),Bt(f,o,s),c.head.appendChild(f);break;case"meta":if(p=My("meta","content",c).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=c.createElement(o),Bt(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=e,_t(f),o=f}e.stateNode=o}else ky(c,e.type,e.stateNode);else e.stateNode=Oy(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?ky(c,e.type,e.stateNode):Oy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(At||s===null||Ti(s,s.return)),s!==null&&o&4&&Ef(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(At||s===null||Ti(s,s.return)),e.flags&32){c=e.stateNode;try{sn(c,"")}catch(ae){Qe(e,e.return,ae)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Ef(e,c,s!==null?s.memoizedProps:c)),o&1024&&(bf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ae){Qe(e,e.return,ae)}}break;case 3:if(Wu=null,c=Qn,Qn=Zu(n.containerInfo),an(n,e),Qn=c,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(ae){Qe(e,e.return,ae)}bf&&(bf=!1,kg(e));break;case 4:o=Qn,Qn=Zu(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pu=Wt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 22:c=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,P=Bi,F=At;if(Bi=P||c,At=F||D,an(n,e),At=F,Bi=P,on(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||Bi||At||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var Y=D.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ae){Qe(D,D.return,ae)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ae){Qe(D,D.return,ae)}}}else if(n.tag===18){if(s===null){D=n;try{var H=D.stateNode;c?by(H,!0):by(D.stateNode,!1)}catch(ae){Qe(D,D.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Uu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(wg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Tf(e);Lu(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Tf(e);Lu(e,E,p);break;case 3:case 4:var D=s.stateNode.containerInfo,P=Tf(e);Sf(e,P,D);break;default:throw Error(a(161))}}catch(F){Qe(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Nr(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&bg(n,n.return,s),Nr(n);break;case 27:Wo(n.stateNode);case 26:case 5:Ti(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,s),Ho(4,f);break;case 1:if(Gi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qe(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)hp(D[c],E)}catch(P){Qe(o,o.return,P)}}s&&p&64&&Sg(f),Go(f,f.return);break;case 27:xg(f);case 26:case 5:Gi(c,f,s),s&&o===null&&p&4&&Ag(f),Go(f,f.return);break;case 12:Gi(c,f,s);break;case 31:Gi(c,f,s),s&&p&4&&Dg(c,f);break;case 13:Gi(c,f,s),s&&p&4&&Og(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,s),Go(f,f.return);break;case 30:break;default:Gi(c,f,s)}n=n.sibling}}function Af(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&No(s))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vg(e,n,s,o),n=n.sibling}function Vg(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),c&2048&&Ho(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(c&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Qe(n,n.return,D)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):Fo(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Af(p,n);break;case 24:Yn(e,n,s,o),c&2048&&wf(n.alternate,n);break;default:Yn(e,n,s,o)}}function Aa(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,D=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,D,c),Ho(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Aa(f,p,E,D,c):Fo(f,p):(F._visibility|=2,Aa(f,p,E,D,c)),c&&P&2048&&Af(p.alternate,p);break;case 24:Aa(f,p,E,D,c),c&&P&2048&&wf(p.alternate,p);break;default:Aa(f,p,E,D,c)}n=n.sibling}}function Fo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Fo(s,o),c&2048&&Af(o.alternate,o);break;case 24:Fo(s,o),c&2048&&wf(o.alternate,o);break;default:Fo(s,o)}n=n.sibling}}var Qo=8192;function wa(e,n,s){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Lg(e,n,s),e=e.sibling}function Lg(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Qo&&e.memoizedState!==null&&ZT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Qn;Qn=Zu(e.stateNode.containerInfo),wa(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,wa(e,n,s),Qo=o):wa(e,n,s));break;default:wa(e,n,s)}}function Ug(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,Pg(o,e)}Ug(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jg(e),e=e.sibling}function jg(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&As(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ju(e)):Yo(e);break;default:Yo(e)}}function ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,Pg(o,e)}Ug(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ju(n));break;default:ju(n)}e=e.sibling}}function Pg(e,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ot=o;else e:for(s=e;Ot!==null;){o=Ot;var c=o.sibling,f=o.return;if(Ig(o),o===s){Ot=null;break e}if(c!==null){c.return=f,Ot=c;break e}Ot=f}}}var fT={getCacheForType:function(e){var n=Pt(Tt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pt(Tt).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,ze=0,We=null,xe=null,Ie=0,Fe=0,_n=null,ws=!1,xa=!1,xf=!1,Fi=0,ct=0,xs=0,Dr=0,Cf=0,En=0,Ca=0,Ko=null,ln=null,Rf=!1,Pu=0,zg=0,zu=1/0,Bu=null,Cs=null,It=0,Rs=null,Ra=null,Qi=0,If=0,Nf=null,Bg=null,Xo=0,Df=null;function Tn(){return(ze&2)!==0&&Ie!==0?Ie&-Ie:G.T!==null?Uf():ql()}function qg(){if(En===0)if((Ie&536870912)===0||Oe){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,s){(e===We&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Is(e,Ie,En,!1)),rr(e,s),((ze&2)===0||e!==We)&&(e===We&&((ze&2)===0&&(Dr|=s),ct===4&&Is(e,Ie,En,!1)),Si(e))}function Hg(e,n,s){if((ze&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),c=o?gT(e,n):Mf(e,n,!0),f=o;do{if(c===0){xa&&!o&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mT(s)){c=Mf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=e;c=Ko;var D=E.current.memoizedState.isDehydrated;if(D&&(Ia(E,p).flags|=256),p=Mf(E,p,!1),p!==2){if(xf&&!D){E.errorRecoveryDisabledLanes|=f,Dr|=f,c=4;break e}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ia(e,0),Is(e,n,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,En,!ws);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Pu+300-Wt(),10<c)){if(Is(o,n,En,!ws),si(o,0,!0)!==0)break e;Qi=n,o.timeoutHandle=Ey(Gg.bind(null,o,s,ln,Bu,Rf,n,En,Dr,Ca,ws,f,"Throttled",-0,0),c);break e}Gg(o,s,ln,Bu,Rf,n,En,Dr,Ca,ws,f,null,-0,0)}}break}while(!0);Si(e)}function Gg(e,n,s,o,c,f,p,E,D,P,F,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Lg(n,f,Y);var ae=(f&62914560)===f?Pu-Wt():(f&4194048)===f?zg-Wt():0;if(ae=JT(Y,ae),ae!==null){Qi=f,e.cancelPendingCommit=ae(Jg.bind(null,e,n,f,s,o,c,p,E,D,F,Y,null,B,H)),Is(e,f,p,!P);return}}Jg(e,n,f,s,o,c,p,E,D)}function mT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,o){n&=~Cf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ft(c),p=1<<f;o[f]=-1,c&=~p}s!==0&&ar(e,s,n)}function qu(){return(ze&6)===0?($o(0),!1):!0}function Of(){if(xe!==null){if(Fe===0)var e=xe.return;else e=xe,Vi=Sr=null,Yh(e),_a=null,Oo=0,e=xe;for(;e!==null;)Tg(e.alternate,e),e=e.return;xe=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,kT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Of(),We=e,xe=s=Mi(e.current,null),Ie=n,Fe=0,_n=null,ws=!1,xa=Un(e,n),xf=!1,Ca=En=Cf=Dr=xs=ct=0,ln=Ko=null,Rf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ft(o),f=1<<c;n|=e[c],o&=~f}return Fi=n,uu(),s}function Fg(e,n){_e=null,G.H=zo,n===va||n===yu?(n=op(),Fe=3):n===Vh?(n=op(),Fe=4):Fe=n===cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,xe===null&&(ct=1,Du(e,Rn(n,e.current)))}function Qg(){var e=yn.current;return e===null?!0:(Ie&4194048)===Ie?On===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?e===On:!1}function Yg(){var e=G.H;return G.H=zo,e===null?zo:e}function Kg(){var e=G.A;return G.A=fT,e}function Hu(){ct=4,ws||(Ie&4194048)!==Ie&&yn.current!==null||(xa=!0),(xs&134217727)===0&&(Dr&134217727)===0||We===null||Is(We,Ie,En,!1)}function Mf(e,n,s){var o=ze;ze|=2;var c=Yg(),f=Kg();(We!==e||Ie!==n)&&(Bu=null,Ia(e,n)),n=!1;var p=ct;e:do try{if(Fe!==0&&xe!==null){var E=xe,D=_n;switch(Fe){case 8:Of(),p=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Fe;if(Fe=0,_n=null,Na(e,E,D,P),s&&xa){p=0;break e}break;default:P=Fe,Fe=0,_n=null,Na(e,E,D,P)}}pT(),p=ct;break}catch(F){Fg(e,F)}while(!0);return n&&e.shellSuspendCounter++,Vi=Sr=null,ze=o,G.H=c,G.A=f,xe===null&&(We=null,Ie=0,uu()),p}function pT(){for(;xe!==null;)Xg(xe)}function gT(e,n){var s=ze;ze|=2;var o=Yg(),c=Kg();We!==e||Ie!==n?(Bu=null,zu=Wt()+500,Ia(e,n)):xa=Un(e,n);e:do try{if(Fe!==0&&xe!==null){n=xe;var f=_n;t:switch(Fe){case 1:Fe=0,_n=null,Na(e,n,f,1);break;case 2:case 9:if(rp(f)){Fe=0,_n=null,$g(n);break}n=function(){Fe!==2&&Fe!==9||We!==e||(Fe=7),Si(e)},f.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:rp(f)?(Fe=0,_n=null,$g(n)):(Fe=0,_n=null,Na(e,n,f,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var E=xe;if(p?Vy(p):E.stateNode.complete){Fe=0,_n=null;var D=E.sibling;if(D!==null)xe=D;else{var P=E.return;P!==null?(xe=P,Gu(P)):xe=null}break t}}Fe=0,_n=null,Na(e,n,f,5);break;case 6:Fe=0,_n=null,Na(e,n,f,6);break;case 8:Of(),ct=6;break e;default:throw Error(a(462))}}yT();break}catch(F){Fg(e,F)}while(!0);return Vi=Sr=null,G.H=o,G.A=c,ze=s,xe!==null?0:(We=null,Ie=0,uu(),ct)}function yT(){for(;xe!==null&&!lh();)Xg(xe)}function Xg(e){var n=_g(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Gu(e):xe=n}function $g(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dg(s,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=dg(s,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:Yh(n);default:Tg(s,n),n=xe=Km(n,Fi),n=_g(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Gu(e):xe=n}function Na(e,n,s,o){Vi=Sr=null,Yh(n),_a=null,Oo=0;var c=n.return;try{if(rT(e,c,n,s,Ie)){ct=1,Du(e,Rn(s,e.current)),xe=null;return}}catch(f){if(c!==null)throw xe=c,f;ct=1,Du(e,Rn(s,e.current)),xe=null;return}n.flags&32768?(Oe||o===1?e=!0:xa||(Ie&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zg(n,e)):Gu(n)}function Gu(e){var n=e;do{if((n.flags&32768)!==0){Zg(n,ws);return}e=n.return;var s=lT(n.alternate,n,Fi);if(s!==null){xe=s;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);ct===0&&(ct=5)}function Zg(e,n){do{var s=uT(e.alternate,e);if(s!==null){s.flags&=32767,xe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xe=e;return}xe=e=s}while(e!==null);ct=6,xe=null}function Jg(e,n,s,o,c,f,p,E,D){e.cancelPendingCommit=null;do Fu();while(It!==0);if((ze&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,hh(e,s,f,p,E,D),e===We&&(xe=We=null,Ie=0),Ra=n,Rs=e,Qi=s,If=f,Nf=c,Bg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TT(rs,function(){return iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=ne.p,ne.p=2,p=ze,ze|=4;try{cT(e,n,s)}finally{ze=p,ne.p=c,G.T=o}}It=1,Wg(),ey(),ty()}}function Wg(){if(It===1){It=0;var e=Rs,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var c=ze;ze|=4;try{Mg(n,e);var f=Ff,p=Pm(e.containerInfo),E=f.focusedElem,D=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&jm(E.ownerDocument.documentElement,E)){if(D!==null&&ph(E)){var P=D.start,F=D.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ae=E.textContent.length,me=Math.min(D.start,ae),$e=D.end===void 0?me:Math.min(D.end,ae);!H.extend&&me>$e&&(p=$e,$e=me,me=p);var V=Um(E,me),M=Um(E,$e);if(V&&M&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=Y.createRange();j.setStart(V.node,V.offset),H.removeAllRanges(),me>$e?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ic=!!Gf,Ff=Gf=null}finally{ze=c,ne.p=o,G.T=s}}e.current=n,It=2}}function ey(){if(It===2){It=0;var e=Rs,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=ne.p;ne.p=2;var c=ze;ze|=4;try{Rg(e,n.alternate,n)}finally{ze=c,ne.p=o,G.T=s}}It=3}}function ty(){if(It===4||It===3){It=0,Vl();var e=Rs,n=Ra,s=Qi,o=Bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,Ra=Rs=null,ny(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Cs=null),Ii(s),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,c=ne.p,ne.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=c}}(Qi&3)!==0&&Fu(),Si(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Df?Xo++:(Xo=0,Df=e):Xo=0,$o(0)}}function ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function Fu(){return Wg(),ey(),ty(),iy()}function iy(){if(It!==5)return!1;var e=Rs,n=If;If=0;var s=Ii(Qi),o=G.T,c=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Nf,Nf=null;var f=Rs,p=Qi;if(It=0,Ra=Rs=null,Qi=0,(ze&6)!==0)throw Error(a(331));var E=ze;if(ze|=4,jg(f.current),Vg(f,f.current,p,s),ze=E,$o(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{ne.p=c,G.T=o,ny(e,n)}}function sy(e,n,s){n=Rn(s,n),n=uf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(rr(e,2),Si(e))}function Qe(e,n,s){if(e.tag===3)sy(e,e,s);else for(;n!==null;){if(n.tag===3){sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=Rn(s,e),s=rg(2),o=Ts(n,s,2),o!==null&&(ag(s,o,n,e),rr(o,2),Si(o));break}}n=n.return}}function kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new dT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(xf=!0,c.add(s),e=vT.bind(null,e,n,s),n.then(e,e))}function vT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,We===e&&(Ie&s)===s&&(ct===4||ct===3&&(Ie&62914560)===Ie&&300>Wt()-Pu?(ze&2)===0&&Ia(e,0):Cf|=s,Ca===Ie&&(Ca=0)),Si(e)}function ry(e,n){n===0&&(n=Bl()),e=_r(e,n),e!==null&&(rr(e,n),Si(e))}function _T(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ry(e,s)}function ET(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ry(e,s)}function TT(e,n){return Rt(e,n)}var Qu=null,Da=null,Vf=!1,Yu=!1,Lf=!1,Ns=0;function Si(e){e!==Da&&e.next===null&&(Da===null?Qu=Da=e:Da=Da.next=e),Yu=!0,Vf||(Vf=!0,bT())}function $o(e,n){if(!Lf&&Yu){Lf=!0;do for(var s=!1,o=Qu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,uy(o,f))}else f=Ie,f=si(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(s=!0,uy(o,f));o=o.next}while(s);Lf=!1}}function ST(){ay()}function ay(){Yu=Vf=!1;var e=0;Ns!==0&&MT()&&(e=Ns);for(var n=Wt(),s=null,o=Qu;o!==null;){var c=o.next,f=oy(o,n);f===0?(o.next=null,s===null?Qu=c:s.next=c,c===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(Yu=!0)),o=c}It!==0&&It!==5||$o(e),Ns!==0&&(Ns=0)}function oy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ft(f),E=1<<p,D=c[p];D===-1?((E&s)===0||(E&o)!==0)&&(c[p]=ch(E,n)):D<=n&&(e.expiredLanes|=E),f&=~E}if(n=We,s=Ie,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Un(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ii(s)){case 2:case 8:s=ro;break;case 32:s=rs;break;case 268435456:s=Ll;break;default:s=rs}return o=ly.bind(null,e),s=Rt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fu()&&e.callbackNode!==s)return null;var o=Ie;return o=si(e,e===We?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hg(e,o,n),oy(e,Wt()),e.callbackNode!=null&&e.callbackNode===s?ly.bind(null,e):null)}function uy(e,n){if(Fu())return null;Hg(e,n,!0)}function bT(){VT(function(){(ze&6)!==0?Rt(so,ST):ay()})}function Uf(){if(Ns===0){var e=ga;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ns=e}return Ns}function cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function hy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function AT(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=cy((c[Nt]||null).action),p=o.submitter;p&&(n=(n=p[Nt]||null)?cy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var D=p?hy(c,p):new FormData(c);nf(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=p?hy(c,p):new FormData(c),nf(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var jf=0;jf<_h.length;jf++){var Pf=_h[jf],wT=Pf.toLowerCase(),xT=Pf[0].toUpperCase()+Pf.slice(1);Fn(wT,"on"+xT)}Fn(qm,"onAnimationEnd"),Fn(Hm,"onAnimationIteration"),Fn(Gm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(qE,"onTransitionRun"),Fn(HE,"onTransitionStart"),Fn(GE,"onTransitionCancel"),Fn(Fm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function fy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],D=E.instance,P=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=P;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=D}else for(p=0;p<o.length;p++){if(E=o[p],D=E.instance,P=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=P;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=D}}}}function Ce(e,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var o=e+"__bubble";s.has(o)||(dy(n,e,2,!1),s.add(o))}function zf(e,n,s){var o=0;n&&(o|=4),dy(s,e,o,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Ku]){e[Ku]=!0,lo.forEach(function(s){s!=="selectionchange"&&(CT.has(s)||zf(s,!1,e),zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,zf("selectionchange",!1,n))}}function dy(e,n,s,o){switch(qy(n)){case 2:var c=tS;break;case 8:c=nS;break;default:c=nd}s=c.bind(null,n,s,e),c=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function qf(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=o.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=li(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){o=f=p;continue e}E=E.parentNode}}o=o.return}hs(function(){var P=f,F=An(s),Y=[];e:{var B=Qm.get(e);if(B!==void 0){var H=pi,ae=e;switch(e){case"keypress":if(dr(s)===0)break e;case"keydown":case"keyup":H=ru;break;case"focusin":ae="focus",H=pr;break;case"focusout":ae="blur",H=pr;break;case"beforeblur":case"afterblur":H=pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qm:case Hm:case Gm:H=Jl;break;case Fm:H=S;break;case"scroll":case"scrollend":H=To;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oi;break;case"toggle":case"beforetoggle":H=ve}var me=(n&4)!==0,$e=!me&&(e==="scroll"||e==="scrollend"),V=me?B!==null?B+"Capture":null:B;me=[];for(var M=P,j;M!==null;){var Q=M;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||V===null||(Q=Bn(M,V),Q!=null&&me.push(Jo(M,Q,j))),$e)break;M=M.return}0<me.length&&(B=new H(B,ae,null,s,F),Y.push({event:B,listeners:me}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==vo&&(ae=s.relatedTarget||s.fromElement)&&(li(ae)||ae[ai]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ae=s.relatedTarget||s.toElement,H=P,ae=ae?li(ae):null,ae!==null&&($e=h(ae),me=ae.tag,ae!==$e||me!==5&&me!==27&&me!==6)&&(ae=null)):(H=null,ae=P),H!==ae)){if(me=So,Q="onMouseLeave",V="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(me=Oi,Q="onPointerLeave",V="onPointerEnter",M="pointer"),$e=H==null?B:dn(H),j=ae==null?B:dn(ae),B=new me(Q,M+"leave",H,s,F),B.target=$e,B.relatedTarget=j,Q=null,li(F)===P&&(me=new me(V,M+"enter",ae,s,F),me.target=j,me.relatedTarget=$e,Q=me),$e=Q,H&&ae)t:{for(me=RT,V=H,M=ae,j=0,Q=V;Q;Q=me(Q))j++;Q=0;for(var he=M;he;he=me(he))Q++;for(;0<j-Q;)V=me(V),j--;for(;0<Q-j;)M=me(M),Q--;for(;j--;){if(V===M||M!==null&&V===M.alternate){me=V;break t}V=me(V),M=me(M)}me=null}else me=null;H!==null&&my(Y,B,H,me,!1),ae!==null&&$e!==null&&my(Y,$e,ae,me,!0)}}e:{if(B=P?dn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Le=Dm;else if(Im(B))if(Om)Le=PE;else{Le=UE;var le=LE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ea(P.elementType)&&(Le=Dm):Le=jE;if(Le&&(Le=Le(e,P))){Nm(Y,Le,s,F);break e}le&&le(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&po(B,"number",B.value)}switch(le=P?dn(P):window,e){case"focusin":(Im(le)||le.contentEditable==="true")&&(la=le,gh=P,Co=null);break;case"focusout":Co=gh=la=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,zm(Y,s,F);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":zm(Y,s,F)}var Te;if(Pe)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else oa?gr(e,s)&&(Ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(vi&&s.locale!=="ko"&&(oa||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&oa&&(Te=Eo()):(mi=F,_o="value"in mi?mi.value:mi.textContent,oa=!0)),le=Xu(P,Ne),0<le.length&&(Ne=new yi(Ne,e,null,s,F),Y.push({event:Ne,listeners:le}),Te?Ne.data=Te:(Te=aa(s),Te!==null&&(Ne.data=Te)))),(Te=xn?OE(e,s):ME(e,s))&&(Ne=Xu(P,"onBeforeInput"),0<Ne.length&&(le=new yi("onBeforeInput","beforeinput",null,s,F),Y.push({event:le,listeners:Ne}),le.data=Te)),AT(Y,e,P,s,F)}fy(Y,n)})}function Jo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xu(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,s),c!=null&&o.unshift(Jo(e,c,f)),c=Bn(e,n),c!=null&&o.push(Jo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function RT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function my(e,n,s,o,c){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,D=E.alternate,P=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||P===null||(D=P,c?(P=Bn(s,f),P!=null&&p.unshift(Jo(s,P,D))):c||(P=Bn(s,f),P!=null&&p.push(Jo(s,P,D)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var IT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(NT,"")}function gy(e,n){return n=py(n),py(e)===n}function Xe(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":yo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xe(e,n,"name",c.name,c,null),Xe(e,n,"formEncType",c.formEncType,c,null),Xe(e,n,"formMethod",c.formMethod,c,null),Xe(e,n,"formTarget",c.formTarget,c,null)):(Xe(e,n,"encType",c.encType,c,null),Xe(e,n,"method",c.method,c,null),Xe(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Jr(e,"popover",o);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xl.get(s)||s,Jr(e,s,o))}}function Hf(e,n,s,o,c,f){switch(s){case"style":yo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Nt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Jr(e,s,o)}}}function Bt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,f,p,s,null)}}c&&Xe(e,n,"srcSet",s.srcSet,s,null),o&&Xe(e,n,"src",s.src,s,null);return;case"input":Ce("invalid",e);var E=f=p=c=null,D=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":c=F;break;case"type":p=F;break;case"checked":D=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xe(e,n,o,F,s,null)}}Ql(e,f,E,D,P,p,c,!1);return;case"select":Ce("invalid",e),o=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xe(e,n,c,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Ce("invalid",e),f=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xe(e,n,p,E,s,null)}ls(e,o,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xe(e,n,D,o,s,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Ce(Zo[o],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,P,o,s,null)}return;default:if(ea(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&Hf(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xe(e,n,E,o,s,null))}function DT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,D=null,P=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Y;default:o.hasOwnProperty(H)||Xe(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Xe(e,n,B,H,o,Y)}}Wr(e,p,E,D,P,F,f,c);return;case"select":H=p=E=B=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:o.hasOwnProperty(f)||Xe(e,n,f,null,o,D)}for(c in o)if(f=o[c],D=s[c],o.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==D&&Xe(e,n,c,f,o,D)}n=E,s=p,o=H,B!=null?os(e,!!s,B,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(e,n,E,null,o,c)}for(p in o)if(c=o[p],f=s[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xe(e,n,p,c,o,f)}Yl(e,B,H);return;case"option":for(var ae in s)if(B=s[ae],s.hasOwnProperty(ae)&&B!=null&&!o.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Xe(e,n,ae,null,o,B)}for(D in o)if(B=o[D],H=s[D],o.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xe(e,n,D,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)B=s[me],s.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me)&&Xe(e,n,me,null,o,B);for(P in o)if(B=o[P],H=s[P],o.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Xe(e,n,P,B,o,H)}return;default:if(ea(n)){for(var $e in s)B=s[$e],s.hasOwnProperty($e)&&B!==void 0&&!o.hasOwnProperty($e)&&Hf(e,n,$e,void 0,o,B);for(F in o)B=o[F],H=s[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Hf(e,n,F,B,o,H);return}}for(var V in s)B=s[V],s.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&Xe(e,n,V,null,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||Xe(e,n,Y,B,o,H)}function yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&yy(p)){for(p=0,E=c.responseEnd,o+=1;o<s.length;o++){var D=s[o],P=D.startTime;if(P>E)break;var F=D.transferSize,Y=D.initiatorType;F&&yy(Y)&&(D=D.responseEnd,p+=F*(D<E?1:(E-P)/(D-P)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gf=null,Ff=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function vy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,kT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(LT)}:Ey;function LT(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Sy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Va(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Wo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Wo(e.ownerDocument.body);s=c}while(s);Va(n)}function by(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kf(s),Zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function UT(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function jT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Ay(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$?"||e.data==="$~"}function $f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zf=null;function wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Cy(e,n,s){switch(n=$u(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zr(e)}var kn=new Map,Ry=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=ne.d;ne.d={f:zT,r:BT,D:qT,C:HT,L:GT,m:FT,X:YT,S:QT,M:KT};function zT(){var e=Yi.f(),n=qu();return e||n}function BT(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):Yi.r(e)}var Oa=typeof document>"u"?null:document;function Iy(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ry.has(c)||(Ry.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Bt(n,"link",e),_t(n),o.head.appendChild(n)))}}function qT(e){Yi.D(e),Iy("dns-prefetch",e,null)}function HT(e,n){Yi.C(e,n),Iy("preconnect",e,n)}function GT(e,n,s){Yi.L(e,n,s);var o=Oa;if(o&&e&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+nn(s.imageSizes)+'"]')):c+='[href="'+nn(e)+'"]';var f=c;switch(n){case"style":f=Ma(e);break;case"script":f=ka(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(tl(f))||(n=o.createElement("link"),Bt(n,"link",e),_t(n),o.head.appendChild(n)))}}function FT(e,n){Yi.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tl(f)))return}o=s.createElement("link"),Bt(o,"link",e),_t(o),s.head.appendChild(o)}}}function QT(e,n,s){Yi.S(e,n,s);var o=Oa;if(o&&e){var c=ui(o).hoistableStyles,f=Ma(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(el(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&Jf(e,s);var D=p=o.createElement("link");_t(D),Bt(D,"link",e),D._p=new Promise(function(P,F){D.onload=P,D.onerror=F}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function YT(e,n){Yi.X(e,n);var s=Oa;if(s&&e){var o=ui(s).hoistableScripts,c=ka(e),f=o.get(c);f||(f=s.querySelector(tl(c)),f||(e=w({src:e,async:!0},n),(n=kn.get(c))&&Wf(e,n),f=s.createElement("script"),_t(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function KT(e,n){Yi.M(e,n);var s=Oa;if(s&&e){var o=ui(s).hoistableScripts,c=ka(e),f=o.get(c);f||(f=s.querySelector(tl(c)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(c))&&Wf(e,n),f=s.createElement("script"),_t(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ny(e,n,s,o){var c=(c=Ee.current)?Zu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=ui(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=ui(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(el(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||XT(c,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=ui(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function XT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Bt(n,"link",s),_t(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function tl(e){return"script[async]"+e}function Oy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_t(o),o;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_t(o),Bt(o,"style",c),Ju(o,s.precedence,e),n.instance=o;case"stylesheet":c=Ma(s.href);var f=e.querySelector(el(c));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;o=Dy(s),(c=kn.get(c))&&Jf(o,c),f=(e.ownerDocument||e).createElement("link"),_t(f);var p=f;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Bt(f,"link",o),n.state.loading|=4,Ju(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(c=e.querySelector(tl(f)))?(n.instance=c,_t(c),c):(o=s,(c=kn.get(f))&&(o=w({},s),Wf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_t(c),Bt(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ju(o,s.precedence,e));return n.instance}function Ju(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wu=null;function My(e,n,s){if(Wu===null){var o=new Map,c=Wu=new Map;c.set(s,o)}else c=Wu,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[oi]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function ky(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function $T(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZT(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ma(o.href),f=n.querySelector(el(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_t(f);return}f=n.ownerDocument||n,o=Dy(o),(c=kn.get(c))&&Jf(o,c),f=f.createElement("link"),_t(f);var p=f;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Bt(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ed=0;function JT(e,n){return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ed===0&&(ed=62500*OT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function nc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,n.forEach(WT,e),tc=null,ec.call(e))}function WT(e,n){if(!(n.state.loading&4)){var s=tc.get(e);if(s)var o=s.get(null);else{s=new Map,tc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,c),s.set(p,c),this.count++,o=ec.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function eS(e,n,s,o,c,f,p,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ly(e,n,s,o,c,f,p,E,D,P,F,Y){return e=new eS(e,n,s,p,D,P,F,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Oh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Lh(f),e}function Uy(e){return e?(e=ha,e):ha}function jy(e,n,s,o,c,f){c=Uy(c),o.context===null?o.context=c:o.pendingContext=c,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(un(s,e,n),ko(s,e,n))}function Py(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function td(e,n){Py(e,n),(e=e.alternate)&&Py(e,n)}function zy(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&un(n,e,67108864),td(e,67108864)}}function By(e){if(e.tag===13||e.tag===31){var n=Tn();n=or(n);var s=_r(e,n);s!==null&&un(s,e,n),td(e,n)}}var ic=!0;function tS(e,n,s,o){var c=G.T;G.T=null;var f=ne.p;try{ne.p=2,nd(e,n,s,o)}finally{ne.p=f,G.T=c}}function nS(e,n,s,o){var c=G.T;G.T=null;var f=ne.p;try{ne.p=8,nd(e,n,s,o)}finally{ne.p=f,G.T=c}}function nd(e,n,s,o){if(ic){var c=id(o);if(c===null)qf(e,n,o,sc,s),Hy(e,o);else if(sS(c,e,n,s,o))o.stopPropagation();else if(Hy(e,o),n&4&&-1<iS.indexOf(e)){for(;c!==null;){var f=bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ii(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-ft(p);E.entanglements[1]|=D,p&=~D}Si(f),(ze&6)===0&&(zu=Wt()+500,$o(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&un(E,f,2),qu(),td(f,2)}if(f=id(o),f===null&&qf(e,n,o,sc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else qf(e,n,o,null,s)}}function id(e){return e=An(e),sd(e)}var sc=null;function sd(e){if(sc=null,e=li(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return sc=e,null}function qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case so:return 2;case ro:return 8;case rs:case uh:return 32;case Ll:return 268435456;default:return 32}default:return 32}}var rd=!1,Os=null,Ms=null,ks=null,il=new Map,sl=new Map,Vs=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function rl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bn(n),n!==null&&zy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function sS(e,n,s,o,c){switch(n){case"focusin":return Os=rl(Os,e,n,s,o,c),!0;case"dragenter":return Ms=rl(Ms,e,n,s,o,c),!0;case"mouseover":return ks=rl(ks,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return il.set(f,rl(il.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,sl.set(f,rl(sl.get(f)||null,e,n,s,o,c)),!0}return!1}function Gy(e){var n=li(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){By(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,jn(e.priority,function(){By(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);vo=o,s.target.dispatchEvent(o),vo=null}else return n=bn(s),n!==null&&zy(n),e.blockedOn=s,!1;n.shift()}return!0}function Fy(e,n,s){rc(e)&&s.delete(n)}function rS(){rd=!1,Os!==null&&rc(Os)&&(Os=null),Ms!==null&&rc(Ms)&&(Ms=null),ks!==null&&rc(ks)&&(ks=null),il.forEach(Fy),sl.forEach(Fy)}function ac(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rS)))}var oc=null;function Qy(e){oc!==e&&(oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(sd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Va(e){function n(D){return ac(D,e)}Os!==null&&ac(Os,e),Ms!==null&&ac(Ms,e),ks!==null&&ac(ks,e),il.forEach(n),sl.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)Gy(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=c[Nt]||null;if(typeof f=="function")p||Qy(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Nt]||null)E=p.formAction;else if(sd(c)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Qy(s)}}}function Yy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ad(e){this._internalRoot=e}lc.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();jy(s,o,e,n,null,null)},lc.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jy(e.current,2,null,e,null,null),qu(),n[ai]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ql();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&Gy(e)}};var Ky=t.version;if(Ky!=="19.2.0")throw Error(a(527,Ky,"19.2.0"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var aS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Ln=uc.inject(aS),Lt=uc}catch{}}return ol.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=tg,f=ng,p=ig;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ly(e,1,!1,null,null,s,o,null,c,f,p,Yy),e[ai]=n.current,Bf(e),new ad(n)},ol.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",f=tg,p=ng,E=ig,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=Ly(e,1,!0,n,s??null,o,c,D,f,p,E,Yy),n.context=Uy(null),s=n.current,o=Tn(),o=or(o),c=Es(o),c.callback=null,Ts(s,c,o),s=o,n.current.lanes=s,rr(n,s),Si(n),e[ai]=n.current,Bf(e),new lc(n)},ol.version="19.2.0",ol}var sv;function gS(){if(sv)return ld.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=pS(),ld.exports}var yS=gS(),Ze=Qd();const Ks=[5,2,0,-1,-2,-5,-8,-10],vS=["TikTok","WhatsApp"],Vn=1e3,qs=10,_S="WTPSurveyDB",ES=1,Xs="surveys",Yd=()=>new Promise((r,t)=>{const i=indexedDB.open(_S,ES);i.onerror=()=>t(i.error),i.onsuccess=()=>r(i.result),i.onupgradeneeded=a=>{const l=a.target.result;if(!l.objectStoreNames.contains(Xs)){const h=l.createObjectStore(Xs,{keyPath:"id"});h.createIndex("participantId","surveyData.participantId",{unique:!1}),h.createIndex("synced","synced",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}}}),rv=async r=>{try{const i=(await Yd()).transaction([Xs],"readwrite"),a=i.objectStore(Xs),l=a.get(r.id);return new Promise((h,d)=>{l.onsuccess=()=>{const y=l.result;y&&y.synced&&!r.synced&&console.warn(`WARNING: Attempting to overwrite synced survey ${r.id}. This might indicate a bug with survey ID generation.`),a.put(r)},l.onerror=()=>d(l.error),i.oncomplete=()=>h(),i.onerror=()=>d(i.error)})}catch(t){throw console.error("IndexedDB save error:",t),t}},Or=async()=>{try{const i=(await Yd()).transaction([Xs],"readonly").objectStore(Xs);return new Promise((a,l)=>{const h=i.getAll();h.onsuccess=()=>a(h.result),h.onerror=()=>l(h.error)})}catch(r){return console.error("IndexedDB get all error:",r),[]}},av=async(r,t)=>{try{const a=(await Yd()).transaction([Xs],"readwrite"),l=a.objectStore(Xs),h=l.get(r);return new Promise((d,y)=>{h.onsuccess=()=>{const v=h.result;v&&(v.synced=t,v.syncedAt=t?new Date().toISOString():null,l.put(v))},a.oncomplete=()=>d(),a.onerror=()=>y(a.error)})}catch(i){throw console.error("IndexedDB update sync status error:",i),i}},TS=()=>{try{return"indexedDB"in window&&indexedDB!==null}catch{return!1}},Ki=async(r,t)=>{if(!TS())return console.warn("IndexedDB not available, using fallback"),t;try{return await r()}catch(i){return console.error("IndexedDB operation failed:",i),t}},SS=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],y=r[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,y=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,R=h>>2,w=(h&3)<<4|y>>4;let L=(y&15)<<2|_>>6,X=_&63;v||(X=64,d||(L=64)),a.push(i[R],i[w],i[L],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(R_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):bS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||y==null||_==null||w==null)throw new AS;const L=h<<2|y>>4;if(a.push(L),_!==64){const X=y<<4&240|_>>2;if(a.push(X),w!==64){const Z=_<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(r){const t=R_(r);return I_.encodeByteArray(t,!0)},Cc=function(r){return wS(r).replace(/\./g,"")},N_=function(r){try{return I_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=()=>xS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&N_(r[1]);return t&&JSON.parse(t)},Qc=()=>{try{return SS()||CS()||RS()||IS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},D_=r=>Qc()?.emulatorHosts?.[r],NS=r=>{const t=D_(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},O_=()=>Qc()?.config,M_=r=>Qc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(d)),""].join(".")}const cl={};function MS(){const r={prod:[],emulator:[]};for(const t of Object.keys(cl))cl[t]?r.emulator.push(t):r.prod.push(t);return r}function kS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let lv=!1;function V_(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||cl[r]===t||cl[r]||lv)return;cl[r]=t;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",h=MS().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function y(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function v(L,X){L.setAttribute("width","24"),L.setAttribute("id",X),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function _(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{lv=!0,d()},L}function R(L,X){L.setAttribute("id",X),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function w(){const L=kS(a),X=i("text"),Z=document.getElementById(X)||document.createElement("span"),te=i("learnmore"),W=document.getElementById(te)||document.createElement("a"),se=i("preprendIcon"),oe=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const ce=L.element;y(ce),R(W,te);const Re=_();v(oe,se),ce.append(oe,Z,W,Re),document.body.appendChild(ce)}h?(Z.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function LS(){const r=Qc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=GS,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?FS(h,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new is(l,y,a)}}function FS(r,t){return r.replace(QS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const QS=/\{\$([^}]+)}/g;function YS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ur(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=t[l];if(uv(h)&&uv(d)){if(!Ur(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function KS(r,t){const i=new XS(r,t);return i.subscribe.bind(i)}class XS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");$S(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=dd),l.error===void 0&&(l.error=dd),l.complete===void 0&&(l.complete=dd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new DS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WS(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(r){return r===Mr?void 0:r}function WS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ZS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const tb={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},nb=De.INFO,ib={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},sb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=ib[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kd{constructor(t){this.name=t,this._logLevel=nb,this._logHandler=sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in De))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...t),this._logHandler(this,De.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...t),this._logHandler(this,De.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,De.INFO,...t),this._logHandler(this,De.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,De.WARN,...t),this._logHandler(this,De.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...t),this._logHandler(this,De.ERROR,...t)}}const rb=(r,t)=>t.some(i=>r instanceof i);let cv,hv;function ab(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,wd=new WeakMap,U_=new WeakMap,md=new WeakMap,Xd=new WeakMap;function lb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Hs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&L_.set(i,r)}).catch(()=>{}),Xd.set(t,r),t}function ub(r){if(wd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});wd.set(r,t)}let xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||U_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cb(r){xd=r(xd)}function hb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(pd(this),t,...i);return U_.set(a,t.sort?t.sort():[t]),Hs(a)}:ob().includes(r)?function(...t){return r.apply(pd(this),t),Hs(L_.get(this))}:function(...t){return Hs(r.apply(pd(this),t))}}function fb(r){return typeof r=="function"?hb(r):(r instanceof IDBTransaction&&ub(r),rb(r,ab())?new Proxy(r,xd):r)}function Hs(r){if(r instanceof IDBRequest)return lb(r);if(md.has(r))return md.get(r);const t=fb(r);return t!==r&&(md.set(r,t),Xd.set(t,r)),t}const pd=r=>Xd.get(r);function db(r,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,t),y=Hs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Hs(d.result),v.oldVersion,v.newVersion,Hs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const mb=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],gd=new Map;function fv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=pb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||mb.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&v.done]))[0]};return gd.set(t,h),h}cb(r=>({...r,get:(t,i,a)=>fv(t,i)||r.get(t,i,a),has:(t,i)=>!!fv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yb(r){return r.getComponent()?.type==="VERSION"}const Cd="@firebase/app",dv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Kd("@firebase/app"),vb="@firebase/app-compat",_b="@firebase/analytics-compat",Eb="@firebase/analytics",Tb="@firebase/app-check-compat",Sb="@firebase/app-check",bb="@firebase/auth",Ab="@firebase/auth-compat",wb="@firebase/database",xb="@firebase/data-connect",Cb="@firebase/database-compat",Rb="@firebase/functions",Ib="@firebase/functions-compat",Nb="@firebase/installations",Db="@firebase/installations-compat",Ob="@firebase/messaging",Mb="@firebase/messaging-compat",kb="@firebase/performance",Vb="@firebase/performance-compat",Lb="@firebase/remote-config",Ub="@firebase/remote-config-compat",jb="@firebase/storage",Pb="@firebase/storage-compat",zb="@firebase/firestore",Bb="@firebase/ai",qb="@firebase/firestore-compat",Hb="firebase",Gb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",Fb={[Cd]:"fire-core",[vb]:"fire-core-compat",[Eb]:"fire-analytics",[_b]:"fire-analytics-compat",[Sb]:"fire-app-check",[Tb]:"fire-app-check-compat",[bb]:"fire-auth",[Ab]:"fire-auth-compat",[wb]:"fire-rtdb",[xb]:"fire-data-connect",[Cb]:"fire-rtdb-compat",[Rb]:"fire-fn",[Ib]:"fire-fn-compat",[Nb]:"fire-iid",[Db]:"fire-iid-compat",[Ob]:"fire-fcm",[Mb]:"fire-fcm-compat",[kb]:"fire-perf",[Vb]:"fire-perf-compat",[Lb]:"fire-rc",[Ub]:"fire-rc-compat",[jb]:"fire-gcs",[Pb]:"fire-gcs-compat",[zb]:"fire-fst",[qb]:"fire-fst-compat",[Bb]:"fire-vertex","fire-js":"fire-js",[Hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,Qb=new Map,Id=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(i){es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ga(r){const t=r.name;if(Id.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,r);for(const i of Rc.values())mv(i,r);for(const i of Qb.values())mv(i,r);return!0}function $d(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Al("app","Firebase",Yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=Gb;function j_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Rd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=O_()),!i)throw Gs.create("no-options");const h=Rc.get(l);if(h){if(Ur(i,h.options)&&Ur(a,h.config))return h;throw Gs.create("duplicate-app",{appName:l})}const d=new eb(l);for(const v of Id.values())d.addComponent(v);const y=new Kb(i,a,d);return Rc.set(l,y),y}function P_(r=Rd){const t=Rc.get(r);if(!t&&r===Rd&&O_())return j_();if(!t)throw Gs.create("no-app",{appName:r});return t}function Fs(r,t,i){let a=Fb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Ga(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebase-heartbeat-database",$b=1,yl="firebase-heartbeat-store";let yd=null;function z_(){return yd||(yd=db(Xb,$b,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gs.create("idb-open",{originalErrorMessage:r.message})})),yd}async function Zb(r){try{const i=(await z_()).transaction(yl),a=await i.objectStore(yl).get(B_(r));return await i.done,a}catch(t){if(t instanceof is)es.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});es.warn(i.message)}}}async function pv(r,t){try{const a=(await z_()).transaction(yl,"readwrite");await a.objectStore(yl).put(t,B_(r)),await a.done}catch(i){if(i instanceof is)es.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});es.warn(a.message)}}}function B_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=1024,Wb=30;class e1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Wb){const l=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:i,unsentEntries:a}=t1(this._heartbeatsCache.heartbeats),l=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return es.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function t1(r,t=Jb){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),yv(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class n1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Zb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function yv(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function i1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){Ga(new jr("platform-logger",t=>new gb(t),"PRIVATE")),Ga(new jr("heartbeat",t=>new e1(t),"PRIVATE")),Fs(Cd,dv,r),Fs(Cd,dv,"esm2020"),Fs("fire-js","")}s1("");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zd;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function A(){}A.prototype=b.prototype,N.F=b.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(I,C,O){for(var x=Array(arguments.length-2),je=2;je<arguments.length;je++)x[je-2]=arguments[je];return b.prototype[C].apply(I,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,A){A||(A=0);const I=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)I[C]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(C=0;C<16;++C)I[C]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=N.g[0],A=N.g[1],C=N.g[2];let O=N.g[3],x;x=b+(O^A&(C^O))+I[0]+3614090360&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(C^b&(A^C))+I[1]+3905402710&4294967295,O=b+(x<<12&4294967295|x>>>20),x=C+(A^O&(b^A))+I[2]+606105819&4294967295,C=O+(x<<17&4294967295|x>>>15),x=A+(b^C&(O^b))+I[3]+3250441966&4294967295,A=C+(x<<22&4294967295|x>>>10),x=b+(O^A&(C^O))+I[4]+4118548399&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(C^b&(A^C))+I[5]+1200080426&4294967295,O=b+(x<<12&4294967295|x>>>20),x=C+(A^O&(b^A))+I[6]+2821735955&4294967295,C=O+(x<<17&4294967295|x>>>15),x=A+(b^C&(O^b))+I[7]+4249261313&4294967295,A=C+(x<<22&4294967295|x>>>10),x=b+(O^A&(C^O))+I[8]+1770035416&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(C^b&(A^C))+I[9]+2336552879&4294967295,O=b+(x<<12&4294967295|x>>>20),x=C+(A^O&(b^A))+I[10]+4294925233&4294967295,C=O+(x<<17&4294967295|x>>>15),x=A+(b^C&(O^b))+I[11]+2304563134&4294967295,A=C+(x<<22&4294967295|x>>>10),x=b+(O^A&(C^O))+I[12]+1804603682&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(C^b&(A^C))+I[13]+4254626195&4294967295,O=b+(x<<12&4294967295|x>>>20),x=C+(A^O&(b^A))+I[14]+2792965006&4294967295,C=O+(x<<17&4294967295|x>>>15),x=A+(b^C&(O^b))+I[15]+1236535329&4294967295,A=C+(x<<22&4294967295|x>>>10),x=b+(C^O&(A^C))+I[1]+4129170786&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^C&(b^A))+I[6]+3225465664&4294967295,O=b+(x<<9&4294967295|x>>>23),x=C+(b^A&(O^b))+I[11]+643717713&4294967295,C=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(C^O))+I[0]+3921069994&4294967295,A=C+(x<<20&4294967295|x>>>12),x=b+(C^O&(A^C))+I[5]+3593408605&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^C&(b^A))+I[10]+38016083&4294967295,O=b+(x<<9&4294967295|x>>>23),x=C+(b^A&(O^b))+I[15]+3634488961&4294967295,C=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(C^O))+I[4]+3889429448&4294967295,A=C+(x<<20&4294967295|x>>>12),x=b+(C^O&(A^C))+I[9]+568446438&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^C&(b^A))+I[14]+3275163606&4294967295,O=b+(x<<9&4294967295|x>>>23),x=C+(b^A&(O^b))+I[3]+4107603335&4294967295,C=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(C^O))+I[8]+1163531501&4294967295,A=C+(x<<20&4294967295|x>>>12),x=b+(C^O&(A^C))+I[13]+2850285829&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^C&(b^A))+I[2]+4243563512&4294967295,O=b+(x<<9&4294967295|x>>>23),x=C+(b^A&(O^b))+I[7]+1735328473&4294967295,C=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(C^O))+I[12]+2368359562&4294967295,A=C+(x<<20&4294967295|x>>>12),x=b+(A^C^O)+I[5]+4294588738&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^C)+I[8]+2272392833&4294967295,O=b+(x<<11&4294967295|x>>>21),x=C+(O^b^A)+I[11]+1839030562&4294967295,C=O+(x<<16&4294967295|x>>>16),x=A+(C^O^b)+I[14]+4259657740&4294967295,A=C+(x<<23&4294967295|x>>>9),x=b+(A^C^O)+I[1]+2763975236&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^C)+I[4]+1272893353&4294967295,O=b+(x<<11&4294967295|x>>>21),x=C+(O^b^A)+I[7]+4139469664&4294967295,C=O+(x<<16&4294967295|x>>>16),x=A+(C^O^b)+I[10]+3200236656&4294967295,A=C+(x<<23&4294967295|x>>>9),x=b+(A^C^O)+I[13]+681279174&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^C)+I[0]+3936430074&4294967295,O=b+(x<<11&4294967295|x>>>21),x=C+(O^b^A)+I[3]+3572445317&4294967295,C=O+(x<<16&4294967295|x>>>16),x=A+(C^O^b)+I[6]+76029189&4294967295,A=C+(x<<23&4294967295|x>>>9),x=b+(A^C^O)+I[9]+3654602809&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^C)+I[12]+3873151461&4294967295,O=b+(x<<11&4294967295|x>>>21),x=C+(O^b^A)+I[15]+530742520&4294967295,C=O+(x<<16&4294967295|x>>>16),x=A+(C^O^b)+I[2]+3299628645&4294967295,A=C+(x<<23&4294967295|x>>>9),x=b+(C^(A|~O))+I[0]+4096336452&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~C))+I[7]+1126891415&4294967295,O=b+(x<<10&4294967295|x>>>22),x=C+(b^(O|~A))+I[14]+2878612391&4294967295,C=O+(x<<15&4294967295|x>>>17),x=A+(O^(C|~b))+I[5]+4237533241&4294967295,A=C+(x<<21&4294967295|x>>>11),x=b+(C^(A|~O))+I[12]+1700485571&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~C))+I[3]+2399980690&4294967295,O=b+(x<<10&4294967295|x>>>22),x=C+(b^(O|~A))+I[10]+4293915773&4294967295,C=O+(x<<15&4294967295|x>>>17),x=A+(O^(C|~b))+I[1]+2240044497&4294967295,A=C+(x<<21&4294967295|x>>>11),x=b+(C^(A|~O))+I[8]+1873313359&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~C))+I[15]+4264355552&4294967295,O=b+(x<<10&4294967295|x>>>22),x=C+(b^(O|~A))+I[6]+2734768916&4294967295,C=O+(x<<15&4294967295|x>>>17),x=A+(O^(C|~b))+I[13]+1309151649&4294967295,A=C+(x<<21&4294967295|x>>>11),x=b+(C^(A|~O))+I[4]+4149444226&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~C))+I[11]+3174756917&4294967295,O=b+(x<<10&4294967295|x>>>22),x=C+(b^(O|~A))+I[2]+718787259&4294967295,C=O+(x<<15&4294967295|x>>>17),x=A+(O^(C|~b))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(C+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+C&4294967295,N.g[3]=N.g[3]+O&4294967295}a.prototype.v=function(N,b){b===void 0&&(b=N.length);const A=b-this.blockSize,I=this.C;let C=this.h,O=0;for(;O<b;){if(C==0)for(;O<=A;)l(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<b;)if(I[C++]=N.charCodeAt(O++),C==this.blockSize){l(this,I),C=0;break}}else for(;O<b;)if(I[C++]=N[O++],C==this.blockSize){l(this,I),C=0;break}}this.h=C,this.o+=b},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)N[b++]=this.g[A]>>>I&255;return N};function h(N,b){var A=y;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=b(N)}function d(N,b){this.h=b;const A=[];let I=!0;for(let C=N.length-1;C>=0;C--){const O=N[C]|0;I&&O==b||(A[C]=O,I=!1)}this.g=A}var y={};function v(N){return-128<=N&&N<128?h(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return W(_(-N));const b=[];let A=1;for(let I=0;N>=A;I++)b[I]=N/A|0,A*=4294967296;return new d(b,0)}function R(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(R(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(b,8));let I=w;for(let O=0;O<N.length;O+=8){var C=Math.min(8,N.length-O);const x=parseInt(N.substring(O,O+C),b);C<8?(C=_(Math.pow(b,C)),I=I.j(C).add(_(x))):(I=I.j(A),I=I.add(_(x)))}return I}var w=v(0),L=v(1),X=v(16777216);r=d.prototype,r.m=function(){if(te(this))return-W(this).m();let N=0,b=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);N+=(I>=0?I:4294967296+I)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(te(this))return"-"+W(this).toString(N);const b=_(Math.pow(N,6));var A=this;let I="";for(;;){const C=Re(A,b).g;A=se(A,C.j(b));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=C,Z(A))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function te(N){return N.h==-1}r.l=function(N){return N=se(this,N),te(N)?-1:Z(N)?0:1};function W(N){const b=N.g.length,A=[];for(let I=0;I<b;I++)A[I]=~N.g[I];return new d(A,~N.h).add(L)}r.abs=function(){return te(this)?W(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),A=[];let I=0;for(let C=0;C<=b;C++){let O=I+(this.i(C)&65535)+(N.i(C)&65535),x=(O>>>16)+(this.i(C)>>>16)+(N.i(C)>>>16);I=x>>>16,O&=65535,x&=65535,A[C]=x<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function se(N,b){return N.add(W(b))}r.j=function(N){if(Z(this)||Z(N))return w;if(te(this))return te(N)?W(this).j(W(N)):W(W(this).j(N));if(te(N))return W(this.j(W(N)));if(this.l(X)<0&&N.l(X)<0)return _(this.m()*N.m());const b=this.g.length+N.g.length,A=[];for(var I=0;I<2*b;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<N.g.length;C++){const O=this.i(I)>>>16,x=this.i(I)&65535,je=N.i(C)>>>16,Ae=N.i(C)&65535;A[2*I+2*C]+=x*Ae,oe(A,2*I+2*C),A[2*I+2*C+1]+=O*Ae,oe(A,2*I+2*C+1),A[2*I+2*C+1]+=x*je,oe(A,2*I+2*C+1),A[2*I+2*C+2]+=O*je,oe(A,2*I+2*C+2)}for(N=0;N<b;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=b;N<2*b;N++)A[N]=0;return new d(A,0)};function oe(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ce(N,b){this.g=N,this.h=b}function Re(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new ce(w,w);if(te(N))return b=Re(W(N),b),new ce(W(b.g),W(b.h));if(te(b))return b=Re(N,W(b)),new ce(W(b.g),b.h);if(N.g.length>30){if(te(N)||te(b))throw Error("slowDivide_ only works with positive integers.");for(var A=L,I=b;I.l(N)<=0;)A=Be(A),I=Be(I);var C=we(A,1),O=we(I,1);for(I=we(I,2),A=we(A,2);!Z(I);){var x=O.add(I);x.l(N)<=0&&(C=C.add(A),O=x),I=we(I,1),A=we(A,1)}return b=se(N,C.j(b)),new ce(C,b)}for(C=w;N.l(b)>=0;){for(A=Math.max(1,Math.floor(N.m()/b.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=_(A),x=O.j(b);te(x)||x.l(N)>0;)A-=I,O=_(A),x=O.j(b);Z(O)&&(O=L),C=C.add(O),N=se(N,x)}return new ce(C,N)}r.B=function(N){return Re(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<b;I++)A[I]=this.i(I)&N.i(I);return new d(A,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<b;I++)A[I]=this.i(I)|N.i(I);return new d(A,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<b;I++)A[I]=this.i(I)^N.i(I);return new d(A,this.h^N.h)};function Be(N){const b=N.g.length+1,A=[];for(let I=0;I<b;I++)A[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(A,N.h)}function we(N,b){const A=b>>5;b%=32;const I=N.g.length-A,C=[];for(let O=0;O<I;O++)C[O]=b>0?N.i(O+A)>>>b|N.i(O+A+1)<<32-b:N.i(O+A);return new d(C,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=R,Zd=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q_,ul,H_,vc,Nd,G_,F_,Q_;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var g=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in g))break e;g=g[U]}u=u[u.length-1],S=g[u],m=m(S),m!=S&&m!=null&&t(g,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var g=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&g.push([S,m[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,g){return u.call.apply(u.bind,arguments)}function _(u,m,g){return _=v,_.apply(null,arguments)}function R(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(S,U,q){for(var ee=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)ee[ve-2]=arguments[ve];return m.prototype[U].apply(S,ee)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const g=Array(m);for(let S=0;S<m;S++)g[S]=u[S];return g}return[]}function Z(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var g=typeof U;if(g=g!="object"?g:U?Array.isArray(U)?"array":g:"null",g=="array"||g=="object"&&typeof U.length=="number"){g=u.length||0;const q=U.length||0;u.length=g+q;for(let ee=0;ee<q;ee++)u[g+ee]=U[ee]}else u.push(U)}}class te{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function se(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,g){const S=ce.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var ce=new te(()=>new Re,u=>u.reset());class Re{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,we=!1,N=new oe,b=()=>{const u=Promise.resolve(void 0);Be=()=>{u.then(A)}};function A(){for(var u;u=se();){try{u.h.call(u.g)}catch(g){W(g)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}we=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function je(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(je,C),je.prototype.init=function(u,m){const g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,g,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,g){for(const S in u)m.call(g,u[S],S,u)}function He(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function k(u){const m={};for(const g in u)m[g]=u[g];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let g,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(g in S)u[g]=S[g];for(let q=0;q<K.length;q++)g=K[q],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,g,S,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=Ee(u,m,S,U);return ee>-1?(m=u[ee],g||(m.fa=!1)):(m=new ne(m,this.src,q,!!S,U),m.fa=g,u.push(m)),m};function ge(u,m){const g=m.type;if(g in u.g){var S=u.g[g],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(de(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ee(u,m,g,S){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==S)return U}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ct={};function it(u,m,g,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)it(u,m[q],g,S,U);return null}return g=io(g),u&&u[Ae]?u.J(m,g,y(S)?!!S.capture:!1,U):tr(u,m,g,!1,S,U)}function tr(u,m,g,S,U,q){if(!m)throw Error("Invalid event type");const ee=y(U)?!!U.capture:!!U;let ve=nr(u);if(ve||(u[Me]=ve=new re(u)),g=ve.add(m,g,S,ee,q),g.proxy)return g;if(S=Qr(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)O||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Qr(){function u(g){return m.call(u.src,u.listener,g)}const m=to;return u}function Yr(u,m,g,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Yr(u,m[q],g,S,U);else S=y(S)?!!S.capture:!!S,g=io(g),u&&u[Ae]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],g=Ee(m,g,S,U),g>-1&&(de(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ee(m,g,S,U)),(g=u>-1?m[u]:null)&&Kr(g))}function Kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ae])ge(m.i,u);else{var g=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(g,S,u.capture):m.detachEvent?m.detachEvent(ti(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=nr(m))?(ge(g,u),g.h==0&&(g.src=null,m[Me]=null)):de(u)}}}function ti(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function to(u,m){if(u.da)u=!0;else{m=new je(m,this);const g=u.listener,S=u.ha||u.src;u.fa&&Kr(u),u=g.call(S,m)}return u}function nr(u){return u=u[Me],u instanceof re?u:null}var no="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function gt(){I.call(this),this.i=new re(this),this.M=this,this.G=null}w(gt,I),gt.prototype[Ae]=!0,gt.prototype.removeEventListener=function(u,m,g,S){Yr(this,u,m,g,S)};function Rt(u,m){var g,S=u.G;if(S)for(g=[];S;S=S.G)g.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var U=m;m=new C(S,u),ie(m,U)}U=!0;let q,ee;if(g)for(ee=g.length-1;ee>=0;ee--)q=m.g=g[ee],U=ss(q,S,!0,m)&&U;if(q=m.g=u,U=ss(q,S,!0,m)&&U,U=ss(q,S,!1,m)&&U,g)for(ee=0;ee<g.length;ee++)q=m.g=g[ee],U=ss(q,S,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let S=0;S<g.length;S++)de(g[S]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,g,S){return this.i.add(String(u),m,!1,g,S)},gt.prototype.K=function(u,m,g,S){return this.i.add(String(u),m,!0,g,S)};function ss(u,m,g,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==g){const ve=ee.listener,dt=ee.ha||ee.src;ee.fa&&ge(u.i,ee),U=ve.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Vl(u){u.g=lh(()=>{u.g=null,u.i&&(u.i=!1,Vl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends I{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){I.call(this),this.h=u,this.g={}}w(ir,I);var so=[];function ro(u){Ve(u.g,function(m,g){this.g.hasOwnProperty(g)&&Kr(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),ro(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,uh=d.JSON.parse,Ll=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ul(){}function jl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){C.call(this,"d")}w(Lt,C);function Sn(){C.call(this,"c")}w(Sn,C);var ft={},Pl=null;function Xr(){return Pl=Pl||new gt}ft.Ia="serverreachability";function zl(u){C.call(this,ft.Ia,u)}w(zl,C);function ni(u){const m=Xr();Rt(m,new zl(m))}ft.STAT_EVENT="statevent";function sr(u,m){C.call(this,ft.STAT_EVENT,u),this.stat=m}w(sr,C);function yt(u){const m=Xr();Rt(m,new sr(m,u))}ft.Ja="timingevent";function ii(u,m){C.call(this,ft.Ja,u),this.size=m}w(ii,C);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function ch(u,m,g,S,U,q){u.info(function(){if(u.g)if(q){var ee="",ve=q.split("&");for(let Pe=0;Pe<ve.length;Pe++){var dt=ve[Pe].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const xn=st.split("_");ee=xn.length>=2&&xn[1]=="type"?ee+(st+"="+dt+"&"):ee+(st+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+g+`
`+ee})}function Bl(u,m,g,S,U,q,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+g+`
`+q+" "+ee})}function ri(u,m,g,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hh(u,g)+(S?" "+S:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function hh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var g=q[u];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<S.length;ee++)S[ee]=""}}}}return rs(q)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oo;function or(){}w(or,Ul),or.prototype.g=function(){return new XMLHttpRequest},oo=new or;function Ii(u){return encodeURIComponent(String(u))}function ql(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function jn(u,m,g,S){this.j=u,this.i=m,this.l=g,this.S=S||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var vt={},Nt={};function ai(u,m,g){u.M=1,u.A=lr(Et(m)),u.u=g,u.R=!0,$r(u,null)}function $r(u,m){u.F=Date.now(),oi(u),u.B=Et(u.A);var g=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ea(g.i,"t",S),u.C=0,g=u.j.L,u.h=new Pn,u.g=iu(u.j,g?m:null,!u.u),u.P>0&&(u.O=new Wt(_(u.Y,u,u.g),u.P)),m=u.V,g=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(so[0]=U.toString()),U=so);for(let q=0;q<U.length;q++){const ee=it(g,U[q],S||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),ch(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ve=qn(this.g),dt=this.g.ya(),Pe=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||ve!=4||dt==7||(dt==8||Pe<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var g=fh(this);if(this.o=m==200,Bl(this.i,this.v,this.B,this.l,this.S,ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,yt(12),dn(this),bn(this);break e}}if(this.R){u=!0;let st;for(;!this.K&&this.C<g.length;)if(st=Gl(this,g),st==Nt){ve==4&&(this.m=4,yt(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,yt(15),ri(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,st,null),ui(this,st);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||g.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,g,"[Invalid Chunked Response]"),dn(this),bn(this);else if(g.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),bo(ee),ee.P=!0,yt(11))}}else ri(this.i,this.l,g,null),ui(this,g);ve==4&&dn(this),this.o&&!this.K&&(ve==4?Wl(this.j,this):(this.o=!1,oi(this)))}else Di(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),dn(this),bn(this)}}}catch{}finally{}};function fh(u){if(!Hl(u))return u.g.la();const m=Ut(u.g);if(m==="")return"";let g="";const S=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,g+=u.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function Hl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Gl(u,m){var g=u.C,S=m.indexOf(`
`,g);return S==-1?Nt:(g=Number(m.substring(g,S)),isNaN(g)?vt:(S+=1,S+g>m.length?Nt:(m=m.slice(S,S+g),u.C=S+g,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(u){u.T=Date.now()+u.H,Zr(u,u.H)}function Zr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(ni(),yt(17)),dn(this),this.m=2,bn(this)):Zr(this,this.T-u)};function bn(u){u.j.I==0||u.K||Wl(u.j,u)}function dn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ro(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||hi(g.h,u))){if(!u.L&&hi(g.h,u)&&g.I==3){try{var S=g.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)ra(g),ds(g);else break e;pr(g),yt(18)}}else g.xa=U[1],0<g.xa-g.K&&U[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=si(_(g.Va,g),6e3));ci(g.h)<=1&&g.ta&&(g.ta=void 0)}else yi(g,11)}else if((u.L||g.g==u)&&ra(g),!x(m))for(U=g.Ba.g.parse(m),m=0;m<U.length;m++){let Pe=U[m];const st=Pe[0];if(!(st<=g.K))if(g.K=st,Pe=Pe[1],g.I==2)if(Pe[0]=="c"){g.M=Pe[1],g.ba=Pe[2];const xn=Pe[3];xn!=null&&(g.ka=xn,g.j.info("VER="+g.ka));const vi=Pe[4];vi!=null&&(g.za=vi,g.j.info("SVER="+g.za));const Hn=Pe[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var q=S.h;q.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(co(q,q.h),q.h=null))}if(S.G){const aa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(S.wa=aa,Ge(S.J,S.G,aa))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var ee=u;if(S.na=nu(S,S.L?S.ba:null,S.W),ee.L){ho(S.h,ee);var ve=ee,dt=S.O;dt&&(ve.H=dt),ve.D&&(li(ve),oi(ve)),S.g=ee}else Zl(S);g.i.length>0&&gi(g)}else Pe[0]!="stop"&&Pe[0]!="close"||yi(g,7);else g.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?yi(g,7):To(g):Pe[0]!="noop"&&g.l&&g.l.qa(Pe),g.A=0)}}ni(4)}catch{}}var _t=class{constructor(u,m){this.g=u,this.map=m}};function lo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function co(u,m){u.g?u.g.add(m):u.h=m}function ho(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}lo.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return X(u.i)}var Fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const S=u[g].indexOf("=");let U,q=null;S>=0?(U=u[g].substring(0,S),q=u[g].substring(S+1)):U=u[g],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Dt(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,mo(this,Xl(u.i)),this.m=u.m):u&&(m=String(u).match(Fl))?(this.l=!1,Dt(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),as(this,m[4]),this.h=fi(m[5]||"",!0),mo(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,Wr,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,Wr,!0),"@"),u.push(Ii(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(ur(g,g.charAt(0)=="/"?po:Ql,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",ur(g,Yl)),u.join("")},mn.prototype.resolve=function(u){const m=Et(this);let g=!!u.j;g?Dt(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var S=u.h;if(g)as(m,u.u);else if(g=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const ve=U[ee++];ve=="."?S&&ee==U.length&&q.push(""):ve==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ee==U.length&&q.push("")):(q.push(ve),S=!0)}S=q.join("/")}else S=U}return g?m.h=S:g=u.i.toString()!=="",g?mo(m,Xl(u.i)):g=!!u.m,g&&(m.m=u.m),m};function Et(u){return new mn(u)}function Dt(u,m,g){u.j=g?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function mo(u,m,g){m instanceof ls?(u.i=m,ta(u.i,u.l)):(g||(m=ur(m,os)),u.i=new ls(m,u.l))}function Ge(u,m,g){u.i.set(m,g)}function lr(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,Ql=/[#\?:]/g,po=/[#\?]/g,os=/[#\?@]/g,Yl=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}r=ls.prototype,r.add=function(u,m){sn(this),this.i=null,u=us(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Kl(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function go(u,m){return sn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(g,S){g.forEach(function(U){u.call(m,U,S,this)},this)},this)};function yo(u,m){sn(u);let g=[];if(typeof m=="string")go(u,m)&&(g=g.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}r.set=function(u,m){return sn(this),this.i=null,u=us(this,u),go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=yo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,g){Kl(u,m),g.length>0&&(u.i=null,u.g.set(us(u,m),X(g)),u.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var g=m[S];const U=Ii(g);g=yo(this,g);for(let q=0;q<g.length;q++){let ee=U;g[q]!==""&&(ee+="="+Ii(g[q])),u.push(ee)}}return this.i=u.join("&")};function Xl(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(g,S){const U=S.toLowerCase();S!=U&&(Kl(this,S),ea(this,U,g))},u)),u.j=m}function zn(u,m){const g=new Un;if(d.Image){const S=new Image;S.onload=R(An,g,"TestLoadImage: loaded",!0,m,S),S.onerror=R(An,g,"TestLoadImage: error",!1,m,S),S.onabort=R(An,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=R(An,g,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function vo(u,m){const g=new Un,S=new AbortController,U=setTimeout(()=>{S.abort(),An(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?An(g,"TestPingServer: ok",!0,m):An(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(g,"TestPingServer: error",!1,m)})}function An(u,m,g,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(g)}catch{}}function cs(){this.g=new Ll}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(di,Ul),di.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(cr,gt),r=cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Bn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ve(u,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function hr(u,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=wn(g),typeof u=="string"?g!=null&&Ii(g):Ge(u,m,g))}function Ye(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ye,gt);var mi=/^https?$/i,_o=["POST","PUT"];r=Ye.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oo.g(),this.g.onreadystatechange=L(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){fr(this,q);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)g.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())g.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(_o,m,void 0)>=0)||S||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of g)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){fr(this,q)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Eo(u),Ni(u)}function Eo(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Ye.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),qn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=q===0){let ee=String(u.D).match(Fl)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),S=!mi.test(ee?ee.toLowerCase():"")}g=S}if(g)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Eo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||Rt(u,"ready");try{g.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),uh(m)}};function Ut(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var g=ql(u[S]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[U]||[];m[U]=q,q.push(g)}He(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,g,S){yt(0),this.W=u,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=nu(this,null,this.W),gi(this)};function To(u){if(ia(u),u.I==3){var m=u.V++,g=Et(u.J);if(Ge(g,"SID",u.M),Ge(g,"RID",m),Ge(g,"TYPE","terminate"),mr(u,g),m=new jn(u,u.j,m),m.M=2,m.A=lr(Et(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}tu(u)}function ds(u){u.g&&(bo(u),u.g.cancel(),u.g=null)}function ia(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!uo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Be||b(),we||(Be(),we=!0),N.add(m,u),u.D=0}}function sa(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=$l(this,U,m),g=Et(this.J),Ge(g,"RID",u),Ge(g,"CVER",22),this.G&&Ge(g,"X-HTTP-Session-Id",this.G),mr(this,g),q&&(this.R?m="headers="+Ii(wn(q))+"&"+m:this.u&&hr(g,this.u,q)),co(this.h,U),this.Ra&&Ge(g,"TYPE","init"),this.S?(Ge(g,"$req",m),Ge(g,"SID","null"),U.U=!0,ai(U,g,null)):ai(U,g,m),this.I=2}}else this.I==3&&(u?So(this,u):this.i.length==0||uo(this.h)||So(this))};function So(u,m){var g;m?g=m.l:g=u.V++;const S=Et(u.J);Ge(S,"SID",u.M),Ge(S,"RID",g),Ge(S,"AID",u.K),mr(u,S),u.u&&u.o&&hr(S,u.u,u.o),g=new jn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=$l(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),co(u.h,g),ai(g,S,m)}function mr(u,m){u.H&&Ve(u.H,function(g,S){Ge(m,S,g)}),u.l&&Ve({},function(g,S){Ge(m,S,g)})}function $l(u,m,g){g=Math.min(u.i.length,g);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let ve=-1;for(;;){const dt=["count="+g];ve==-1?g>0?(ve=U[0].g,dt.push("ofs="+ve)):ve=0:dt.push("ofs="+ve);let Pe=!0;for(let st=0;st<g;st++){var q=U[st].g;const xn=U[st].map;if(q-=ve,q<0)ve=Math.max(0,U[st].g-100),Pe=!1;else try{q="req"+q+"_"||"";try{var ee=xn instanceof Map?xn:Object.entries(xn);for(const[vi,Hn]of ee){let Gn=Hn;y(Hn)&&(Gn=rs(Hn)),dt.push(q+vi+"="+encodeURIComponent(Gn))}}catch(vi){throw dt.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(xn)}}if(Pe){ee=dt.join("&");break e}}ee=void 0}return u=u.i.splice(0,g),m.G=u,ee}function Zl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Be||b(),we||(Be(),we=!0),N.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),ds(this),Jl(this))};function bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Jl(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Ge(m,"RID","rpc"),Ge(m,"SID",u.M),Ge(m,"AID",u.K),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(m,"TO",u.ia),Ge(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=lr(Et(m)),g.u=null,g.R=!0,$r(g,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),pr(this),yt(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wl(u,m){var g=null;if(u.g==m){ra(u),bo(u),u.g=null;var S=2}else if(hi(u.h,m))g=m.G,ho(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Xr(),Rt(S,new ii(S,g)),gi(u)}else Zl(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&sa(u,m)||S==2&&pr(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),U){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function eu(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var g=_(u.bb,u),S=u.Ua;const U=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dt(S,"https"),lr(S),U?zn(S.toString(),g):vo(S.toString(),g)}else yt(2);u.I=0,u.l&&u.l.pa(m),tu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const m=fo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function nu(u,m,g){var S=g instanceof mn?Et(g):new mn(g);if(S.g!="")m&&(S.g=m+"."+S.g),as(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new mn(null);S&&Dt(q,S),m&&(q.g=m),U&&as(q,U),g&&(q.h=g),S=q}return g=u.G,m=u.wa,g&&m&&Ge(S,g,m),Ge(S,"VER",u.ka),mr(u,S),S}function iu(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new di({ab:g})):new Ye(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new en(u,m)};function en(u,m){gt.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(en,gt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){To(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=rs(u),u=g);m.i.push(new _t(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,en.Z.N.call(this)};function ru(u){Lt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(ru,Lt);function au(){Sn.call(this),this.status=1}w(au,Sn);function Oi(u){this.g=u}w(Oi,su),Oi.prototype.ra=function(){Rt(this.g,"a")},Oi.prototype.qa=function(u){Rt(this.g,new ru(u))},Oi.prototype.pa=function(u){Rt(this.g,new au)},Oi.prototype.oa=function(){Rt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Q_=function(){return new ms},F_=function(){return Xr()},G_=ft,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,vc=ar,ao.COMPLETE="complete",H_=ao,jl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",gt.prototype.listen=gt.prototype.J,ul=jl,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,q_=Ye}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore",Ev="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Kd("@firebase/firestore");function La(){return Pr.logLevel}function ue(r,...t){if(Pr.logLevel<=De.DEBUG){const i=t.map(Jd);Pr.debug(`Firestore (${Ja}): ${r}`,...i)}}function zr(r,...t){if(Pr.logLevel<=De.ERROR){const i=t.map(Jd);Pr.error(`Firestore (${Ja}): ${r}`,...i)}}function Yc(r,...t){if(Pr.logLevel<=De.WARN){const i=t.map(Jd);Pr.warn(`Firestore (${Ja}): ${r}`,...i)}}function Jd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Y_(r,a,i)}function Y_(r,t,i){let a=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw zr(a),new Error(a)}function ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Y_(t,l,a)}function et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class r1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class a1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class o1{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ht(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new K_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class l1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new l1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ht(this.o===void 0,3512);const a=h=>{h.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=h1(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function qe(r,t){return r<t?-1:r>t?1:0}function Dd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return vd(l)===vd(h)?qe(l,h):vd(l)?1:-1}return qe(r.length,t.length)}const f1=55296,d1=57343;function vd(r){const t=r.charCodeAt(0);return t>=f1&&t<=d1}function Fa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&be(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&be(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=bi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return qe(t.length,i.length)}static compareSegments(t,i){const a=bi.isNumericId(t),l=bi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zd.fromString(t.substring(4,t.length-2))}}class lt extends bi{construct(t,i,a){return new lt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const m1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends bi{construct(t,i,a){return new Ft(t,i,a)}static isValidIdentifier(t){return m1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Ft([Sv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(h(),l++)}if(h(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(i)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.path=t}static fromPath(t){return new Se(lt.fromString(t))}static fromName(t){return new Se(lt.fromString(t).popFirst(5))}static empty(){return new Se(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return lt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Se(new lt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(r,t,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function p1(r,t,i,a){if(t===!0&&a===!0)throw new fe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function bv(r){if(!Se.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Av(r){if(Se.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function em(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Od(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=em(r);throw new fe(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,t){const i={typeString:r};return t&&(i.value=t),i}function xl(r,t){if(!$_(r))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-62135596800,xv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(t){return ot.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*xv);return new ot(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<wv)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ot._jsonSchema))return new ot(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:xt("string",ot._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new ot(0,0))}static max(){return new at(new ot(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function g1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=at.fromTimestamp(a===1e9?new ot(i+1,0):new ot(i,a));return new $s(l,Se.empty(),t)}function y1(r){return new $s(r.readTime,r.key,vl)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(at.min(),Se.empty(),vl)}static max(){return new $s(at.max(),Se.empty(),vl)}}function v1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Se.comparator(r.documentKey,t.documentKey),i!==0?i:qe(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==_1)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,h=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const h=t.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((R=>{d[_]=R,++y,y===h&&a(d)}),(R=>l(R)))}}))}static doWhile(t,i){return new $(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function T1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function sm(r){return r==null}function Ic(r){return r===0&&1/r==-1/0}function S1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function b1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Cv(t)),t=A1(r.get(i),t);return Cv(t)}function A1(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case Z_:i+="";break;default:i+=h}}return i}function Cv(r){return r+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Wa(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function J_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,i){this.comparator=t,this.root=i||Ht.EMPTY}insert(t,i){return new hn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Ht.RED,this.left=l??Ht.EMPTY,this.right=h??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Ht(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ht.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw be(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Ht(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Yt(this.comparator);return i.data=t,i}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Yt(Ft.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new w1("Invalid base64 string: "+h):h}})(t);return new xi(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new xi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const x1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(ht(!!r,39018),typeof r=="string"){let t=0;const i=x1.exec(r);if(ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Gt(r.seconds),nanos:Gt(r.nanos)}}function Gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?xi.fromBase64String(r):xi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",e0="__type__",t0="__previous_value__",n0="__local_write_time__";function rm(r){return(r?.mapValue?.fields||{})[e0]?.stringValue===W_}function am(r){const t=r.mapValue.fields[t0];return rm(t)?am(t):t}function Nc(r){const t=Br(r.mapValue.fields[n0].timestampValue);return new ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,i,a,l,h,d,y,v,_,R){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=R}}const Dc="(default)";class Oc{constructor(t,i){this.projectId=t,this.database=i||Dc}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof Oc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__type__",R1="__max__",fc={mapValue:{}},s0="__vector__",Md="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:N1(r)?9007199254740991:I1(r)?10:11:be(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=qr(r);if(i!==qr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nc(r).isEqual(Nc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Br(l.timestampValue),y=Br(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Qa(l.bytesValue).isEqual(Qa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return Gt(l.geoPointValue.latitude)===Gt(h.geoPointValue.latitude)&&Gt(l.geoPointValue.longitude)===Gt(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Gt(l.integerValue)===Gt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Gt(l.doubleValue),y=Gt(h.doubleValue);return d===y?Ic(d)===Ic(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(Rv(d)!==Rv(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ci(d[v],y[v])))return!1;return!0})(r,t);default:return be(52216,{left:r})}}function _l(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=qr(r),a=qr(t);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=Gt(h.integerValue||h.doubleValue),v=Gt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,t);case 3:return Nv(r.timestampValue,t.timestampValue);case 4:return Nv(Nc(r),Nc(t));case 5:return Dd(r.stringValue,t.stringValue);case 6:return(function(h,d){const y=Qa(h),v=Qa(d);return y.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const R=qe(y[_],v[_]);if(R!==0)return R}return qe(y.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=qe(Gt(h.latitude),Gt(d.latitude));return y!==0?y:qe(Gt(h.longitude),Gt(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Dv(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Md]?.arrayValue,R=v[Md]?.arrayValue,w=qe(_?.values?.length||0,R?.values?.length||0);return w!==0?w:Dv(_,R)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},R=Object.keys(_);v.sort(),R.sort();for(let w=0;w<v.length&&w<R.length;++w){const L=Dd(v[w],R[w]);if(L!==0)return L;const X=Ya(y[v[w]],_[R[w]]);if(X!==0)return X}return qe(v.length,R.length)})(r.mapValue,t.mapValue);default:throw be(23264,{he:i})}}function Nv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qe(r,t);const i=Br(r),a=Br(t),l=qe(i.seconds,a.seconds);return l!==0?l:qe(i.nanos,a.nanos)}function Dv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ya(i[l],a[l]);if(h)return h}return qe(i.length,a.length)}function Ka(r){return kd(r)}function kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Br(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Se.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=kd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${kd(i.fields[d])}`;return l+"}"})(r.mapValue):be(61005,{value:r})}function _c(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=am(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+_c(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Wa(a.fields,((h,d)=>{l+=h.length+_c(d)})),l})(r.mapValue);default:throw be(13486,{value:r})}}function Vd(r){return!!r&&"integerValue"in r}function om(r){return!!r&&"arrayValue"in r}function Ec(r){return!!r&&"mapValue"in r}function I1(r){return(r?.mapValue?.fields||{})[i0]?.stringValue===s0}function hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Wa(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=hl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=hl(r.arrayValue.values[i]);return t}return{...r}}function N1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===R1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ec(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=hl(i)}setAll(t){let i=Ft.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=hl(d):l.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Wa(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new $n(hl(this.value))}}function r0(r){const t=[];return Wa(r.fields,((i,a)=>{const l=new Ft([i]);if(Ec(a)){const h=r0(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,i,a,l,h,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Kn(t,0,at.min(),at.min(),at.min(),$n.empty(),0)}static newFoundDocument(t,i,a,l){return new Kn(t,1,i,at.min(),a,l,0)}static newNoDocument(t,i){return new Kn(t,2,i,at.min(),at.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new Kn(t,3,i,at.min(),at.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],d=r.position[l];if(h.field.isKeyField()?a=Se.comparator(Se.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function D1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{}class kt extends a0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new M1(t,i,a):i==="array-contains"?new L1(t,a):i==="in"?new U1(t,a):i==="not-in"?new j1(t,a):i==="array-contains-any"?new P1(t,a):new kt(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new k1(t,a):new V1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zs extends a0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zs(t,i)}matches(t){return o0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o0(r){return r.op==="and"}function l0(r){return O1(r)&&o0(r)}function O1(r){for(const t of r.filters)if(t instanceof Zs)return!1;return!0}function Ld(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(l0(r))return r.filters.map((t=>Ld(t))).join(",");{const t=r.filters.map((i=>Ld(i))).join(",");return`${r.op}(${t})`}}function u0(r,t){return r instanceof kt?(function(a,l){return l instanceof kt&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Zs?(function(a,l){return l instanceof Zs&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,y)=>h&&u0(d,l.filters[y])),!0):!1})(r,t):void be(19439)}function c0(r){return r instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(r):r instanceof Zs?(function(i){return i.op.toString()+" {"+i.getFilters().map(c0).join(" ,")+"}"})(r):"Filter"}class M1 extends kt{constructor(t,i,a){super(t,i,a),this.key=Se.fromName(a.referenceValue)}matches(t){const i=Se.comparator(t.key,this.key);return this.matchesComparison(i)}}class k1 extends kt{constructor(t,i){super(t,"in",i),this.keys=h0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class V1 extends kt{constructor(t,i){super(t,"not-in",i),this.keys=h0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function h0(r,t){return(t.arrayValue?.values||[]).map((i=>Se.fromName(i.referenceValue)))}class L1 extends kt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return om(i)&&_l(i.arrayValue,this.value)}}class U1 extends kt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&_l(this.value.arrayValue,i)}}class j1 extends kt{constructor(t,i){super(t,"not-in",i)}matches(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_l(this.value.arrayValue,i)}}class P1 extends kt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>_l(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i=null,a=[],l=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function kv(r,t=null,i=[],a=[],l=null,h=null,d=null){return new z1(r,t,i,a,l,h,d)}function lm(r){const t=et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Ld(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),sm(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ka(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ka(a))).join(",")),t.Te=i}return t.Te}function um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!D1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!u0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i=null,a=[],l=[],h=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B1(r,t,i,a,l,h,d,y){return new Kc(r,t,i,a,l,h,d,y)}function q1(r){return new Kc(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function H1(r){return r.collectionGroup!==null}function fl(r){const t=et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(Ft.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new kc(h,a))})),i.has(Ft.keyField().canonicalString())||t.Ie.push(new kc(Ft.keyField(),a))}return t.Ie}function Lr(r){const t=et(r);return t.Ee||(t.Ee=G1(t,fl(r))),t.Ee}function G1(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new kc(l.field,h)}));const i=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ud(r,t,i){return new Kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function f0(r,t){return um(Lr(r),Lr(t))&&r.limitType===t.limitType}function d0(r){return`${lm(Lr(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>c0(l))).join(", ")}]`),sm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ka(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ka(l))).join(",")),`Target(${a})`})(Lr(r))}; limitType=${r.limitType})`}function cm(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Se.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of fl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,v){const _=Ov(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,fl(a),l)||a.endAt&&!(function(d,y,v){const _=Ov(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,fl(a),l))})(r,t)}function F1(r){return(t,i)=>{let a=!1;for(const l of fl(r)){const h=Q1(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function Q1(r,t,i){const a=r.field.isKeyField()?Se.comparator(t.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ya(v,_):be(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wa(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new hn(Se.comparator);function Vc(){return Y1}const m0=new hn(Se.comparator);function dc(...r){let t=m0;for(const i of r)t=t.insert(i.key,i);return t}function p0(r){let t=m0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function kr(){return dl()}function g0(){return dl()}function dl(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const K1=new hn(Se.comparator),X1=new Yt(Se.comparator);function Zt(...r){let t=X1;for(const i of r)t=t.add(i);return t}const $1=new Yt(qe);function Z1(){return $1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function y0(r){return{integerValue:""+r}}function J1(r,t){return S1(t)?y0(t):hm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function W1(r,t,i){return r instanceof El?(function(l,h){const d={fields:{[e0]:{stringValue:W_},[n0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&rm(h)&&(h=am(h)),h&&(d.fields[t0]=h),{mapValue:d}})(i,t):r instanceof Tl?_0(r,t):r instanceof Sl?E0(r,t):(function(l,h){const d=v0(l,h),y=Lv(d)+Lv(l.Ae);return Vd(d)&&Vd(l.Ae)?y0(y):hm(l.serializer,y)})(r,t)}function eA(r,t,i){return r instanceof Tl?_0(r,t):r instanceof Sl?E0(r,t):i}function v0(r,t){return r instanceof Lc?(function(a){return Vd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class El extends Xc{}class Tl extends Xc{constructor(t){super(),this.elements=t}}function _0(r,t){const i=T0(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Sl extends Xc{constructor(t){super(),this.elements=t}}function E0(r,t){let i=T0(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Lc extends Xc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Lv(r){return Gt(r.integerValue||r.doubleValue)}function T0(r){return om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,i){this.field=t,this.transform=i}}function nA(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Tl&&l instanceof Tl||a instanceof Sl&&l instanceof Sl?Fa(a.elements,l.elements,Ci):a instanceof Lc&&l instanceof Lc?Ci(a.Ae,l.Ae):a instanceof El&&l instanceof El})(r.transform,t.transform)}class iA{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class $c{}function S0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new A0(r.key,Zi.none()):new Rl(r.key,r.data,Zi.none());{const i=r.data,a=$n.empty();let l=new Yt(Ft.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new Fr(r.key,a,new Jn(l.toArray()),Zi.none())}}function sA(r,t,i){r instanceof Rl?(function(l,h,d){const y=l.value.clone(),v=jv(l.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof Fr?(function(l,h,d){if(!Tc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=jv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(b0(l)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function ml(r,t,i,a){return r instanceof Rl?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=h.value.clone(),R=Pv(h.fieldTransforms,v,d);return _.setAll(R),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Fr?(function(h,d,y,v){if(!Tc(h.precondition,d))return y;const _=Pv(h.fieldTransforms,v,d),R=d.data;return R.setAll(b0(h)),R.setAll(_),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(h,d,y){return Tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function rA(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=v0(a.transform,l||null);h!=null&&(i===null&&(i=$n.empty()),i.set(a.field,h))}return i||null}function Uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fa(a,l,((h,d)=>nA(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Rl extends $c{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fr extends $c{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function b0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function jv(r,t,i){const a=new Map;ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,y=t.data.field(h.field);a.set(h.field,eA(d,y,i[l]))}return a}function Pv(r,t,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,W1(h,d,t))}return a}class A0 extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&sA(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=g0();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(l.key)?null:y;const v=S0(d,y);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(at.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Zt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,a)=>Uv(i,a)))&&Fa(this.baseMutations,t.baseMutations,((i,a)=>Uv(i,a)))}}class fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return K1})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new fm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ke;function uA(r){switch(r){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function cA(r){if(r===void 0)return zr("GRPC error has no .code"),J.UNKNOWN;switch(r){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:r})}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zd([4294967295,4294967295],0);class hA{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jd(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function dA(r,t){return jd(r,t.toTimestamp())}function Pa(r){return ht(!!r,49232),at.fromTimestamp((function(i){const a=Br(i);return new ot(a.seconds,a.nanos)})(r))}function w0(r,t){return Pd(r,t).canonicalString()}function Pd(r,t){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function mA(r){const t=lt.fromString(r);return ht(SA(t),10190,{key:t.toString()}),t}function zd(r,t){return w0(r.databaseId,t.path)}function pA(r){const t=mA(r);return t.length===4?lt.emptyPath():yA(t)}function gA(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yA(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:zd(r,t),fields:i.value.mapValue.fields}}function vA(r,t){let i;if(t instanceof Rl)i={update:zv(r,t.key,t.value)};else if(t instanceof A0)i={delete:zd(r,t.key)};else if(t instanceof Fr)i={update:zv(r,t.key,t.data),updateMask:TA(t.fieldMask)};else{if(!(t instanceof aA))return be(16599,{Vt:t.type});i={verify:zd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof El)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Sl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Lc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw be(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:dA(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:be(27497)})(r,t.precondition)),i}function _A(r,t){return r&&r.length>0?(ht(t!==void 0,14353),r.map((i=>(function(l,h){let d=l.updateTime?Pa(l.updateTime):Pa(h);return d.isEqual(at.min())&&(d=Pa(h)),new iA(d,l.transformResults||[])})(i,t)))):[]}function EA(r){let t=pA(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ht(a===1,65062);const R=i.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let h=[];i.where&&(h=(function(w){const L=x0(w);return L instanceof Zs&&l0(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((L=>(function(Z){return new kc(Ua(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(L)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let L;return L=typeof w=="object"?w.value:w,sm(L)?null:L})(i.limit));let v=null;i.startAt&&(v=(function(w){const L=!!w.before,X=w.values||[];return new Mc(X,L)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const L=!w.before,X=w.values||[];return new Mc(X,L)})(i.endAt)),B1(t,l,d,h,y,"F",v,_)}function x0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return kt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return kt.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zs.create(i.compositeFilter.filters.map((a=>x0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function Ua(r){return Ft.fromServerFormat(r.fieldPath)}function TA(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.yt=t}}function AA(r){const t=EA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.Cn=new xA}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve($s.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class xA{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Yt(lt.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Yt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(C0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="LruGarbageCollector",CA=1048576;function Hv([r,t],[i,a]){const l=qe(r,i);return l===0?qe(t,a):l}class RA{constructor(t){this.Ir=t,this.buffer=new Yt(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IA{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cl(i)?ue(qv,"Ignoring IndexedDB error during garbage collection: ",i):await tm(i)}await this.Vr(3e5)}))}}class NA{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(nm.ce);const a=new RA(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,y,v,_;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,y=Date.now(),this.removeTargets(t,a,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),La()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-R}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:w}))))}}function DA(r,t){return new NA(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&ml(a.mutation,l,Jn.empty(),ot.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Zt()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=dc();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let h=Vc();const d=dl(),y=(function(){return dl()})();return i.forEach(((v,_)=>{const R=a.get(_.key);l.has(_.key)&&(R===void 0||R.mutation instanceof Fr)?h=h.insert(_.key,_):R!==void 0?(d.set(_.key,R.mutation.getFieldMask()),ml(R.mutation,_,R.mutation.getFieldMask(),ot.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,R)=>d.set(_,R))),i.forEach(((_,R)=>y.set(_,new MA(R,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=dl();let l=new hn(((d,y)=>d-y)),h=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let R=a.get(v)||Jn.empty();R=y.applyToLocalView(_,R),a.set(v,R);const w=(l.get(y.batchId)||Zt()).add(v);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,R=v.value,w=g0();R.forEach((L=>{if(!h.has(L)){const X=S0(i.get(L),a.get(L));X!==null&&w.set(L,X),h=h.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return Se.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):H1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):$.resolve(kr());let y=vl,v=h;return d.next((_=>$.forEach(_,((R,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),h.get(R)?$.resolve():this.remoteDocumentCache.getEntry(t,R).next((L=>{v=v.insert(R,L)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Zt()))).next((R=>({batchId:y,changes:p0(R)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Se(i)).next((a=>{let l=dc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=dc();return this.indexManager.getCollectionParents(t,h).next((y=>$.forEach(y,(v=>{const _=(function(w,L){return new Kc(L,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((R=>{R.forEach(((w,L)=>{d=d.insert(w,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const R=_.getKey();d.get(R)===null&&(d=d.insert(R,Kn.newInvalidDocument(R)))}));let y=dc();return d.forEach(((v,_)=>{const R=h.get(v);R!==void 0&&ml(R.mutation,_,Jn.empty(),ot.now()),cm(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pa(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:AA(l.bundledQuery),readTime:Pa(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.overlays=new hn(Se.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=kr();return $.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.St(t,i,h)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=kr(),h=i.length+1,d=new Se(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new hn(((_,R)=>_-R));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let R=h.get(_.largestBatchId);R===null&&(R=kr(),h=h.insert(_.largestBatchId,R)),R.set(_.getKey(),_)}}const y=kr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,R)=>y.set(_,R))),!(y.size()>=l)););return $.resolve(y)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lA(i,a));let h=this.qr.get(i);h===void 0&&(h=Zt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Qr=new Yt(Mt.$r),this.Ur=new Yt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Mt(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Mt(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Se(new lt([])),a=new Mt(i,t),l=new Mt(i,t+1),h=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Se(new lt([])),a=new Mt(i,t),l=new Mt(i,t+1);let h=Zt();return this.Ur.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Mt(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Mt{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Se.comparator(t.key,i.key)||qe(t.Yr,i.Yr)}static Kr(t,i){return qe(t.Yr,i.Yr)||Se.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oA(h,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Mt(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?im:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Mt(i,0),l=new Mt(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);h.push(y)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Yt(qe);return i.forEach((l=>{const h=new Mt(l,0),d=new Mt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;Se.isDocumentKey(h)||(h=h.child(""));const d=new Mt(new Se(h),0);let y=new Yt(qe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(v.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const h=new Mt(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Mt(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t){this.ri=t,this.docs=(function(){return new hn(Se.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(i))}getEntries(t,i){let a=Vc();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Kn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Vc();const d=i.path,y=new Se(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:R}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||v1(y1(R),a)<=0||(l.has(R.key)||cm(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(t,i,a,l){be(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new zA(this)}getSize(t){return $.resolve(this.size)}}class zA extends OA{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.persistence=t,this.si=new Gr((i=>lm(i)),um),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new dm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),$.waitFor(h).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,i){this.ui={},this.overlays={},this.ci=new nm(0),this.li=!1,this.li=!0,this.hi=new UA,this.referenceDelegate=t(this),this.Pi=new BA(this),this.indexManager=new wA,this.remoteDocumentCache=(function(l){return new PA(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new bA(i),this.Ii=new VA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LA,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new jA(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ue("MemoryPersistence","Starting transaction:",t);const l=new qA(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class qA extends E1{constructor(t){super(),this.currentSequenceNumber=t}}class mm{constructor(t){this.persistence=t,this.Ri=new dm,this.Vi=null}static mi(t){return new mm(t)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=Se.fromPath(a);return this.gi(t,l).next((h=>{h||i.removeEntry(l,at.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Uc{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>b1(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=DA(this,i)}static mi(t,i){return new Uc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,h.removeEntry(d,at.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Zt(),l=Zt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new pm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BS()?8:T1(Jt())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new HA;return this.Ss(t,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>h.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ll(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(La()<=De.DEBUG&&ue("QueryEngine","Query:",ll(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ll(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Lr(i))):$.resolve())}ys(t,i){if(Vv(i))return $.resolve(null);let a=Lr(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Ud(i,null,"F"),a=Lr(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Zt(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(t,Ud(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,a,l){return Vv(i)||l.isEqual(at.min())?$.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?$.resolve(null):(La()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(i)),this.vs(t,d,i,g1(l,vl)).next((y=>y)))}))}Ds(t,i){let a=new Yt(F1(t));return i.forEach(((l,h)=>{cm(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return La()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ll(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="LocalStore";class QA{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new hn(qe),this.xs=new Gr((h=>lm(h)),um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function YA(r,t,i,a){return new QA(r,t,i,a)}async function I0(r,t){const i=et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=Zt();for(const _ of l){d.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}for(const _ of h){y.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function KA(r,t){const i=et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,R){const w=_.batch,L=w.keys();let X=$.resolve();return L.forEach((Z=>{X=X.next((()=>R.getEntry(v,Z))).next((te=>{const W=_.docVersions.get(Z);ht(W!==null,48541),te.version.compareTo(W)<0&&(w.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),R.addEntry(te)))}))})),X.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=Zt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function XA(r){const t=et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function $A(r,t){const i=et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}class Gv{constructor(){this.activeTargetIds=Z1()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZA{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Bd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",WA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ew{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Dc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=Bd(),y=this.zo(t,i.toUriEncodedString());ue(_d,`Sending RPC '${t}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:_}=new URL(y),R=$a(_);return this.Jo(t,y,v,a,R).then((w=>(ue(_d,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Yc(_d,`RPC '${t}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const a=WA[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class nw extends ew{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=Bd();return new Promise(((y,v)=>{const _=new q_;_.setWithCredentials(!0),_.listenOnce(H_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case vc.NO_ERROR:const w=_.getResponseJson();ue(Xt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),y(w);break;case vc.TIMEOUT:ue(Xt,`RPC '${t}' ${d} timed out`),v(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const L=_.getStatus();if(ue(Xt,`RPC '${t}' ${d} failed with status:`,L,"response text:",_.getResponseText()),L>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const Z=X?.error;if(Z&&Z.status&&Z.message){const te=(function(se){const oe=se.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})(Z.status);v(new fe(te,Z.message))}else v(new fe(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new fe(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(Xt,`RPC '${t}' ${d} completed.`)}}));const R=JSON.stringify(l);ue(Xt,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",R,a,15)}))}T_(t,i,a){const l=Bd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Q_(),y=F_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const R=h.join("");ue(Xt,`Creating RPC '${t}' stream ${l}: ${R}`,v);const w=d.createWebChannel(R,v);this.I_(w);let L=!1,X=!1;const Z=new tw({Yo:W=>{X?ue(Xt,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(L||(ue(Xt,`Opening RPC '${t}' stream ${l} transport.`),w.open(),L=!0),ue(Xt,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),te=(W,se,oe)=>{W.listen(se,(ce=>{try{oe(ce)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return te(w,ul.EventType.OPEN,(()=>{X||(ue(Xt,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),te(w,ul.EventType.CLOSE,(()=>{X||(X=!0,ue(Xt,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(w))})),te(w,ul.EventType.ERROR,(W=>{X||(X=!0,Yc(Xt,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),te(w,ul.EventType.MESSAGE,(W=>{if(!X){const se=W.data[0];ht(!!se,16349);const oe=se,ce=oe?.error||oe[0]?.error;if(ce){ue(Xt,`RPC '${t}' stream ${l} received error:`,ce);const Re=ce.status;let Be=(function(b){const A=wt[b];if(A!==void 0)return cA(A)})(Re),we=ce.message;Be===void 0&&(Be=J.INTERNAL,we="Unknown error status: "+Re+" with message "+ce.message),X=!0,Z.a_(new fe(Be,we)),w.close()}else ue(Xt,`RPC '${t}' stream ${l} received:`,se),Z.u_(se)}})),te(y,G_.STAT_EVENT,(W=>{W.stat===Nd.PROXY?ue(Xt,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===Nd.NOPROXY&&ue(Xt,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r){return new hA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="PersistentStream";class iw{constructor(t,i,a,l,h,d,y,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(zr(i.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new fe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ue(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sw extends iw{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=_A(t.writeResults,t.commitTime),a=Pa(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=gA(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>vA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{}class aw extends rw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Pd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(J.UNKNOWN,h.toString())}))}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,Pd(i,a),l,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ow{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class lw{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Dl(this)&&(ue(Il,"Restarting streams for network reachability change."),await(async function(v){const _=et(v);_.Ea.add(4),await Nl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Jc(_)})(this))}))})),this.Ra=new ow(a,l)}}async function Jc(r){if(Dl(r))for(const t of r.da)await t(!0)}async function Nl(r){for(const t of r.da)await t(!1)}function Dl(r){return et(r).Ea.size===0}async function D0(r,t,i){if(!Cl(t))throw t;r.Ea.add(1),await Nl(r),r.Ra.set("Offline"),i||(i=()=>XA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(Il,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Jc(r)}))}function O0(r,t){return t().catch((i=>D0(r,i,t)))}async function Wc(r){const t=et(r),i=Js(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:im;for(;uw(t);)try{const l=await $A(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,cw(t,l)}catch(l){await D0(t,l)}M0(t)&&k0(t)}function uw(r){return Dl(r)&&r.Ta.length<10}function cw(r,t){r.Ta.push(t);const i=Js(r);i.O_()&&i.X_&&i.ea(t.mutations)}function M0(r){return Dl(r)&&!Js(r).x_()&&r.Ta.length>0}function k0(r){Js(r).start()}async function hw(r){Js(r).ra()}async function fw(r){const t=Js(r);for(const i of r.Ta)t.ea(i.mutations)}async function dw(r,t,i){const a=r.Ta.shift(),l=fm.from(a,t,i);await O0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Wc(r)}async function mw(r,t){t&&Js(r).X_&&await(async function(a,l){if((function(d){return uA(d)&&d!==J.ABORTED})(l.code)){const h=a.Ta.shift();Js(a).B_(),await O0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Wc(a)}})(r,t),M0(r)&&k0(r)}async function Kv(r,t){const i=et(r);i.asyncQueue.verifyOperationInProgress(),ue(Il,"RemoteStore received new credentials");const a=Dl(i);i.Ea.add(3),await Nl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Jc(i)}async function pw(r,t){const i=et(r);t?(i.Ea.delete(2),await Jc(i)):t||(i.Ea.add(2),await Nl(i),i.Ra.set("Unknown"))}function Js(r){return r.fa||(r.fa=(function(i,a,l){const h=et(i);return h.sa(),new sw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hw.bind(null,r),r_:mw.bind(null,r),ta:fw.bind(null,r),na:dw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Wc(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Il,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,y=new gm(t,i,d,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V0(r,t){if(zr("AsyncQueue",`${t}: ${r}`),Cl(r))return new fe(J.UNAVAILABLE,`${t}: ${r}`);throw r}class gw{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=et(i),h=l.queries;l.queries=Xv(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Xv(){return new Gr((r=>d0(r)),f0)}function yw(r){r.Ca.forEach((t=>{t.next()}))}var $v,Zv;(Zv=$v||($v={})).Ma="default",Zv.Cache="cache";const vw="SyncEngine";class _w{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((y=>d0(y)),f0),this.Iu=new Map,this.Eu=new Set,this.du=new hn(Se.comparator),this.Au=new Map,this.Ru=new dm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ew(r,t,i){const a=Aw(r);try{const l=await(function(d,y){const v=et(d),_=ot.now(),R=y.reduce(((X,Z)=>X.add(Z.key)),Zt());let w,L;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let Z=Vc(),te=Zt();return v.Ns.getEntries(X,R).next((W=>{Z=W,Z.forEach(((se,oe)=>{oe.isValidDocument()||(te=te.add(se))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,Z))).next((W=>{w=W;const se=[];for(const oe of y){const ce=rA(oe,w.get(oe.key).overlayedDocument);ce!=null&&se.push(new Fr(oe.key,ce,r0(ce.value.mapValue),Zi.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,se,y)})).next((W=>{L=W;const se=W.applyToLocalDocumentSet(w,te);return v.documentOverlayCache.saveOverlays(X,W.batchId,se)}))})).then((()=>({batchId:L.batchId,changes:p0(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new hn(qe)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await eh(a,l.changes),await Wc(a.remoteStore)}catch(l){const h=V0(l,"Failed to persist write");i.reject(h)}}function Jv(r,t,i){const a=et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=et(d);v.onlineState=y;let _=!1;v.queries.forEach(((R,w)=>{for(const L of w.Sa)L.va(y)&&(_=!0)})),_&&yw(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Tw(r,t){const i=et(r),a=t.batch.batchId;try{const l=await KA(i.localStore,t);U0(i,a,null),L0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eh(i,l)}catch(l){await tm(l)}}async function Sw(r,t,i){const a=et(r);try{const l=await(function(d,y){const v=et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let R;return v.mutationQueue.lookupMutationBatch(_,y).next((w=>(ht(w!==null,37113),R=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,R,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,R))).next((()=>v.localDocuments.getDocuments(_,R)))}))})(a.localStore,t);U0(a,t,i),L0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eh(a,l)}catch(l){await tm(l)}}function L0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function U0(r,t,i){const a=et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}async function eh(r,t,i){const a=et(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const R=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){l.push(_);const R=pm.As(v.targetId,_);h.push(R)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const R=et(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(L=>$.forEach(L.Es,(X=>R.persistence.referenceDelegate.addReference(w,L.targetId,X))).next((()=>$.forEach(L.ds,(X=>R.persistence.referenceDelegate.removeReference(w,L.targetId,X)))))))))}catch(w){if(!Cl(w))throw w;ue(FA,"Failed to update sequence numbers: "+w)}for(const w of _){const L=w.targetId;if(!w.fromCache){const X=R.Ms.get(L),Z=X.snapshotVersion,te=X.withLastLimboFreeSnapshotVersion(Z);R.Ms=R.Ms.insert(L,te)}}})(a.localStore,h))}async function bw(r,t){const i=et(r);if(!i.currentUser.isEqual(t)){ue(vw,"User change. New user:",t.toKey());const a=await I0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new fe(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eh(i,a.Ls)}}function Aw(r){const t=et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return YA(this.persistence,new GA,t.initialUser,this.serializer)}Cu(t){return new R0(mm.mi,this.serializer)}Du(t){return new ZA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class ww extends jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ht(this.persistence.referenceDelegate instanceof Uc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new IA(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new R0((a=>Uc.mi(a,i)),this.serializer)}}class qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bw.bind(null,this.syncEngine),await pw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gw})()}createDatastore(t){const i=Zc(t.databaseInfo.databaseId),a=(function(h){return new nw(h)})(t.databaseInfo);return(function(h,d,y,v){return new aw(h,d,y,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,y){return new lw(a,l,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new JA})())}createSyncEngine(t,i){return(function(l,h,d,y,v,_,R){const w=new _w(l,h,d,y,v,_);return R&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=et(i);ue(Il,"RemoteStore shutting down."),a.Ea.add(5),await Nl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class xw{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ue(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=V0(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Td(r,t){r.asyncQueue.verifyOperationInProgress(),ue(Ws,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await I0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Cw(r);ue(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Kv(t.remoteStore,l))),r._onlineComponents=t}async function Cw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ws,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Yc("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new jc)}}else ue(Ws,"Using default OfflineComponentProvider"),await Td(r,new ww(void 0));return r._offlineComponents}async function Rw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ws,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(ue(Ws,"Using default OnlineComponentProvider"),await Wv(r,new qd))),r._onlineComponents}function Iw(r){return Rw(r).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firestore.googleapis.com",t_=!0;class n_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P0,this.ssl=t_}else this.host=t.host,this.ssl=t.ssl??t_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=C0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CA)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new r1;switch(a.type){case"firstParty":return new u1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e_.get(i);a&&(ue("ComponentProvider","Removing Datastore"),e_.delete(i),a.terminate())})(this),Promise.resolve()}}function Nw(r,t,i,a={}){r=Od(r,th);const l=$a(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;l&&(k_(`https://${y}`),V_("Firestore",!0)),h.host!==P0&&h.host!==y&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:l,emulatorOptions:a};if(!Ur(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,R;if(typeof a.mockUserToken=="string")_=a.mockUserToken,R=$t.MOCK_USER;else{_=OS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new $t(w)}r._authCredentials=new a1(new K_(_,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ym(this.firestore,t,this._query)}}class Qt{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qt(this.firestore,t,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(xl(i,Qt._jsonSchema))return new Qt(t,a||null,new Se(lt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:xt("string",Qt._jsonSchemaVersion),referencePath:xt("string")};class Qs extends ym{constructor(t,i,a){super(t,i,q1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qt(this.firestore,null,new Se(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function Dw(r,t,...i){if(r=ei(r),X_("collection","path",t),r instanceof th){const a=lt.fromString(t,...i);return Av(a),new Qs(r,null,a)}{if(!(r instanceof Qt||r instanceof Qs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(t,...i));return Av(a),new Qs(r.firestore,null,a)}}function Ow(r,t,...i){if(r=ei(r),arguments.length===1&&(t=Wd.newId()),X_("doc","path",t),r instanceof th){const a=lt.fromString(t,...i);return bv(a),new Qt(r,null,new Se(a))}{if(!(r instanceof Qt||r instanceof Qs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(t,...i));return bv(a),new Qt(r.firestore,r instanceof Qs?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="AsyncQueue";class s_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N0(this,"async_queue_retry"),this._c=()=>{const a=Ed();a&&ue(i_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Cl(t))throw t;ue(i_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",r_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=gm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:r_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function r_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class z0 extends th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new s_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new s_(t),this._firestoreClient=void 0,await t}}}function Mw(r,t){const i=typeof r=="object"?r:P_(),a=typeof r=="string"?r:Dc,l=$d(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=NS("firestore");h&&Nw(l,...h)}return l}function kw(r){if(r._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Vw(r),r._firestoreClient}function Vw(r){const t=r._freezeSettings(),i=(function(l,h,d,y){return new C1(l,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,j0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new xw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(xi.fromBase64String(t))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(xi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:xt("string",Zn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(t){if(xl(t,Ji._jsonSchema))return new Ji(t.latitude,t.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:xt("string",Ji._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,Wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Wi(t.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:xt("string",Wi._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^__.*__$/;class Uw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Rl(t,this.data,i,this.fieldTransforms)}}function B0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class Em{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Em({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(B0(this.Ac)&&Lw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class jw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Zc(t)}Cc(t,i,a,l=!1){return new Em({Ac:t,methodName:i,Dc:a,path:Ft.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pw(r){const t=r._freezeSettings(),i=Zc(r._databaseId);return new jw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function zw(r,t,i,a,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,i,l);F0("Data must be an object, but it was:",d,a);const y=H0(a,d);let v,_;if(h.merge)v=new Jn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const w of h.mergeFields){const L=Bw(t,w,i);if(!d.contains(L))throw new fe(J.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);Hw(R,L)||R.push(L)}v=new Jn(R),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new Uw(new $n(y),v,_)}class Tm extends _m{_toFieldTransform(t){return new tA(t.path,new El)}isEqual(t){return t instanceof Tm}}function q0(r,t){if(G0(r=ei(r)))return F0("Unsupported field value:",t,r),H0(r,t);if(r instanceof _m)return(function(a,l){if(!B0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const y of a){let v=q0(y,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=ei(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return J1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ot.fromDate(a);return{timestampValue:jd(l.serializer,h)}}if(a instanceof ot){const h=new ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jd(l.serializer,h)}}if(a instanceof Ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:fA(l.serializer,a._byteString)};if(a instanceof Qt){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:w0(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Wi)return(function(d,y){return{mapValue:{fields:{[i0]:{stringValue:s0},[Md]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return hm(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${em(a)}`)})(r,t)}function H0(r,t){const i={};return J_(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(r,((a,l)=>{const h=q0(l,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function G0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Ji||r instanceof Zn||r instanceof Qt||r instanceof _m||r instanceof Wi)}function F0(r,t,i){if(!G0(i)||!$_(i)){const a=em(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Bw(r,t,i){if((t=ei(t))instanceof vm)return t._internalPath;if(typeof t=="string")return Q0(r,t);throw Pc("Field path arguments must be of type string or ",r,!1,void 0,i)}const qw=new RegExp("[~\\*/\\[\\]]");function Q0(r,t,i){if(t.search(qw)>=0)throw Pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vm(...t.split("."))._internalPath}catch{throw Pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Pc(r,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new fe(J.INVALID_ARGUMENT,y+r+v)}function Hw(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Gw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(K0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gw extends Y0{data(){return super.data()}}function K0(r,t){return typeof t=="string"?Q0(r,t):t instanceof vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends Y0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(K0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:xt("string",za._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Sc extends za{data(t={}){return super.data(t)}}class pl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Sc(this._firestore,this._userDataWriter,a.key,a,new pc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new Sc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Sc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,R=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:Qw(y.type),doc:v,oldIndex:_,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Qw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:xt("string",pl._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function Yw(r,t,i){r=Od(r,Qt);const a=Od(r.firestore,z0),l=Fw(r.converter,t);return Kw(a,[zw(Pw(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Zi.none())])}function Kw(r,t){return(function(a,l){const h=new Vr;return a.asyncQueue.enqueueAndForget((async()=>Ew(await Iw(a),l,h))),h.promise})(kw(r),t)}function Xw(){return new Tm("serverTimestamp")}(function(t,i=!0){(function(l){Ja=l})(Za),Ga(new jr("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new z0(new o1(a.getProvider("auth-internal")),new c1(d,a.getProvider("app-check-internal")),(function(_,R){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(_.options.projectId,R)})(d,l),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Fs(_v,Ev,t),Fs(_v,Ev,"esm2020")})();var $w="firebase",Zw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs($w,Zw,"app");function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jw=X0,$0=new Al("auth","Firebase",X0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Kd("@firebase/auth");function Ww(r,...t){zc.logLevel<=De.WARN&&zc.warn(`Auth (${Za}): ${r}`,...t)}function bc(r,...t){zc.logLevel<=De.ERROR&&zc.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,...t){throw Sm(r,...t)}function Ai(r,...t){return Sm(r,...t)}function Z0(r,t,i){const a={...Jw(),[t]:i};return new Al("auth","Firebase",a).create(t,{appName:r.name})}function Ys(r){return Z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return $0.create(r,...t)}function pe(r,t,...i){if(!r)throw Sm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bc(t),new Error(t)}function ns(r,t){r||Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return typeof self<"u"&&self.location?.href||""}function e2(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e2()||jS()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=VS()||PS()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r,t){ns(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r2=new Ol(3e4,6e4);function nh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function eo(r,t,i,a,l={}){return W0(r,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const y=wl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...h};return US()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(_.credentials="include"),J0.fetch()(await tE(r,r.config.apiHost,i,y),_)})}async function W0(r,t,i){r._canInitEmulator=!1;const a={...i2,...t};try{const l=new a2(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw gc(r,"user-disabled",d);const R=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Z0(r,R,_);ts(r,R)}}catch(l){if(l instanceof is)throw l;ts(r,"network-request-failed",{message:String(l)})}}async function eE(r,t,i,a,l={}){const h=await eo(r,t,i,a,l);return"mfaPendingCredential"in h&&ts(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function tE(r,t,i,a){const l=`${t}${i}?${a}`,h=r,d=h.config.emulator?bm(r.config,l):`${r.config.apiScheme}://${l}`;return s2.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class a2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),r2.get())})}}function gc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(r,t){return eo(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return eo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function l2(r,t=!1){const i=ei(r),a=await i.getIdToken(t),l=Am(a);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:gl(Sd(l.auth_time)),issuedAtTime:gl(Sd(l.iat)),expirationTime:gl(Sd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Sd(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=N_(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o_(r){const t=Am(r);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&u2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function u2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){const t=r.auth,i=await r.getIdToken(),a=await bl(r,Bc(t,{idToken:i}));pe(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?nE(l.providerUserInfo):[],d=f2(r.providerData,h),y=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,_=y?v:!1,R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,R)}async function h2(r){const t=ei(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function f2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function nE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(r,t){const i=await W0(r,{},async()=>{const a=wl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await tE(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(v.credentials="include"),J0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function m2(r,t){return eo(r,"POST","/v2/accounts:revokeToken",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pe(t.length!==0,"internal-error");const i=o_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await d2(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new Ba;return a&&(pe(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pe(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(pe(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(r,t){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new c2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await bl(this,this.stsTokenManager.getToken(this.auth,t));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return l2(this,t)}reload(){return h2(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ys(this.auth));const t=await this.getIdToken();return await bl(this,o2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,R=i.lastLoginAt??void 0,{uid:w,emailVerified:L,isAnonymous:X,providerData:Z,stsTokenManager:te}=i;pe(w&&te,t,"internal-error");const W=Ba.fromJSON(this.name,te);pe(typeof w=="string",t,"internal-error"),Us(a,t.name),Us(l,t.name),pe(typeof L=="boolean",t,"internal-error"),pe(typeof X=="boolean",t,"internal-error"),Us(h,t.name),Us(d,t.name),Us(y,t.name),Us(v,t.name),Us(_,t.name),Us(R,t.name);const se=new Wn({uid:w,auth:t,email:l,emailVerified:L,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:W,createdAt:_,lastLoginAt:R});return Z&&Array.isArray(Z)&&(se.providerData=Z.map(oe=>({...oe}))),v&&(se._redirectEventId=v),se}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const h=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await qc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?nE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new Ba;y.updateFromIdToken(a);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function $i(r){ns(r instanceof Function,"Expected a class definition");let t=l_.get(r);return t?(ns(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,l_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}iE.type="NONE";const u_=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ac("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa($i(u_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||$i(u_);const d=Ac(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const R=await _._get(d);if(R){let w;if(typeof R=="string"){const L=await Bc(t,{idToken:R}).catch(()=>{});if(!L)break;w=await Wn._fromGetAccountInfoResponse(t,L,R)}else w=Wn._fromJSON(t,R);_!==h&&(y=w),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new qa(h,t,a):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new qa(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uE(t))return"Blackberry";if(cE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||aE(t))&&!t.includes("edge/"))return"Chrome";if(lE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function sE(r=Jt()){return/firefox\//i.test(r)}function rE(r=Jt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aE(r=Jt()){return/crios\//i.test(r)}function oE(r=Jt()){return/iemobile/i.test(r)}function lE(r=Jt()){return/android/i.test(r)}function uE(r=Jt()){return/blackberry/i.test(r)}function cE(r=Jt()){return/webos/i.test(r)}function wm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function p2(r=Jt()){return wm(r)&&!!window.navigator?.standalone}function g2(){return zS()&&document.documentMode===10}function hE(r=Jt()){return wm(r)||lE(r)||cE(r)||uE(r)||/windows phone/i.test(r)||oE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r,t=[]){let i;switch(r){case"Browser":i=c_(Jt());break;case"Worker":i=`${c_(Jt())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,y)=>{try{const v=t(h);d(v)}catch(v){y(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,t={}){return eo(r,"GET","/v2/passwordPolicy",nh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=6;class E2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ys(this));const i=t?ei(t):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await v2(this),i=new E2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Al("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await m2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ww(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(r){return ei(r)}class h_{constructor(t){this.auth=t,this.observer=null,this.addObserver=KS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(r){xm=r}function b2(r){return xm.loadJS(r)}function A2(){return xm.gapiScript}function w2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,t){const i=$d(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ur(h,t??{}))return l;ts(l,"already-initialized")}return i.initialize({options:t})}function C2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function R2(r,t,i){const a=ih(r);pe(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=dE(t),{host:d,port:y}=I2(t),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},R=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pe(Ur(_,a.config.emulator)&&Ur(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(k_(`${h}//${d}${v}`),V_("Auth",!0)):N2()}function dE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function I2(r){const t=dE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:f_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:f_(d)}}}function f_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function N2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,t){return eE(r,"POST","/v1/accounts:signInWithIdp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="http://localhost";class Hr extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Hr(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:D2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=wl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends pE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ml{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Ml{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ml{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,t){return eE(r,"POST","/v1/accounts:signUp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Wn._fromIdTokenResponse(t,a,l),d=d_(a);return new er({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=d_(a);return new er({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function d_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r){if(Xn(r.app))return Promise.reject(Ys(r));const t=ih(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await O2(t,{returnSecureToken:!0}),a=await er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Hc(t,i,a,l)}}function gE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,h,t,a):h})}async function k2(r,t,i=!1){const a=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return er._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Ys(a));const l="reauthenticate";try{const h=await bl(r,gE(a,l,t,r),i);pe(h.idToken,a,"internal-error");const d=Am(h.idToken);pe(d,a,"internal-error");const{sub:y}=d;return pe(r.uid===y,a,"user-mismatch"),er._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&ts(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ys(r));const a="signIn",l=await gE(r,a,t),h=await er._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}function U2(r,t,i,a){return ei(r).onIdTokenChanged(t,i,a)}function j2(r,t,i){return ei(r).beforeAuthStateChanged(t,i)}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,z2=10;class vE extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);g2()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,z2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}vE.type="LOCAL";const B2=vE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}_E.type="SESSION";const EE=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,h)),v=await q2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=Cm("",20);l.port1.start();const R=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const L=w;if(L.data.eventId===_)switch(L.data.status){case"ack":clearTimeout(R),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(L.data.response);break;default:clearTimeout(R),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function G2(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function F2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q2(){return navigator?.serviceWorker?.controller||null}function Y2(){return TE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebaseLocalStorageDb",K2=1,Fc="firebaseLocalStorage",bE="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function X2(){const r=indexedDB.deleteDatabase(SE);return new kl(r).toPromise()}function Fd(){const r=indexedDB.open(SE,K2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:bE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await X2(),t(await Fd()))})})}async function m_(r,t,i){const a=rh(r,!0).put({[bE]:t,value:i});return new kl(a).toPromise()}async function $2(r,t){const i=rh(r,!1).get(t),a=await new kl(i).toPromise();return a===void 0?null:a.value}function p_(r,t){const i=rh(r,!0).delete(t);return new kl(i).toPromise()}const Z2=800,J2=3;class AE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>J2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Y2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F2(),!this.activeServiceWorker)return;this.sender=new H2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Q2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await m_(t,Gc,"1"),await p_(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>$2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>p_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=rh(l,!1).getAll();return new kl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AE.type="LOCAL";const W2=AE;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r,t){return t?$i(t):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends mE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tx(r){return L2(r.auth,new Rm(r),r.bypassAuthState)}function nx(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),V2(i,new Rm(r),r.bypassAuthState)}async function ix(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),k2(i,new Rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tx;case"linkViaPopup":case"linkViaRedirect":return ix;case"reauthViaPopup":case"reauthViaRedirect":return nx;default:ts(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Ol(2e3,1e4);class ja extends wE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sx.get())};t()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",wc=new Map;class ax extends wE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await ox(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(r,t){const i=cx(t),a=ux(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function lx(r,t){wc.set(r._key(),t)}function ux(r){return $i(r._redirectPersistence)}function cx(r){return Ac(rx,r.config.apiKey,r.name)}async function hx(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ys(r));const a=ih(r),l=ex(a,t),d=await new ax(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=600*1e3;class dx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fx&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(t))}saveEventToCache(t){this.cachedEventUids.add(g_(t)),this.lastProcessedEventTime=Date.now()}}function g_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function xE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function mx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,t={}){return eo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yx=/^https?/;async function vx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await px(r);for(const i of t)try{if(_x(i))return}catch{}ts(r,"unauthorized-domain")}function _x(r){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!yx.test(i))return!1;if(gx.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Ol(3e4,6e4);function y_(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Tx(r){return new Promise((t,i)=>{function a(){y_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y_(),i(Ai(r,"network-request-failed"))},timeout:Ex.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=w2("iframefcb");return wi()[l]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},b2(`${A2()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw xc=null,t})}let xc=null;function Sx(r){return xc=xc||Tx(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Ol(5e3,15e3),Ax="__/auth/iframe",wx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(r){const t=r.config;pe(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?bm(t,wx):`https://${r.config.authDomain}/${Ax}`,a={apiKey:t.apiKey,appName:r.name,v:Za},l=Cx.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${wl(a).slice(1)}`}async function Ix(r){const t=await Sx(r),i=wi().gapi;return pe(i,r,"internal-error"),t.open({where:document.body,url:Rx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),y=wi().setTimeout(()=>{h(d)},bx.get());function v(){wi().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dx=500,Ox=600,Mx="_blank",kx="http://localhost";class v_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vx(r,t,i,a=Dx,l=Ox){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...Nx,width:a.toString(),height:l.toString(),top:h,left:d},_=Jt().toLowerCase();i&&(y=aE(_)?Mx:i),sE(_)&&(t=t||kx,v.scrollbars="yes");const R=Object.entries(v).reduce((L,[X,Z])=>`${L}${X}=${Z},`,"");if(p2(_)&&y!=="_self")return Lx(t||"",y),new v_(null);const w=window.open(t||"",y,R);pe(w,r,"popup-blocked");try{w.focus()}catch{}return new v_(w)}function Lx(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="__/auth/handler",jx="emulator/auth/handler",Px=encodeURIComponent("fac");async function __(r,t,i,a,l,h){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Za,eventId:l};if(t instanceof pE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",YS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,w]of Object.entries({}))d[R]=w}if(t instanceof Ml){const R=t.getScopes().filter(w=>w!=="");R.length>0&&(d.scopes=R.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const v=await r._getAppCheckToken(),_=v?`#${Px}=${encodeURIComponent(v)}`:"";return`${zx(r)}?${wl(y).slice(1)}${_}`}function zx({config:r}){return r.emulator?bm(r,jx):`https://${r.authDomain}/${Ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class Bx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EE,this._completeRedirectFn=hx,this._overrideRedirectResult=lx}async _openPopup(t,i,a,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await __(t,i,a,Hd(),l);return Vx(t,h,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await __(t,i,a,Hd(),l);return G2(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(ns(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Ix(t),a=new dx(t);return i.register("authEvent",l=>(pe(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(bd,{type:bd},l=>{const h=l?.[0]?.[bd];h!==void 0&&i(!!h),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=vx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return hE()||rE()||wm()}}const qx=Bx;var E_="@firebase/auth",T_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fx(r){Ga(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(r)},_=new T2(a,l,h,v);return C2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new jr("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new Hx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(E_,T_,Gx(r)),Fs(E_,T_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=300,Yx=M_("authIdTokenMaxAge")||Qx;let S_=null;const Kx=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Yx)return;const l=i?.token;S_!==l&&(S_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Xx(r=P_()){const t=$d(r,"auth");if(t.isInitialized())return t.getImmediate();const i=x2(r,{popupRedirectResolver:qx,persistence:[W2,B2,EE]}),a=M_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Kx(h.toString());j2(i,d,()=>d(i.currentUser)),U2(i,y=>d(y))}}const l=D_("auth");return l&&R2(i,`http://${l}`),i}function $x(){return document.getElementsByTagName("head")?.[0]??document}S2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Ai("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",$x().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fx("Browser");const Zx={apiKey:"AIzaSyD3uhzlt8xEAreucraxJS3nsx__a4d-tq8",authDomain:"wtp-survey-production.firebaseapp.com",projectId:"wtp-survey-production",storageBucket:"wtp-survey-production.firebasestorage.app",messagingSenderId:"1050941271087",appId:"1:1050941271087:web:dd807bc5973a6c0f57aada"},CE=j_(Zx),Jx=Mw(CE),Wx=Xx(CE);M2(Wx).catch(r=>{console.error("Anonymous auth error:",r)});const RE="v0.42",yc=()=>{let r=localStorage.getItem("deviceId");return r||(r=`device-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",r)),r},b_=async r=>{try{const t=Ow(Dw(Jx,"surveys"),r.id),i={...r.surveyData,surveyId:r.id,deviceId:r.deviceId,syncedAt:Xw(),version:RE,startedAt:new Date(r.surveyData.startedAt),completedAt:r.surveyData.completedAt?new Date(r.surveyData.completedAt):null};await Yw(t,i),console.log(`Successfully synced survey ${r.id} to Firebase`)}catch(t){throw console.error(`Error syncing survey ${r.id}:`,t),t}},qt=[];for(let r=0;r<256;++r)qt.push((r+256).toString(16).slice(1));function eC(r,t=0){return(qt[r[t+0]]+qt[r[t+1]]+qt[r[t+2]]+qt[r[t+3]]+"-"+qt[r[t+4]]+qt[r[t+5]]+"-"+qt[r[t+6]]+qt[r[t+7]]+"-"+qt[r[t+8]]+qt[r[t+9]]+"-"+qt[r[t+10]]+qt[r[t+11]]+qt[r[t+12]]+qt[r[t+13]]+qt[r[t+14]]+qt[r[t+15]]).toLowerCase()}let Ad;const tC=new Uint8Array(16);function nC(){if(!Ad){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ad=crypto.getRandomValues.bind(crypto)}return Ad(tC)}const iC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A_={randomUUID:iC};function sC(r,t,i){r=r||{};const a=r.random??r.rng?.()??nC();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,eC(a)}function w_(r,t,i){return A_.randomUUID&&!r?A_.randomUUID():sC(r)}const IE=Ze.createContext(void 0),rC=r=>{const t=[...r];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},x_=()=>({participantId:"",startedAt:new Date().toISOString(),appOrder:rC(vS),tokenOrder:Math.random()<.5?"ascending":"descending",choices:[],selectedChoice:null,completedAt:null,tokenBalance:qs,comprehensionAnswers:{tokenValue:"",rewardType:""},switchingPoints:{}}),aC=({children:r})=>{const[t,i]=Ze.useState(()=>{const b=localStorage.getItem("surveyData");return b?JSON.parse(b):x_()}),[a,l]=Ze.useState(()=>localStorage.getItem("currentSurveyId")||w_()),[h,d]=Ze.useState({pending:0,synced:0,failed:0,lastSyncAttempt:null,lastSuccessfulSync:null});Ze.useEffect(()=>{(async()=>{localStorage.setItem("surveyData",JSON.stringify(t)),localStorage.setItem("currentSurveyId",a);const A={id:a,surveyData:t,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yc()};await Ki(()=>rv(A),void 0)})()},[t,a]),Ze.useEffect(()=>{(async()=>{const A=await Ki(()=>Or(),[]),I=A.filter(O=>!O.synced).length,C=A.filter(O=>O.synced).length;d(O=>({...O,pending:I,synced:C}))})()},[]),Ze.useEffect(()=>{const b=async()=>{console.log("Internet connection detected, attempting auto-sync..."),await se()};return window.addEventListener("online",b),navigator.onLine&&b(),()=>window.removeEventListener("online",b)},[]);const y=b=>{i(A=>({...A,participantId:b}))},v=(b,A)=>{i(I=>({...I,comprehensionAnswers:{...I.comprehensionAnswers,[b]:A}}))},_=b=>{i(A=>{const I=A.choices.findIndex(C=>C.app===b.app&&C.tokenAmount===b.tokenAmount);if(I!==-1){const C=[...A.choices];return C[I]=b,{...A,choices:C}}else return{...A,choices:[...A.choices,b]}})},R=(b,A)=>{i(I=>({...I,choices:I.choices.filter(C=>!(C.app===b&&C.tokenAmount===A))}))},w=()=>{const b=Math.floor(Math.random()*t.choices.length),A=t.choices[b];return i(I=>({...I,selectedChoice:A})),A},L=b=>{i(A=>({...A,tokenBalance:A.tokenBalance+b}))},X=async()=>{const b={...t,completedAt:new Date().toISOString()};i(b);const A={id:a,surveyData:b,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yc()};await Ki(()=>rv(A),void 0),navigator.onLine&&await se()},Z=async()=>{const b=await Ki(()=>Or(),[]),A=b.filter(C=>!C.synced).length,I=b.filter(C=>C.synced).length;d(C=>({...C,pending:A,synced:I}))},te=async()=>{const b=w_(),A=x_();i(A),l(b),localStorage.setItem("currentSurveyId",b),await Z()},W=async()=>{const b=await Ki(()=>Or(),[]),A={exportedAt:new Date().toISOString(),deviceId:yc(),totalSurveys:b.length,syncedSurveys:b.filter(x=>x.synced).length,pendingSurveys:b.filter(x=>!x.synced).length,surveys:b},I=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),C=URL.createObjectURL(I),O=document.createElement("a");O.href=C,O.download=`wtp-survey-export-${yc()}-${Date.now()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(C)},se=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=(await Ki(()=>Or(),[])).filter(x=>!x.synced&&x.surveyData.completedAt);console.log(`Auto-syncing ${A.length} completed surveys...`);let I=0,C=0;for(const x of A)try{await b_(x),await av(x.id,!0),I++}catch(je){console.error(`Failed to sync survey ${x.id}:`,je),C++}const O=await Ki(()=>Or(),[]);d({pending:O.filter(x=>!x.synced).length,synced:O.filter(x=>x.synced).length,failed:C,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:I>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Auto-sync complete: ${I} succeeded, ${C} failed`)}catch(b){console.error("Auto-sync error:",b)}},oe=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=(await Ki(()=>Or(),[])).filter(Ae=>!Ae.synced),I=A.filter(Ae=>Ae.surveyData.completedAt).length,C=A.filter(Ae=>!Ae.surveyData.completedAt).length;console.log(`Manual sync: ${I} completed, ${C} in-progress surveys...`);let O=0,x=0;for(const Ae of A)try{await b_(Ae),await av(Ae.id,!0),O++}catch(G){console.error(`Failed to sync survey ${Ae.id}:`,G),x++}const je=await Ki(()=>Or(),[]);d({pending:je.filter(Ae=>!Ae.synced).length,synced:je.filter(Ae=>Ae.synced).length,failed:x,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:O>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Manual sync complete: ${O} succeeded, ${x} failed`)}catch(b){console.error("Manual sync error:",b)}},ce=(b,A,I)=>{i(C=>({...C,switchingPoints:{...C.switchingPoints,[b]:{tokenAmount:A,switchedTo:I,confirmed:!1}}}))},Re=b=>{i(A=>{const I=A.switchingPoints[b];return I?{...A,switchingPoints:{...A.switchingPoints,[b]:{...I,confirmed:!0}}}:A})},Be=b=>{i(A=>{const I=A.switchingPoints[b];if(!I||!I.confirmed)return A;const C=A.tokenOrder==="ascending"?[...Ks].reverse():Ks,O=C.findIndex(Ae=>Ae===I.tokenAmount);if(O===-1)return A;const je=C.slice(O+1).map(Ae=>({id:`${b}-${Ae}-${Date.now()}-autofilled`,app:b,tokenAmount:Ae,selectedOption:I.switchedTo,timestamp:new Date().toISOString(),autoFilled:!0}));return{...A,choices:[...A.choices,...je]}})},we=b=>{i(A=>({...A,choices:A.choices.filter(I=>!(I.app===b&&I.autoFilled)),switchingPoints:{...A.switchingPoints,[b]:void 0}}))},N=b=>!!t.switchingPoints[b]?.confirmed;return T.jsx(IE.Provider,{value:{surveyData:t,currentSurveyId:a,syncStatus:h,setParticipantId:y,setComprehensionAnswer:v,addChoice:_,removeChoice:R,selectRandomChoice:w,updateTokenBalance:L,completeSurvey:X,resetSurvey:te,setSwitchingPoint:ce,confirmSwitchingPoint:Re,autoFillChoices:Be,clearAutoFilledChoices:we,hasSwitchingPoint:N,exportAllData:W,triggerManualSync:oe},children:r})},fn=()=>{const r=Ze.useContext(IE);if(!r)throw new Error("useSurvey must be used within a SurveyProvider");return r},NE=Ze.createContext(void 0),oC=({children:r})=>{const[t,i]=Ze.useState(()=>localStorage.getItem("language")||"es");Ze.useEffect(()=>{localStorage.setItem("language",t)},[t]);const a=l=>{i(l)};return T.jsx(NE.Provider,{value:{language:t,setLanguage:a},children:r})},Vt=()=>{const r=Ze.useContext(NE);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r},Je=({onClick:r,children:t,variant:i="primary",disabled:a=!1,className:l="",title:h})=>{const d="px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",y={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400"};return T.jsx("button",{type:"button",onClick:r,disabled:a,className:`${d} ${y[i]} ${l}`,title:h,children:t})},lC={common:{continue:{en:"Continue",es:"Continuar"},back:{en:"Back",es:"Atrs"},tokens:{en:"Tokens",es:"Tokens"},or:{en:"or",es:"o"}},participantId:{title:{en:"Welcome to the Survey",es:"Bienvenido a la Encuesta"},description:{en:"Please enter your participant ID to begin.",es:"Por favor ingresa tu ID de participante para comenzar."},label:{en:"Participant ID",es:"ID de Participante"},placeholder:{en:"Enter your ID",es:"Ingresa tu ID"}},instructions:{title:{en:"Survey Instructions",es:"Instrucciones de la Encuesta"},paragraph1:{en:"You are going to make some choices that will give you the chance to earn real rewards.",es:"Vas a tomar algunas decisiones que te darn la oportunidad de ganar recompensas reales."},paragraph2:{en:"To get these rewards, you will receive tokens. These tokens have a value of",es:"Para obtener estas recompensas, recibirs tokens. Estos tokens tienen un valor de"},paragraph2b:{en:", and can be exchanged for a",es:", y pueden ser canjeados por una"},paragraph2c:{en:"whatever you want at the school shop",es:"lo que quieras en la tienda escolar"},paragraph3:{en:"Please pay attention to the comprehension checks on the next screen to ensure you understand how the survey works.",es:"Por favor presta atencin a las preguntas de comprensin en la siguiente pantalla para asegurarte de que entiendes cmo funciona la encuesta."}},comprehension:{title:{en:"Comprehension Check",es:"Verificacin de Comprensin"},question1:{en:"How much is 1 token worth in COP?",es:"Cunto vale 1 token en COP?"},question2:{en:"Where can you exchange your tokens to buy things?",es:"Dnde puedes canjear tus tokens para comprar cosas?"},placeholder1:{en:"Enter amount",es:"Ingresa la cantidad"},placeholder2:{en:"Enter location",es:"Ingresa el lugar"},error:{en:"Incorrect. Please review the instructions.",es:"Incorrecto. Por favor revisa las instrucciones."}},reinstructions:{title:{en:"Let's Review the Instructions",es:"Repasemos las Instrucciones"},intro:{en:"Let's go over the key information again:",es:"Repasemos la informacin clave nuevamente:"},tokenValueLabel:{en:"Token Value:",es:"Valor del Token:"},tokenValueText:{en:"Each token is worth",es:"Cada token vale"},rewardTypeLabel:{en:"Reward Type:",es:"Tipo de Recompensa:"},rewardTypeText:{en:"You can exchange your tokens at the school shop to buy whatever you want.",es:"Puedes canjear tus tokens en la tienda escolar para comprar lo que quieras."},outro:{en:"Please review these details carefully. You'll have another chance to answer the comprehension questions.",es:"Por favor revisa estos detalles cuidadosamente. Tendrs otra oportunidad para responder las preguntas de comprensin."},button:{en:"Continue to Comprehension Check",es:"Continuar a la Verificacin de Comprensin"}},tokenAllocation:{title:{en:"Your Starting Tokens",es:"Tus Tokens Iniciales"},description1:{en:"You have been given",es:"Se te han dado"},description2:{en:"tokens",es:"tokens"},worth:{en:"Worth",es:"Equivalente a"},info:{en:"Your token balance is displayed in the top right corner. It will update throughout the survey as you make your choices. Whatever you have left at the end you can reimburse.",es:"Tu saldo de tokens se muestra en la esquina superior derecha. Se actualizar durante la encuesta a medida que tomes tus decisiones. Lo que te quede al final podrs cobrarlo."}},choiceInstructions1:{title:{en:"About Your Choices",es:"Acerca de tus Decisiones"},paragraph1:{en:"The choices you will make will involve limiting certain apps to 30 minutes per day on your phone.",es:"Las decisiones que tomars implicarn limitar ciertas aplicaciones a 30 minutos por da en tu telfono."},paragraph2:{en:"If you choose to set a limit, and that option is chosen, then our team will actually limit the app to 30 minutes per day on your phone for one week later today, and set a password so you cannot change it.",es:"Si eliges establecer un lmite, y esa opcin es seleccionada, entonces nuestro equipo realmente limitar la aplicacin a 30 minutos por da en tu telfono por una semana ms tarde hoy, y pondr una contrasea para que no puedas cambiarlo."},paragraph3:{en:"So you should only select the options that you really prefer.",es:"Por lo tanto, solo debes seleccionar las opciones que realmente prefieres."}},choiceInstructions2:{important:{en:"Important:",es:"Importante:"},paragraph1:{en:"You will make multiple choices, and only one of your choices will randomly be selected to be implemented.",es:"Hars mltiples decisiones, y solo una de tus decisiones ser seleccionada al azar para ser implementada."},paragraph2:{en:"This means that each question should be treated independently, and for every choice, you should give your honest answer.",es:"Esto significa que cada pregunta debe ser tratada independientemente, y para cada decisin, debes dar tu respuesta honesta."},button:{en:"Begin Choices",es:"Comenzar Decisiones"}},appIntroduction:{title:{en:"App Limiting Questions:",es:"Preguntas sobre Limitar Aplicacin:"},description:{en:"We're now going to ask you some questions to see how willing you would be to limit",es:"Ahora te haremos algunas preguntas para ver qu tan dispuesto estaras a limitar"},description2:{en:"to 30 minutes per day for 1 week on your phone.",es:"a 30 minutos por da por 1 semana en tu telfono."}},choiceQuestion:{questionOf:{en:"Question",es:"Pregunta"},of:{en:"of",es:"de"},wouldYouRather:{en:"Would you rather...",es:"Preferiras..."},receive:{en:"RECEIVE",es:"RECIBIR"},pay:{en:"PAY",es:"PAGAR"},tokens:{en:"tokens",es:"tokens"},worth:{en:"worth",es:"equivalente a"},limit:{en:"Limit",es:"Limitar"},limitDescription:{en:"to 30 min/day for 1 week",es:"a 30 min/da por 1 semana"},andNotLimit:{en:"AND NOT limit",es:"Y NO limitar"},butNotLimit:{en:"BUT NOT limit",es:"PERO NO limitar"},doNotLimit:{en:"DO NOT limit",es:"NO limitar"},maintainTokens:{en:"and maintain token balance",es:"y mantener el saldo de tokens"}},choiceComprehensionCheck:{title:{en:"Comprehension Check",es:"Verificacin de Comprensin"},confirmTokens:{en:"To confirm, you would prefer to {action} {tokens} tokens {connector} NOT limit {app}, so that you would end up with {finalBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras {action} {tokens} tokens {connector} NO limitar {app}, para que termines con {finalBalance} tokens al final del experimento?"},confirmTokensZero:{en:"To confirm, you would prefer to NOT limit {app} and maintain your token balance at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras NO limitar {app} y mantener tu saldo de tokens en {currentBalance} tokens al final del experimento?"},confirmLimit:{en:"To confirm, you would prefer to limit {app} to 30 minutes per day for a week, rather than {action} {tokens} tokens, so your token balance would remain at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras limitar {app} a 30 minutos por da por una semana, en lugar de {action} {tokens} tokens, por lo que tu saldo de tokens permanecera en {currentBalance} tokens al final del experimento?"},receive:{en:"receive",es:"recibir"},pay:{en:"pay",es:"pagar"},receiving:{en:"receiving",es:"recibir"},paying:{en:"paying",es:"pagar"},and:{en:"AND",es:"Y"},but:{en:"BUT",es:"PERO"},yes:{en:"I confirm",es:"Confirmo"},no:{en:"Go back",es:"Volver"}},choicesSummary:{title:{en:"Your Choices",es:"Tus Decisiones"},selecting:{en:"Randomly selecting one of your choices...",es:"Seleccionando aleatoriamente una de tus decisiones..."},instruction:{en:"Here are all the choices you made. Click below to randomly select one to implement.",es:"Aqu estn todas las decisiones que tomaste. Haz clic abajo para seleccionar aleatoriamente una para implementar."},selectButton:{en:"Randomly Select One Choice",es:"Seleccionar Aleatoriamente una Decisin"},selectingLabel:{en:"Selecting...",es:"Seleccionando..."},selectedMessage:{en:"has been selected!",es:"ha sido seleccionada!"},selectedDescription:{en:"This is the choice that will be implemented.",es:"Esta es la decisin que ser implementada."},continueToResults:{en:"Continue to Results",es:"Continuar a Resultados"},receive:{en:"Receive",es:"Recibir"},pay:{en:"Pay",es:"Pagar"},tokens:{en:"tokens",es:"tokens"},limit:{en:"Limit",es:"Limitar"},limitDuration:{en:"to 30 min/day for 1 week",es:"a 30 min/da por 1 semana"},choice:{en:"Choice #",es:"Decisin #"}},results:{title:{en:"Implementation Results",es:"Resultados de Implementacin"},whatWillHappen:{en:"What will happen:",es:"Qu suceder:"},limitMessage1:{en:"will be limited to 30 minutes per day on your phone for",es:"ser limitada a 30 minutos por da en tu telfono por"},limitMessage2:{en:"1 week",es:"1 semana"},limitMessage3:{en:"starting today.",es:"comenzando hoy."},limitMessage4:{en:"Our team will set the limit with a password so you cannot change it.",es:"Nuestro equipo establecer el lmite con una contrasea para que no puedas cambiarlo."},tokenMessage1:{en:"You will",es:"T"},receive:{en:"receive",es:"recibirs"},pay:{en:"pay",es:"pagars"},tokens:{en:"tokens",es:"tokens"},thisIsWorth:{en:"This is worth",es:"Esto equivale a"},willNotBeLimited:{en:"will not be limited.",es:"no ser limitada."},finalTokenBalance:{en:"Final Token Balance:",es:"Saldo Final de Tokens:"},finishSurvey:{en:"Finish Survey",es:"Finalizar Encuesta"}},thankYou:{title:{en:"Thank You!",es:"Gracias!"},completed:{en:"You have completed the survey.",es:"Has completado la encuesta."},recorded:{en:"Your responses have been recorded.",es:"Tus respuestas han sido registradas."},contactInfo:{en:"Our team will contact you about implementing your selected choice (app limit or tokens) and redeeming your tokens at the school shop.",es:"Nuestro equipo te contactar sobre la implementacin de tu decisin seleccionada (lmite de aplicacin o tokens) y el canje de tus tokens en la tienda escolar."},participantId:{en:"Participant ID:",es:"ID de Participante:"},downloadData:{en:"Download Survey Data (for testing)",es:"Descargar Datos de la Encuesta (para pruebas)"},startNew:{en:"Start New Survey",es:"Iniciar Nueva Encuesta"}},tokenCounter:{tokens:{en:"Tokens",es:"Tokens"}},versionInfo:{refreshTitle:{en:"Force refresh and clear cache",es:"Forzar actualizacin y limpiar cach"},refreshLabel:{en:"Force refresh",es:"Forzar actualizacin"}},switchingPoint:{title:{en:"Please Confirm Your Choice",es:"Por Favor Confirma tu Decisin"},yourChoice:{en:"Your Choice:",es:"Tu Decisin:"},whatThisMeans:{en:"What This Means:",es:"Qu Significa Esto:"},choseLimitOverReceive:{en:"You chose to limit {app} rather than receive {tokenAmount} tokens (worth {value} COP).",es:"Elegiste limitar {app} en lugar de recibir {tokenAmount} tokens (equivalente a {value} COP)."},choseLimitOverPay:{en:"You chose to limit {app} rather than pay {tokenAmount} tokens (worth {value} COP) to avoid limiting.",es:"Elegiste limitar {app} en lugar de pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar."},choseLimitOverZero:{en:"You chose to limit {app} rather than keep your tokens unchanged.",es:"Elegiste limitar {app} en lugar de mantener tus tokens sin cambios."},chosePayOverLimit:{en:"You were willing to pay {tokenAmount} tokens (worth {value} COP) to avoid limiting {app}.",es:"Estuviste dispuesto a pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar {app}."},choseReceiveOverLimit:{en:"You chose to receive {tokenAmount} tokens (worth {value} COP) rather than limit {app}.",es:"Elegiste recibir {tokenAmount} tokens (equivalente a {value} COP) en lugar de limitar {app}."},choseZeroOverLimit:{en:"You chose to keep your tokens unchanged rather than limit {app}.",es:"Elegiste mantener tus tokens sin cambios en lugar de limitar {app}."},implicationLimitDescending:{en:"Since you prefer to limit {app} rather than receive these tokens, we assume you would also prefer to limit for smaller amounts (like 0 tokens), and that you would NOT want to PAY tokens to avoid limiting {app}.",es:"Dado que prefieres limitar {app} en lugar de recibir estos tokens, asumimos que tambin preferiras limitar por cantidades menores (como 0 tokens), y que NO querras PAGAR tokens para evitar limitar {app}."},implicationLimitAscending:{en:"Since you prefer to limit {app} rather than pay these tokens, we assume you would also prefer to limit if you had to pay LESS, or even if you received tokens instead.",es:"Dado que prefieres limitar {app} en lugar de pagar estos tokens, asumimos que tambin preferiras limitar si tuvieras que pagar MENOS, o incluso si recibieras tokens."},implicationLimitFromZero:{en:"Since you prefer to limit {app} rather than keep your tokens unchanged, we assume you would also prefer to limit even if you had to PAY tokens, or if you received tokens.",es:"Dado que prefieres limitar {app} en lugar de mantener tus tokens sin cambios, asumimos que tambin preferiras limitar incluso si tuvieras que PAGAR tokens, o si recibieras tokens."},implicationPayAscending:{en:"Since you were willing to pay tokens to avoid limiting {app}, we assume you would also be willing to pay LESS, pay nothing (0 tokens), or even RECEIVE tokens instead of limiting.",es:"Dado que estuviste dispuesto a pagar tokens para evitar limitar {app}, asumimos que tambin estaras dispuesto a pagar MENOS, no pagar nada (0 tokens), o incluso RECIBIR tokens en lugar de limitar."},implicationReceiveDescending:{en:"Since you chose to receive tokens rather than limit {app}, we assume you would also choose to receive smaller amounts, receive nothing (0 tokens), or even PAY tokens to avoid limiting.",es:"Dado que elegiste recibir tokens en lugar de limitar {app}, asumimos que tambin elegiras recibir cantidades ms pequeas, no recibir nada (0 tokens), o incluso PAGAR tokens para evitar limitar."},implicationTokensFromZero:{en:"Since you chose to keep your tokens rather than limit {app}, we assume you would also choose to receive tokens, or even PAY tokens to avoid limiting.",es:"Dado que elegiste mantener tus tokens en lugar de limitar {app}, asumimos que tambin elegiras recibir tokens, o incluso PAGAR tokens para evitar limitar."},autoFillNotice:{en:"We will automatically fill in the remaining {count} questions for {app} based on your choice.",es:"Automticamente completaremos las {count} preguntas restantes para {app} segn tu decisin."},confirmQuestion:{en:"Is this understanding correct?",es:"Es correcta esta interpretacin?"},goBack:{en:"No, Go Back",es:"No, Volver"},confirm:{en:"Yes, Continue",es:"S, Continuar"}},autoFilled:{title:{en:"Questions Completed for {app}",es:"Preguntas Completadas para {app}"},explanation:{en:"Based on your previous choice, we have automatically filled {count} remaining questions for {app}.",es:"Segn tu decisin anterior, hemos completado automticamente {count} preguntas restantes para {app}."},filledAnswers:{en:"Automatically Filled Answers:",es:"Respuestas Completadas Automticamente:"},question:{en:"Question",es:"Pregunta"},decision:{en:"Choice",es:"Decisin"},canGoBack:{en:"If you want to change your answer, you can go back to modify your choice.",es:"Si quieres cambiar tu respuesta, puedes volver atrs para modificar tu decisin."}}},z=(r,t)=>{const i=r.split(".");let a=lC;for(const l of i)if(a=a[l],!a)return r;return a[t]||a.en||r},uC=({onNext:r})=>{const[t,i]=Ze.useState(""),{setParticipantId:a,resetSurvey:l}=fn(),{language:h}=Vt(),d=async()=>{t.trim()&&(await l(),a(t.trim()),r())};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("participantId.title",h)}),T.jsx("p",{className:"text-gray-600 mb-6 text-center",children:z("participantId.description",h)}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"participantId",className:"block text-sm font-medium text-gray-700 mb-2",children:z("participantId.label",h)}),T.jsx("input",{id:"participantId",type:"text",value:t,onChange:y=>i(y.target.value),onKeyPress:y=>y.key==="Enter"&&d(),placeholder:z("participantId.placeholder",h),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),T.jsx(Je,{onClick:d,disabled:!t.trim(),className:"w-full",children:z("common.continue",h)})]})})},cC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("instructions.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("instructions.paragraph1",i)}),T.jsxs("p",{children:[z("instructions.paragraph2",i)," ",T.jsxs("strong",{children:["$",Vn.toLocaleString()," COP"]}),z("instructions.paragraph2b",i)," ",T.jsx("strong",{children:z("instructions.paragraph2c",i)}),"."]}),T.jsx("p",{children:z("instructions.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Je,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})},hC=({onNext:r,onBack:t,onFailed:i})=>{const[a,l]=Ze.useState(""),[h,d]=Ze.useState(""),[y,v]=Ze.useState(!1),{setComprehensionAnswer:_}=fn(),{language:R}=Vt(),w=Vn.toString(),L=a.trim()===w,X=h.toLowerCase().trim(),Z=X.includes("school shop")||X.includes("school")||X.includes("scool")||X.includes("shool")||X.includes("shop")||X.includes("store")||X.includes("tienda escolar")||X.includes("tienda")||X.includes("tiemda")||X.includes("escolar")||X.includes("escuela")||X.includes("escela")||X.includes("escuella")||X.includes("colegio")||X.includes("cole"),te=L&&Z,W=()=>{te?(_("tokenValue",a),_("rewardType",h),r()):(v(!0),i&&setTimeout(()=>{i()},1500))};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("comprehension.title",R)}),T.jsxs("div",{className:"space-y-6 mb-8",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"tokenValue",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question1",R)}),T.jsx("input",{id:"tokenValue",type:"text",value:a,onChange:se=>{l(se.target.value),v(!1)},placeholder:z("comprehension.placeholder1",R),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${y&&!L?"border-red-500":"border-gray-300"}`}),y&&!L&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",R)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"rewardType",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question2",R)}),T.jsx("input",{id:"rewardType",type:"text",value:h,onChange:se=>{d(se.target.value),v(!1)},placeholder:z("comprehension.placeholder2",R),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${y&&!Z?"border-red-500":"border-gray-300"}`}),y&&!Z&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",R)})]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:t,className:"px-6",children:z("common.back",R)}),T.jsx(Je,{onClick:W,disabled:!a.trim()||!h.trim(),className:"flex-1",children:z("common.continue",R)})]})]})})},fC=({onNext:r})=>{const{language:t}=Vt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("reinstructions.title",t)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("reinstructions.intro",t)}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.tokenValueLabel",t)}),T.jsxs("p",{children:[z("reinstructions.tokenValueText",t)," ",T.jsxs("strong",{children:["$",Vn.toLocaleString()," COP"]}),"."]})]}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.rewardTypeLabel",t)}),T.jsx("p",{children:z("reinstructions.rewardTypeText",t)})]}),T.jsx("p",{children:z("reinstructions.outro",t)})]}),T.jsx(Je,{onClick:r,className:"w-full",children:z("reinstructions.button",t)})]})})},Ri=()=>{const{surveyData:r}=fn(),{language:t}=Vt(),i=()=>{const a=[],l=r.tokenBalance;for(let h=0;h<l;h++)a.push(T.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white border border-blue-200"},`token-${h}`));return a};return T.jsxs("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg",children:[T.jsx("div",{className:"text-sm font-semibold",children:z("tokenCounter.tokens",t)}),T.jsx("div",{className:"text-2xl font-bold",children:r.tokenBalance}),T.jsxs("div",{className:"text-xs opacity-90",children:["$",(r.tokenBalance*Vn).toLocaleString()," COP"]}),T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 mt-2 max-w-[120px]",children:i()})]})},DE=({tokenCount:r})=>{const t=()=>{const i=[];for(let a=0;a<r;a++)i.push(T.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-600"},`token-${a}`));return i};return T.jsx("div",{className:"flex flex-col items-center gap-3 mt-4",children:T.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[280px]",children:t()})})},dC=({onNext:r,onBack:t})=>{const[i,a]=Ze.useState(!1),{language:l}=Vt();return Ze.useEffect(()=>{setTimeout(()=>a(!0),500)},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[i&&T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("tokenAllocation.title",l)}),T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-blue-100 rounded-full mb-4",children:T.jsx("span",{className:"text-5xl font-bold text-blue-600",children:qs})}),T.jsxs("p",{className:"text-xl text-gray-700",children:[z("tokenAllocation.description1",l)," ",T.jsxs("strong",{children:[qs," ",z("tokenAllocation.description2",l)]})]}),T.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["(",z("tokenAllocation.worth",l)," $",(qs*Vn).toLocaleString()," COP)"]}),T.jsx(DE,{tokenCount:qs})]}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:T.jsx("p",{className:"text-gray-700",children:z("tokenAllocation.info",l)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:t,className:"px-6",children:z("common.back",l)}),T.jsx(Je,{onClick:r,className:"flex-1",children:z("common.continue",l)})]})]})})]})},mC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("choiceInstructions1.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("choiceInstructions1.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions1.paragraph2",i)}),T.jsx("p",{className:"font-semibold text-blue-600",children:z("choiceInstructions1.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Je,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})]})},pC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"space-y-6 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[T.jsx("p",{className:"font-semibold text-gray-900 mb-4 text-xl",children:z("choiceInstructions2.important",i)}),T.jsx("p",{className:"mb-3",children:z("choiceInstructions2.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions2.paragraph2",i)})]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Je,{onClick:r,className:"flex-1",children:z("choiceInstructions2.button",i)})]})]})})]})},ah="/wtp-survey/assets/tiktok-logo-B98-VsHJ.png",oh="/wtp-survey/assets/whatsapp-logo-bigyjet4.png",C_=({app:r,onNext:t,onBack:i})=>{const{language:a}=Vt(),l=r==="TikTok"?ah:oh;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("img",{src:l,alt:`${r} logo`,className:"w-24 h-24 mb-6 object-contain"}),T.jsxs("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:[z("appIntroduction.title",a)," ",r]})]}),T.jsx("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("p",{className:"text-center",children:[z("appIntroduction.description",a)," ",r," ",z("appIntroduction.description2",a)]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:i,className:"px-6",children:z("common.back",a)}),T.jsx(Je,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},gC=({tokenAmount:r})=>{const t=()=>{const l=[],h=[],d=[];if(r<0){const y=qs+r,v=Math.abs(r);for(let _=0;_<y;_++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${_}`));for(let _=0;_<v;_++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 border border-red-600"},`red-${_}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}else if(r>0){for(let y=0;y<qs;y++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${y}`));for(let y=0;y<r;y++)d.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 border border-green-600"},`green-${y}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1")),l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:d},"row-2"))}else{for(let y=0;y<qs;y++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${y}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}return l},i=()=>r<0?"text-red-600":r>0?"text-green-600":"text-gray-600",a=()=>r<0?`${r}`:r>0?`+${r}`:"0";return T.jsxs("div",{className:"flex flex-col items-center gap-2 mt-3",children:[T.jsx("div",{className:"flex flex-col gap-1",children:t()}),T.jsx("div",{className:`text-sm font-bold ${i()}`,children:a()})]})},yC=({app:r,tokenAmount:t,questionNumber:i,totalQuestions:a,onNext:l,onSwitchingPointDetected:h,onBack:d})=>{const{language:y}=Vt(),[v,_]=Ze.useState(null),{addChoice:R,surveyData:w,setSwitchingPoint:L,clearAutoFilledChoices:X}=fn();Ze.useEffect(()=>{_(null)},[r,t]);const Z=we=>{const N=w.choices.filter(I=>I.app===r&&!I.autoFilled&&I.tokenAmount!==t);return N.length===0||!N.every(I=>I.selectedOption===N[0].selectedOption)?!1:N[0].selectedOption!==we},te=we=>{const N=w.switchingPoints[r];if(!N||!N.confirmed)return!1;const b=w.tokenOrder==="ascending"?[...Ks].reverse():Ks,A=b.findIndex(O=>O===t),I=b.findIndex(O=>O===N.tokenAmount);if(A>=I)return!1;const C=w.choices.filter(O=>O.app===r&&!O.autoFilled&&O.tokenAmount!==t&&b.findIndex(x=>x===O.tokenAmount)<I);if(C.length>0){const O=C[0].selectedOption;if(we!==O)return!0}return!1},W=()=>{if(v){te(v)&&X(r);const N=Z(v);R({id:`${r}-${t}-${Date.now()}`,app:r,tokenAmount:t,selectedOption:v,timestamp:new Date().toISOString()}),N?(L(r,t,v),h()):l()}},se=t>0?`${z("choiceQuestion.receive",y)} ${t} ${z("choiceQuestion.tokens",y)}`:t<0?`${z("choiceQuestion.pay",y)} ${Math.abs(t)} ${z("choiceQuestion.tokens",y)}`:`${z("choiceQuestion.doNotLimit",y)} ${r}`,oe=t>0?`${z("choiceQuestion.andNotLimit",y)} ${r}`:t<0?`${z("choiceQuestion.butNotLimit",y)} ${r}`:z("choiceQuestion.maintainTokens",y),ce=t*Vn,Re=t!==0?`(${z("choiceQuestion.worth",y)} $${Math.abs(ce).toLocaleString()} COP)`:"",Be=r==="WhatsApp"?oh:ah;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"text-sm font-semibold text-gray-500 mb-2",children:[z("choiceQuestion.questionOf",y)," ",i," ",z("choiceQuestion.of",y)," ",a]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i/a*100}%`}})})]}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:z("choiceQuestion.wouldYouRather",y)}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[T.jsx("button",{onClick:()=>_("tokens"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${v==="tokens"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl mb-2",children:""}),T.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:se}),T.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:oe}),T.jsx("div",{className:"text-sm text-gray-600",children:Re}),T.jsx(gC,{tokenAmount:t})]})}),T.jsx("button",{onClick:()=>_("limit"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${v==="limit"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-2 flex justify-center",children:T.jsx("img",{src:Be,alt:r,className:"w-16 h-16"})}),T.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-2",children:[z("choiceQuestion.limit",y)," ",r]}),T.jsx("div",{className:"text-sm text-gray-600",children:z("choiceQuestion.limitDescription",y)})]})})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:d,className:"px-6",children:z("common.back",y)}),T.jsx(Je,{onClick:W,disabled:!v,className:"flex-1",children:z("common.continue",y)})]})]})})]})},vC=({onNext:r,onBack:t})=>{const{surveyData:i}=fn(),{language:a}=Vt(),l=i.choices[0];if(!l)return r(),null;const{app:h,tokenAmount:d,selectedOption:y}=l,v=i.tokenBalance+d;let _;if(y==="tokens")if(d===0)_=z("choiceComprehensionCheck.confirmTokensZero",a).replace("{app}",h).replace("{currentBalance}",i.tokenBalance.toString());else{const L=d>0?z("choiceComprehensionCheck.receive",a):z("choiceComprehensionCheck.pay",a),X=d>0?z("choiceComprehensionCheck.and",a):z("choiceComprehensionCheck.but",a),Z=Math.abs(d);_=z("choiceComprehensionCheck.confirmTokens",a).replace("{action}",L).replace("{tokens}",Z.toString()).replace("{connector}",X).replace("{finalBalance}",v.toString()).replace("{app}",h)}else{const L=d>=0?z("choiceComprehensionCheck.receiving",a):z("choiceComprehensionCheck.paying",a),X=Math.abs(d);_=z("choiceComprehensionCheck.confirmLimit",a).replace("{app}",h).replace("{action}",L).replace("{tokens}",X.toString()).replace("{currentBalance}",i.tokenBalance.toString())}const R=()=>{r()},w=()=>{t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("choiceComprehensionCheck.title",a)}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:T.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:_})}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx(Je,{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.no",a)}),T.jsx(Je,{onClick:R,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.yes",a)})]})]})})]})},_C=({app:r,onConfirm:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:l,confirmSwitchingPoint:h}=fn(),d=l.switchingPoints[r];if(!d)return i(),null;const{tokenAmount:y,switchedTo:v}=d,_=r==="WhatsApp"?oh:ah,R=l.tokenOrder==="ascending"?[...Ks].reverse():Ks,w=R.findIndex(W=>W===y),L=R.slice(w+1),Z=v==="limit"?y>0?{choice:z("switchingPoint.choseLimitOverReceive",a).replace("{app}",r).replace("{tokenAmount}",y.toString()).replace("{value}",`$${(y*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitDescending",a).replaceAll("{app}",r)}:y<0?{choice:z("switchingPoint.choseLimitOverPay",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(y).toString()).replace("{value}",`$${(Math.abs(y)*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitAscending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseLimitOverZero",a).replace("{app}",r),implication:z("switchingPoint.implicationLimitFromZero",a).replace("{app}",r)}:y<0?{choice:z("switchingPoint.chosePayOverLimit",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(y).toString()).replace("{value}",`$${(Math.abs(y)*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationPayAscending",a).replace("{app}",r)}:y>0?{choice:z("switchingPoint.choseReceiveOverLimit",a).replace("{app}",r).replace("{tokenAmount}",y.toString()).replace("{value}",`$${(y*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationReceiveDescending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseZeroOverLimit",a).replace("{app}",r),implication:z("switchingPoint.implicationTokensFromZero",a).replace("{app}",r)},te=()=>{h(r),t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:_,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("switchingPoint.title",a)}),T.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.yourChoice",a)}),T.jsx("p",{className:"text-gray-700",children:Z.choice})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.whatThisMeans",a)}),T.jsx("p",{className:"text-gray-700",children:Z.implication})]}),T.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:T.jsx("p",{className:"text-sm text-gray-700",children:z("switchingPoint.autoFillNotice",a).replace("{count}",L.length.toString()).replace("{app}",r)})})]}),T.jsx("div",{className:"mb-4",children:T.jsx("p",{className:"text-center text-gray-600",children:z("switchingPoint.confirmQuestion",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:i,className:"flex-1",children:z("switchingPoint.goBack",a)}),T.jsx(Je,{onClick:te,className:"flex-1 bg-green-600 hover:bg-green-700",children:z("switchingPoint.confirm",a)})]})]})})]})},EC=({app:r,onNext:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:l}=fn(),h=l.switchingPoints[r];if(!h||!h.confirmed)return t(),null;const d=r==="WhatsApp"?oh:ah,y=l.choices.filter(v=>v.app===r&&v.autoFilled);return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:d,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("autoFilled.title",a).replace("{app}",r)}),T.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-lg text-gray-700 mb-4",children:z("autoFilled.explanation",a).replace("{app}",r).replace("{count}",y.length.toString())}),T.jsxs("div",{className:"bg-white rounded-lg p-4 max-h-64 overflow-y-auto",children:[T.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:z("autoFilled.filledAnswers",a)}),T.jsx("div",{className:"space-y-3",children:y.map((v,_)=>{const R=v.tokenAmount>0?`${z("choiceQuestion.receive",a).toLowerCase()} ${v.tokenAmount} ${z("choiceQuestion.tokens",a)}`:v.tokenAmount<0?`${z("choiceQuestion.pay",a).toLowerCase()} ${Math.abs(v.tokenAmount)} ${z("choiceQuestion.tokens",a)}`:`${z("choiceQuestion.doNotLimit",a).toLowerCase()} ${r}`,w=v.selectedOption==="tokens"?R:`${z("choiceQuestion.limit",a)} ${r}`,X=`${`${z("choiceQuestion.limit",a)} ${r}`} vs ${R}`;return T.jsx("div",{className:"py-2 px-3 bg-gray-50 rounded",children:T.jsxs("div",{className:"text-sm text-gray-700",children:[T.jsxs("span",{className:"text-gray-600",children:[z("autoFilled.question",a)," ",_+1,":"]})," ",X,"  ",z("autoFilled.decision",a),": ",T.jsx("span",{className:"font-bold text-gray-900",children:w})]})},v.id)})})]})]}),T.jsx("div",{className:"mb-6",children:T.jsx("p",{className:"text-center text-gray-600",children:z("autoFilled.canGoBack",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Je,{onClick:i,className:"flex-1",children:z("common.back",a)}),T.jsx(Je,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},TC=({onNext:r})=>{const{language:t}=Vt(),[i,a]=Ze.useState(!1),[l,h]=Ze.useState(null),[d,y]=Ze.useState(-1),{surveyData:v,selectRandomChoice:_,updateTokenBalance:R}=fn(),w=()=>{a(!0),y(0);let Z=0;const te=setInterval(()=>{Z=(Z+1)%v.choices.length,y(Z)},150);setTimeout(()=>{clearInterval(te);const W=_();W.selectedOption==="tokens"&&R(W.tokenAmount);const se=v.choices.findIndex(oe=>oe.id===W.id);y(se),h(W),a(!1)},3e3)},L=(Z,te)=>te==="tokens"?Z.tokenAmount>=0?`${z("choicesSummary.receive",t)} ${Z.tokenAmount} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.pay",t)} ${Math.abs(Z.tokenAmount)} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.limit",t)} ${Z.app} ${z("choicesSummary.limitDuration",t)}`,X=({choice:Z,option:te})=>{const W=Z.selectedOption===te;return T.jsx("div",{className:`
        flex-1 p-3 rounded-lg border-2 transition-all
        ${W?"border-blue-500 bg-blue-50 font-semibold":"border-gray-200 bg-white"}
      `,children:T.jsxs("div",{className:"flex items-center gap-2",children:[W&&T.jsx("span",{className:"text-blue-600",children:""}),T.jsx("span",{className:W?"text-gray-900":"text-gray-600",children:L(Z,te)})]})})};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("choicesSummary.title",t)}),!l&&T.jsx("p",{className:"text-center text-gray-600 mb-6",children:z(i?"choicesSummary.selecting":"choicesSummary.instruction",t)}),T.jsx("div",{className:"space-y-3 mb-8",children:v.choices.map((Z,te)=>T.jsx("div",{className:`
                p-4 rounded-lg transition-all duration-200
                ${d===te&&i?"bg-yellow-100 border-2 border-yellow-400 shadow-lg scale-105":d===te&&l?"bg-green-100 border-2 border-green-500 shadow-lg":"bg-gray-50 border border-gray-200"}
              `,children:T.jsxs("div",{className:"flex gap-3 items-center",children:[T.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:T.jsx("span",{className:"text-sm font-semibold text-gray-500",children:te+1})}),T.jsxs("div",{className:"flex-1 flex gap-3",children:[T.jsx(X,{choice:Z,option:"tokens"}),T.jsx("div",{className:"flex items-center text-gray-400",children:T.jsx("span",{children:z("common.or",t)})}),T.jsx(X,{choice:Z,option:"limit"})]})]})},Z.id))}),!i&&!l&&T.jsx(Je,{onClick:w,className:"w-full",children:z("choicesSummary.selectButton",t)}),i&&T.jsx("div",{className:"text-center",children:T.jsxs("div",{className:"inline-flex items-center gap-2 text-lg font-semibold text-gray-900",children:[T.jsx("span",{className:"animate-pulse text-3xl",children:""}),T.jsx("span",{children:z("choicesSummary.selectingLabel",t)})]})}),!i&&l&&T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-4",children:T.jsx("span",{className:"text-5xl",children:""})}),T.jsxs("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:[z("choicesSummary.choice",t),d+1," ",z("choicesSummary.selectedMessage",t)]}),T.jsx("p",{className:"text-gray-600 mb-6",children:z("choicesSummary.selectedDescription",t)}),T.jsx(Je,{onClick:r,className:"w-full",children:z("choicesSummary.continueToResults",t)})]})]})})]})},SC=({onNext:r})=>{const{language:t}=Vt(),{surveyData:i,completeSurvey:a}=fn();Ze.useEffect(()=>{i.completedAt||a()},[]);const l=i.selectedChoice;if(!l)return null;const h=l.selectedOption==="limit";return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"text-6xl mb-4",children:h?"":""}),T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:z("results.title",t)})]}),T.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:z("results.whatWillHappen",t)}),h?T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[T.jsx("strong",{children:l.app})," ",z("results.limitMessage1",t)," ",z("results.limitMessage2",t)]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.limitMessage3",t)," ",z("results.limitMessage4",t)]})]}):T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[z("results.tokenMessage1",t)," ",T.jsx("strong",{children:l.tokenAmount>=0?`${z("results.receive",t)} ${l.tokenAmount} ${z("results.tokens",t)}`:`${z("results.pay",t)} ${Math.abs(l.tokenAmount)} ${z("results.tokens",t)}`}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.thisIsWorth",t)," ",T.jsxs("strong",{children:["$",Math.abs(l.tokenAmount*Vn).toLocaleString()," COP"]}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[l.app," ",z("results.willNotBeLimited",t)]})]})]}),T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("results.finalTokenBalance",t)}),T.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i.tokenBalance," ",z("results.tokens",t)]}),T.jsxs("p",{className:"text-gray-600 mt-1",children:["($",(i.tokenBalance*Vn).toLocaleString()," COP)"]}),T.jsx(DE,{tokenCount:i.tokenBalance})]}),T.jsx(Je,{onClick:r,className:"w-full",children:z("results.finishSurvey",t)})]})})]})},bC=({onStartNewSurvey:r})=>{const{language:t}=Vt(),{surveyData:i}=fn(),a=()=>{const h=JSON.stringify(i,null,2),d=new Blob([h],{type:"application/json"}),y=URL.createObjectURL(d),v=document.createElement("a");v.href=y,v.download=`survey-${i.participantId}-${Date.now()}.json`,v.click(),URL.revokeObjectURL(y)},l=async()=>{r()};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"text-6xl mb-6",children:""}),T.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:z("thankYou.title",t)}),T.jsx("p",{className:"text-xl text-gray-700 mb-6",children:z("thankYou.completed",t)}),T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-gray-700 mb-2",children:z("thankYou.recorded",t)}),T.jsx("p",{className:"text-gray-700",children:z("thankYou.contactInfo",t)})]}),T.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[z("thankYou.participantId",t)," ",i.participantId]}),T.jsx("button",{onClick:a,className:"text-blue-600 hover:text-blue-700 underline text-sm mb-6",children:z("thankYou.downloadData",t)}),T.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:T.jsx(Je,{onClick:l,className:"w-full",children:z("thankYou.startNew",t)})})]})})},AC=()=>{const{language:r}=Vt(),t=()=>{localStorage.clear(),window.location.reload()};return T.jsxs("div",{className:"fixed bottom-16 right-4 flex items-center gap-2 text-gray-400 text-sm z-40",children:[T.jsx("span",{children:RE}),T.jsx("button",{onClick:t,className:"hover:text-gray-600 transition-colors p-1",title:z("versionInfo.refreshTitle",r),"aria-label":z("versionInfo.refreshLabel",r),children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})})]})},wC=()=>{const{language:r,setLanguage:t}=Vt();return T.jsxs("div",{className:"fixed bottom-4 left-4 flex items-center gap-1 text-sm bg-white rounded-lg shadow-md px-3 py-2",children:[T.jsx("button",{onClick:()=>t("es"),className:`px-2 py-1 rounded transition-colors ${r==="es"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"ES"}),T.jsx("span",{className:"text-gray-400",children:"|"}),T.jsx("button",{onClick:()=>t("en"),className:`px-2 py-1 rounded transition-colors ${r==="en"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"EN"})]})},xC=()=>{const{syncStatus:r}=fn(),t=navigator.onLine;return T.jsxs("div",{className:"fixed top-4 right-4 bg-white shadow-lg rounded-lg p-3 text-sm border border-gray-200 z-50",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),T.jsx("span",{className:"font-medium",children:t?"Online":"Offline"})]}),T.jsxs("div",{className:"space-y-1 text-gray-600",children:[T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Synced:"}),T.jsx("span",{className:"font-medium text-green-600",children:r.synced})]}),T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Pending:"}),T.jsx("span",{className:"font-medium text-yellow-600",children:r.pending})]}),r.failed>0&&T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Failed:"}),T.jsx("span",{className:"font-medium text-red-600",children:r.failed})]})]}),r.lastSuccessfulSync&&T.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last sync: ",new Date(r.lastSuccessfulSync).toLocaleTimeString()]})]})},CC=()=>{const{exportAllData:r,syncStatus:t}=fn(),[i,a]=Ze.useState(!1),l=async()=>{a(!0);try{await r(),alert("Data exported successfully! Check your downloads folder.")}catch(d){console.error("Export error:",d),alert("Failed to export data. Please try again.")}finally{a(!1)}},h=t.synced+t.pending;return T.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:T.jsx(Je,{onClick:l,disabled:i||h===0,variant:"secondary",children:i?"Exporting...":`Export Data (${h})`})})},RC=()=>{const{triggerManualSync:r,syncStatus:t}=fn(),[i,a]=Ze.useState(!1),l=navigator.onLine,h=async()=>{a(!0);try{await r(),alert("Sync completed successfully!")}catch(d){console.error("Sync error:",d),alert("Sync failed. Please check internet connection and try again.")}finally{a(!1)}};return t.pending===0?null:T.jsxs("div",{className:"fixed bottom-4 left-4 z-50",children:[T.jsx(Je,{onClick:h,disabled:i||!l,variant:"primary",title:"Sync all unsynced surveys (including in-progress) to Firebase",children:i?"Syncing...":`Sync Now (${t.pending})`}),!l&&T.jsx("div",{className:"text-xs text-red-600 mt-1 text-center",children:"Connect to internet to sync"})]})},IC=()=>{const[r,t]=Ze.useState("participantId"),[i,a]=Ze.useState(0),{surveyData:l,autoFillChoices:h,hasSwitchingPoint:d,clearAutoFilledChoices:y,removeChoice:v,resetSurvey:_}=fn(),R=l.tokenOrder==="ascending"?[...Ks].reverse():Ks,w=l.appOrder.flatMap(se=>R.map(oe=>({app:se,tokenAmount:oe}))),L=()=>{switch(r){case"participantId":t("instructions");break;case"instructions":t("comprehension");break;case"comprehension":t("tokenAllocation");break;case"reinstructions":t("comprehension");break;case"tokenAllocation":t("choiceInstructions1");break;case"choiceInstructions1":t("choiceInstructions2");break;case"choiceInstructions2":t("appIntroduction1");break;case"appIntroduction1":t("choices"),a(0);break;case"appIntroduction2":t("choices"),a(8);break;case"choices":{const se=w[i].app;if(d(se)){let oe=i+1;for(;oe<w.length&&w[oe].app===se;)oe++;if(oe>i+1){t("autoFilledExplanation"),a(oe);break}}i===0?t("choiceComprehension"):i===7?t("appIntroduction2"):i<w.length-1?a(i+1):t("choicesSummary");break}case"choiceComprehension":a(1),t("choices");break;case"switchingPointConfirmation":{const se=w[i].app;h(se);let oe=i+1;for(;oe<w.length&&w[oe].app===se;)oe++;a(oe),t("autoFilledExplanation");break}case"autoFilledExplanation":{i===8?t("appIntroduction2"):i<w.length?t("choices"):t("choicesSummary");break}case"choicesSummary":t("results");break;case"results":t("thankYou");break}},X=()=>{t("reinstructions")},Z=()=>{t("switchingPointConfirmation")},te=async()=>{await _(),t("participantId"),a(0)},W=()=>{switch(r){case"instructions":t("participantId");break;case"comprehension":t("instructions");break;case"tokenAllocation":t("comprehension");break;case"choiceInstructions1":t("tokenAllocation");break;case"choiceInstructions2":t("choiceInstructions1");break;case"appIntroduction1":t("choiceInstructions2");break;case"appIntroduction2":t("choices"),a(7);break;case"choiceComprehension":a(0),t("choices");break;case"switchingPointConfirmation":{const se=w[i].app,oe=w[i].tokenAmount;v(se,oe),y(se),t("choices");break}case"autoFilledExplanation":{const se=w[i-1]?.app||w[0].app;y(se);const oe=l.choices.findIndex(ce=>ce.app===se&&!ce.autoFilled);if(oe!==-1){const ce=l.choices[oe],Re=w.findIndex(Be=>Be.app===ce.app&&Be.tokenAmount===ce.tokenAmount);a(Re)}else{const ce=w.findIndex(Re=>Re.app===se);a(ce)}t("choices");break}case"choices":{const se=w[i].app;if(d(se)){const oe=i-1;if(oe>=0&&w[oe].app!==se){const ce=w.findIndex(Re=>Re.app===se);a(ce+1),t("autoFilledExplanation");break}}i===8?t("appIntroduction2"):i===1?t("choiceComprehension"):i>0?a(i-1):t("appIntroduction1");break}}};return T.jsxs(T.Fragment,{children:[r==="participantId"&&T.jsx(uC,{onNext:L}),r==="instructions"&&T.jsx(cC,{onNext:L,onBack:W}),r==="comprehension"&&T.jsx(hC,{onNext:L,onBack:W,onFailed:X}),r==="reinstructions"&&T.jsx(fC,{onNext:L}),r==="tokenAllocation"&&T.jsx(dC,{onNext:L,onBack:W}),r==="choiceInstructions1"&&T.jsx(mC,{onNext:L,onBack:W}),r==="choiceInstructions2"&&T.jsx(pC,{onNext:L,onBack:W}),r==="appIntroduction1"&&T.jsx(C_,{app:l.appOrder[0],onNext:L,onBack:W}),r==="appIntroduction2"&&T.jsx(C_,{app:l.appOrder[1],onNext:L,onBack:W}),r==="choices"&&T.jsx(yC,{app:w[i].app,tokenAmount:w[i].tokenAmount,questionNumber:i+1,totalQuestions:w.length,onNext:L,onSwitchingPointDetected:Z,onBack:W}),r==="choiceComprehension"&&T.jsx(vC,{onNext:L,onBack:W}),r==="switchingPointConfirmation"&&T.jsx(_C,{app:w[i].app,onConfirm:L,onGoBack:W}),r==="autoFilledExplanation"&&T.jsx(EC,{app:w[i-1]?.app||w[0].app,onNext:L,onGoBack:W}),r==="choicesSummary"&&T.jsx(TC,{onNext:L}),r==="results"&&T.jsx(SC,{onNext:L}),r==="thankYou"&&T.jsx(bC,{onStartNewSurvey:te})]})};function NC(){return T.jsx(oC,{children:T.jsxs(aC,{children:[T.jsx(IC,{}),T.jsx(wC,{}),T.jsx(AC,{}),T.jsx(xC,{}),T.jsx(CC,{}),T.jsx(RC,{})]})})}yS.createRoot(document.getElementById("root")).render(T.jsx(NC,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
