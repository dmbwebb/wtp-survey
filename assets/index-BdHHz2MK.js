(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function cS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var od={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function hS(){if(Jy)return ao;Jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ao.Fragment=t,ao.jsx=i,ao.jsxs=i,ao}var Wy;function fS(){return Wy||(Wy=1,od.exports=hS()),od.exports}var E=fS(),ud={exports:{}},lo={},cd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function dS(){return ev||(ev=1,(function(r){function t(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var je=de-1>>>1,Ge=G[je];if(0<o(Ge,ne))G[je]=ne,G[de]=Ge,de=je;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var je=0,Ge=G.length,k=Ge>>>1;je<k;){var X=2*(je+1)-1,ie=G[X],ae=X+1,ye=G[ae];if(0>o(ie,de))ae<Ge&&0>o(ye,ie)?(G[je]=ye,G[ae]=de,je=ae):(G[je]=ie,G[X]=de,je=X);else if(ae<Ge&&0>o(ye,de))G[je]=ye,G[ae]=de,je=ae;else break e}}return ne}function o(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],C=1,w=null,V=3,Q=!1,ee=!1,re=!1,Z=!1,W=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function we(G){for(var ne=i(v);ne!==null;){if(ne.callback===null)a(v);else if(ne.startTime<=G)a(v),ne.sortIndex=ne.expirationTime,t(_,ne);else break;ne=i(v)}}function Je(G){if(re=!1,we(G),!ee)if(i(_)!==null)ee=!0,_e||(_e=!0,O());else{var ne=i(v);ne!==null&&Ie(Je,ne.startTime-G)}}var _e=!1,I=-1,b=5,A=-1;function D(){return Z?!0:!(r.unstable_now()-A<b)}function R(){if(Z=!1,_e){var G=r.unstable_now();A=G;var ne=!0;try{e:{ee=!1,re&&(re=!1,se(I),I=-1),Q=!0;var de=V;try{t:{for(we(G),w=i(_);w!==null&&!(w.expirationTime>G&&D());){var je=w.callback;if(typeof je=="function"){w.callback=null,V=w.priorityLevel;var Ge=je(w.expirationTime<=G);if(G=r.unstable_now(),typeof Ge=="function"){w.callback=Ge,we(G),ne=!0;break t}w===i(_)&&a(_),we(G)}else a(_);w=i(_)}if(w!==null)ne=!0;else{var k=i(v);k!==null&&Ie(Je,k.startTime-G),ne=!1}}break e}finally{w=null,V=de,Q=!1}ne=void 0}}finally{ne?O():_e=!1}}}var O;if(typeof he=="function")O=function(){he(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ge=x.port2;x.port1.onmessage=R,O=function(){ge.postMessage(null)}}else O=function(){W(R,0)};function Ie(G,ne){I=W(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var ne=3;break;default:ne=V}var de=V;V=ne;try{return G()}finally{V=de}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=V;V=G;try{return ne()}finally{V=de}},r.unstable_scheduleCallback=function(G,ne,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,G={id:C++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Ge,sortIndex:-1},de>je?(G.sortIndex=de,t(v,G),i(_)===null&&G===i(v)&&(re?(se(I),I=-1):re=!0,Ie(Je,de-je))):(G.sortIndex=Ge,t(_,G),ee||Q||(ee=!0,_e||(_e=!0,O()))),G},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(G){var ne=V;return function(){var de=V;V=ne;try{return G.apply(this,arguments)}finally{V=de}}}})(hd)),hd}var tv;function mS(){return tv||(tv=1,cd.exports=dS()),cd.exports}var fd={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function pS(){if(nv)return ve;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function Q(k){return k===null||typeof k!="object"?null:(k=V&&k[V]||k["@@iterator"],typeof k=="function"?k:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,Z={};function W(k,X,ie){this.props=k,this.context=X,this.refs=Z,this.updater=ie||ee}W.prototype.isReactComponent={},W.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function se(){}se.prototype=W.prototype;function he(k,X,ie){this.props=k,this.context=X,this.refs=Z,this.updater=ie||ee}var we=he.prototype=new se;we.constructor=he,re(we,W.prototype),we.isPureReactComponent=!0;var Je=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(k,X,ie){var ae=ie.ref;return{$$typeof:r,type:k,key:X,ref:ae!==void 0?ae:null,props:ie}}function D(k,X){return A(k.type,X,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return X[ie]})}var x=/\/+/g;function ge(k,X){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):X.toString(36)}function Ie(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_e,_e):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,X,ie,ae,ye){var Se=typeof k;(Se==="undefined"||Se==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case r:case t:ke=!0;break;case C:return ke=k._init,G(ke(k._payload),X,ie,ae,ye)}}if(ke)return ye=ye(k),ke=ae===""?"."+ge(k,0):ae,Je(ye)?(ie="",ke!=null&&(ie=ke.replace(x,"$&/")+"/"),G(ye,X,ie,"",function(nr){return nr})):ye!=null&&(R(ye)&&(ye=D(ye,ie+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(x,"$&/")+"/")+ke)),X.push(ye)),1;ke=0;var Ct=ae===""?".":ae+":";if(Je(k))for(var it=0;it<k.length;it++)ae=k[it],Se=Ct+ge(ae,it),ke+=G(ae,X,ie,Se,ye);else if(it=Q(k),typeof it=="function")for(k=it.call(k),it=0;!(ae=k.next()).done;)ae=ae.value,Se=Ct+ge(ae,it++),ke+=G(ae,X,ie,Se,ye);else if(Se==="object"){if(typeof k.then=="function")return G(Ie(k),X,ie,ae,ye);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(k,X,ie){if(k==null)return k;var ae=[],ye=0;return G(k,ae,"","",function(Se){return X.call(ie,Se,ye++)}),ae}function de(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:ne,forEach:function(k,X,ie){ne(k,function(){X.apply(this,arguments)},ie)},count:function(k){var X=0;return ne(k,function(){X++}),X},toArray:function(k){return ne(k,function(X){return X})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ve.Activity=w,ve.Children=Ge,ve.Component=W,ve.Fragment=i,ve.Profiler=o,ve.PureComponent=he,ve.StrictMode=a,ve.Suspense=_,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ve.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},ve.cache=function(k){return function(){return k.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(k,X,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=re({},k.props),ye=k.key;if(X!=null)for(Se in X.key!==void 0&&(ye=""+X.key),X)!b.call(X,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&X.ref===void 0||(ae[Se]=X[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ie;else if(1<Se){for(var ke=Array(Se),Ct=0;Ct<Se;Ct++)ke[Ct]=arguments[Ct+2];ae.children=ke}return A(k.type,ye,ae)},ve.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},ve.createElement=function(k,X,ie){var ae,ye={},Se=null;if(X!=null)for(ae in X.key!==void 0&&(Se=""+X.key),X)b.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=X[ae]);var ke=arguments.length-2;if(ke===1)ye.children=ie;else if(1<ke){for(var Ct=Array(ke),it=0;it<ke;it++)Ct[it]=arguments[it+2];ye.children=Ct}if(k&&k.defaultProps)for(ae in ke=k.defaultProps,ke)ye[ae]===void 0&&(ye[ae]=ke[ae]);return A(k,Se,ye)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(k){return{$$typeof:g,render:k}},ve.isValidElement=R,ve.lazy=function(k){return{$$typeof:C,_payload:{_status:-1,_result:k},_init:de}},ve.memo=function(k,X){return{$$typeof:v,type:k,compare:X===void 0?null:X}},ve.startTransition=function(k){var X=I.T,ie={};I.T=ie;try{var ae=k(),ye=I.S;ye!==null&&ye(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_e,je)}catch(Se){je(Se)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),I.T=X}},ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ve.use=function(k){return I.H.use(k)},ve.useActionState=function(k,X,ie){return I.H.useActionState(k,X,ie)},ve.useCallback=function(k,X){return I.H.useCallback(k,X)},ve.useContext=function(k){return I.H.useContext(k)},ve.useDebugValue=function(){},ve.useDeferredValue=function(k,X){return I.H.useDeferredValue(k,X)},ve.useEffect=function(k,X){return I.H.useEffect(k,X)},ve.useEffectEvent=function(k){return I.H.useEffectEvent(k)},ve.useId=function(){return I.H.useId()},ve.useImperativeHandle=function(k,X,ie){return I.H.useImperativeHandle(k,X,ie)},ve.useInsertionEffect=function(k,X){return I.H.useInsertionEffect(k,X)},ve.useLayoutEffect=function(k,X){return I.H.useLayoutEffect(k,X)},ve.useMemo=function(k,X){return I.H.useMemo(k,X)},ve.useOptimistic=function(k,X){return I.H.useOptimistic(k,X)},ve.useReducer=function(k,X,ie){return I.H.useReducer(k,X,ie)},ve.useRef=function(k){return I.H.useRef(k)},ve.useState=function(k){return I.H.useState(k)},ve.useSyncExternalStore=function(k,X,ie){return I.H.useSyncExternalStore(k,X,ie)},ve.useTransition=function(){return I.H.useTransition()},ve.version="19.2.0",ve}var iv;function Xd(){return iv||(iv=1,fd.exports=pS()),fd.exports}var dd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function gS(){if(sv)return Kt;sv=1;var r=Xd();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:v,implementation:C}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(_,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,C)},Kt.flushSync=function(_){var v=d.T,C=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=C,a.d.f()}},Kt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Kt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Kt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var C=v.as,w=g(C,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;C==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:Q}):C==="script"&&a.d.X(_,{crossOrigin:w,integrity:V,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var C=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Kt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var C=v.as,w=g(C,v.crossOrigin);a.d.L(_,C,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kt.preloadModule=function(_,v){if(typeof _=="string")if(v){var C=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Kt.requestFormReset=function(_){a.d.r(_)},Kt.unstable_batchedUpdates=function(_,v){return _(v)},Kt.useFormState=function(_,v,C){return d.H.useFormState(_,v,C)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var rv;function yS(){if(rv)return dd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=gS(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function vS(){if(av)return lo;av=1;var r=mS(),t=Xd(),i=yS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===l)return _(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var p=!1,T=c.child;T;){if(T===s){p=!0,s=c,l=f;break}if(T===l){p=!0,l=c,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=c;break}if(T===l){p=!0,l=f,s=c;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),he=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case W:return"Profiler";case Z:return"StrictMode";case Je:return"Suspense";case _e:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ee:return"Portal";case he:return e.displayName||"Context";case se:return(e._context.displayName||"Context")+".Consumer";case we:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function k(e){return{current:e}}function X(e){0>Ge||(e.current=je[Ge],je[Ge]=null,Ge--)}function ie(e,n){Ge++,je[Ge]=e.current,e.current=n}var ae=k(null),ye=k(null),Se=k(null),ke=k(null);function Ct(e,n){switch(ie(Se,n),ie(ye,e),ie(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ty(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ty(n),e=Sy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ae),ie(ae,e)}function it(){X(ae),X(ye),X(Se)}function nr(e){e.memoizedState!==null&&ie(ke,e);var n=ae.current,s=Sy(n,e.type);n!==s&&(ie(ye,e),ie(ae,s))}function Yr(e){ye.current===e&&(X(ae),X(ye)),ke.current===e&&(X(ke),no._currentValue=de)}var Kr,Xr;function ei(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Xr}var nl=!1;function ir(e,n){if(!e||nl)return"";nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var N=p.split(`
`),P=T.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===P.length)for(l=N.length-1,c=P.length-1;1<=l&&0<=c&&N[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==P[c]){var F=`
`+N[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=c);break}}}finally{nl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ei(s):""}function il(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return ir(e.type,!1);case 11:return ir(e.type.render,!1);case 1:return ir(e.type,!0);case 31:return ei("Activity");default:return""}}function sl(e){try{var n="",s=null;do n+=il(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,uh=r.unstable_shouldYield,jo=r.unstable_requestPaint,Wt=r.unstable_now,sr=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,al=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,ch=r.unstable_LowPriority,Uo=r.unstable_IdlePriority,Lo=r.log,Po=r.unstable_setDisableYieldValue,Vn=null,jt=null;function Tn(e){if(typeof Lo=="function"&&Po(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Vn,e)}catch{}}var ft=Math.clz32?Math.clz32:Bo,zo=Math.log,$r=Math.LN2;function Bo(e){return e>>>=0,e===0?32:31-(zo(e)/$r|0)|0}var ti=256,rr=262144,yt=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=ni(l):(p&=T,p!==0?c=ni(p):s||(s=T&~e,s!==0&&(c=ni(s))))):(T=l&~f,T!==0?c=ni(T):p!==0?c=ni(p):s||(s=l&~e,s!==0&&(c=ni(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var e=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),e}function si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fh(e,n,s,l,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ft(s),K=1<<F;T[F]=0,N[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~K}l!==0&&lr(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function lr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ft(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ll(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ft(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function ol(e,n){var s=n&-n;return s=(s&42)!==0?1:or(s),(s&(e.suspendedLanes|n))!==0?0:s}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ho(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Fy(e.type))}function Un(e,n){var s=ne.p;try{return ne.p=e,n()}finally{ne.p=s}}var Ln=Math.random().toString(36).slice(2),vt="__reactFiber$"+Ln,Nt="__reactProps$"+Ln,ri="__reactContainer$"+Ln,Zr="__reactEvents$"+Ln,dh="__reactListeners$"+Ln,Go="__reactHandles$"+Ln,Fo="__reactResources$"+Ln,ai="__reactMarker$"+Ln;function Jr(e){delete e[vt],delete e[Nt],delete e[Zr],delete e[dh],delete e[Go]}function li(e){var n=e[vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Iy(e);e!==null;){if(s=e[vt])return s;e=Iy(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[vt]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[Fo];return n||(n=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[ai]=!0}var ul=new Set,cl={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(cl[e]=n,e=0;e<n.length;e++)ul.add(n[e])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function Qo(e){return gt.call(dl,e)?!0:gt.call(fl,e)?!1:hl.test(e)?dl[e]=!0:(fl[e]=!0,!1)}function Wr(e,n,s){if(Qo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Et(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ml(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fe(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=ml(e,n,""+e[n])}}function ur(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=os(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,s,l,c,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?pl(e,p,Dt(n)):s!=null?pl(e,p,Dt(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Dt(T):e.removeAttribute("name")}function Yo(e,n,s,l,c,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Fe(e);return}s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Fe(e)}function pl(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function us(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ko(e,n,s){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Dt(s):""}function cs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Dt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Fe(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Xo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function yl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&gl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&gl(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var vl=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,fi=null;function hr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ea(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Nt]||null;if(!c)throw Error(a(90));ea(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&ur(l)}break e;case"textarea":Ko(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&us(e,!!s.multiple,n,!1)}}}var ia=!1;function ds(e,n,s){if(ia)return e(n,s);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(fs!==null||fi!==null)&&(Hu(),fs&&(n=fs,e=fi,fi=fs=null,hr(n),e)))for(n=0;n<e.length;n++)hr(e[n])}}function zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Nt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(An)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{fr=!1}var di=null,_l=null,dr=null;function El(){if(dr)return dr;var e,n=_l,s=n.length,l,c="value"in di?di.value:di.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===c[f-l];l++);return dr=c.slice(e,1<l?1-l:void 0)}function mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Bn(){return!1}function Ut(e){function n(s,l,c,f,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Bn,this.isPropagationStopped=Bn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Ut(Oi),ms=w({},Oi,{view:0,detail:0}),Tl=Ut(ms),ps,sa,pi,ra=w({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(ps=e.screenX-pi.screenX,sa=e.screenY-pi.screenY):sa=ps=0,pi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Sl=Ut(ra),pr=w({},ra,{dataTransfer:0}),Zo=Ut(pr),Jo=w({},ms,{relatedTarget:0}),gr=Ut(Jo),bl=w({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Ut(bl),aa=w({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=Ut(aa),tu=w({},Oi,{data:0}),gi=Ut(tu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=su[e])?!!n[e]:!1}function gs(){return ru}var en=w({},ms,{key:function(e){if(e.key){var n=nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),au=Ut(en),lu=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Ut(lu),u=w({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Ut(u),y=w({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ut(y),U=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ut(U),te=w({},Oi,{newState:0,oldState:0}),Ee=Ut(te),dt=[9,13,27,32],ze=An&&"CompositionEvent"in window,st=null;An&&"documentMode"in document&&(st=document.documentMode);var wn=An&&"TextEvent"in window&&!st,yi=An&&(!ze||st&&8<st&&11>=st),qn=" ",Hn=!1;function yr(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function kE(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function VE(e,n){if(oa)return e==="compositionend"||!ze&&yr(e,n)?(e=El(),dr=_l=di=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jE[e.type]:n==="textarea"}function Mm(e,n,s,l){fs?fi?fi.push(l):fi=[l]:fs=l,n=$u(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Al=null,wl=null;function UE(e){py(e,0)}function ou(e){var n=fn(e);if(ur(n))return e}function km(e,n){if(e==="change")return n}var Vm=!1;if(An){var mh;if(An){var ph="oninput"in document;if(!ph){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),ph=typeof jm.oninput=="function"}mh=ph}else mh=!1;Vm=mh&&(!document.documentMode||9<document.documentMode)}function Um(){Al&&(Al.detachEvent("onpropertychange",Lm),wl=Al=null)}function Lm(e){if(e.propertyName==="value"&&ou(wl)){var n=[];Mm(n,wl,e,bn(e)),ds(UE,n)}}function LE(e,n,s){e==="focusin"?(Um(),Al=n,wl=s,Al.attachEvent("onpropertychange",Lm)):e==="focusout"&&Um()}function PE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ou(wl)}function zE(e,n){if(e==="click")return ou(n)}function BE(e,n){if(e==="input"||e==="change")return ou(n)}function qE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:qE;function xl(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!gt.call(n,c)||!mn(e[c],n[c]))return!1}return!0}function Pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,n){var s=Pm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pm(s)}}function Bm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HE=An&&"documentMode"in document&&11>=document.documentMode,ua=null,yh=null,Cl=null,vh=!1;function Hm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vh||ua==null||ua!==hi(l)||(l=ua,"selectionStart"in l&&gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&xl(Cl,l)||(Cl=l,l=$u(yh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ua)))}function vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},_h={},Gm={};An&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function _r(e){if(_h[e])return _h[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gm)return _h[e]=n[s];return e}var Fm=_r("animationend"),Qm=_r("animationiteration"),Ym=_r("animationstart"),GE=_r("transitionrun"),FE=_r("transitionstart"),QE=_r("transitioncancel"),Km=_r("transitionend"),Xm=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function Gn(e,n){Xm.set(e,n),ui(n,[e])}var uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ha=0,Th=0;function cu(){for(var e=ha,n=Th=ha=0;n<e;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&$m(s,c,f)}}function hu(e,n,s,l){xn[ha++]=e,xn[ha++]=n,xn[ha++]=s,xn[ha++]=l,Th|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sh(e,n,s,l){return hu(e,n,s,l),fu(e)}function Er(e,n){return hu(e,null,null,n),fu(e)}function $m(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ft(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function fu(e){if(50<Xl)throw Xl=0,Of=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function YE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,l){return new YE(e,n,s,l)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Zm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function du(e,n,s,l,c,f){var p=0;if(l=e,typeof e=="function")bh(e)&&(p=1);else if(typeof e=="string")p=JT(e,s,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=pn(31,s,n,c),e.elementType=A,e.lanes=f,e;case re:return Tr(s.children,c,f,n);case Z:p=8,c|=24;break;case W:return e=pn(12,s,n,c|2),e.elementType=W,e.lanes=f,e;case Je:return e=pn(13,s,n,c),e.elementType=Je,e.lanes=f,e;case _e:return e=pn(19,s,n,c),e.elementType=_e,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:p=10;break e;case se:p=9;break e;case we:p=11;break e;case I:p=14;break e;case b:p=16,l=null;break e}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=pn(p,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Tr(e,n,s,l){return e=pn(7,e,l,n),e.lanes=s,e}function Ah(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Jm(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function wh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Wm=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=Wm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:sl(n)},Wm.set(e,n),n)}return{value:e,source:n,stack:sl(n)}}var da=[],ma=0,mu=null,Rl=0,Rn=[],In=0,ys=null,vi=1,_i="";function Vi(e,n){da[ma++]=Rl,da[ma++]=mu,mu=e,Rl=n}function ep(e,n,s){Rn[In++]=vi,Rn[In++]=_i,Rn[In++]=ys,ys=e;var l=vi;e=_i;var c=32-ft(l)-1;l&=~(1<<c),s+=1;var f=32-ft(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,vi=1<<32-ft(n)+c|s<<c|l,_i=f+e}else vi=1<<f|s<<c|l,_i=e}function xh(e){e.return!==null&&(Vi(e,1),ep(e,1,0))}function Ch(e){for(;e===mu;)mu=da[--ma],da[ma]=null,Rl=da[--ma],da[ma]=null;for(;e===ys;)ys=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null,vi=Rn[--In],Rn[In]=null}function tp(e,n){Rn[In++]=vi,Rn[In++]=_i,Rn[In++]=ys,vi=n.id,_i=n.overflow,ys=e}var Lt=null,tt=null,Me=!1,vs=null,Nn=!1,Rh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Cn(n,e)),Rh}function np(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[vt]=e,n[Nt]=l,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Re(Zl[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Yo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),cs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||_y(n.textContent,s)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||_s(e,!0)}function ip(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Lt=Lt.return}}function pa(e){if(e!==Lt)return!1;if(!Me)return ip(e),Me=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Yf(e.type,e.memoizedProps)),s=!s),s&&tt&&_s(e),ip(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=Ry(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=Ry(e)}else n===27?(n=tt,Ms(e.type)?(e=Jf,Jf=null,tt=e):tt=n):tt=Lt?On(e.stateNode.nextSibling):null;return!0}function Sr(){tt=Lt=null,Me=!1}function Ih(){var e=vs;return e!==null&&(on===null?on=e:on.push.apply(on,e),vs=null),e}function Il(e){vs===null?vs=[e]:vs.push(e)}var Nh=k(null),br=null,ji=null;function Es(e,n,s){ie(Nh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Nh.current,X(Nh)}function Dh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Oh(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=c;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Dh(f.return,s,e),l||(p=null);break e}f=T.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Dh(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ga(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=c.type;mn(c.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(c===ke.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}c=c.return}e!==null&&Oh(n,e,s,l),n.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){br=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pt(e){return sp(br,e)}function gu(e,n){return br===null&&Ar(e),sp(e,n)}function sp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var KE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XE=r.unstable_scheduleCallback,$E=r.unstable_NormalPriority,Tt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new KE,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&XE($E,function(){e.controller.abort()})}var Dl=null,kh=0,ya=0,va=null;function ZE(e,n){if(Dl===null){var s=Dl=[];kh=0,ya=Lf(),va={status:"pending",value:void 0,then:function(l){s.push(l)}}}return kh++,n.then(rp,rp),n}function rp(){if(--kh===0&&Dl!==null){va!==null&&(va.status="fulfilled");var e=Dl;Dl=null,ya=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function JE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var ap=G.S;G.S=function(e,n){Hg=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZE(e,n),ap!==null&&ap(e,n)};var wr=k(null);function Vh(){var e=wr.current;return e!==null?e:We.pooledCache}function yu(e,n){n===null?ie(wr,wr.current):ie(wr,n.pool)}function lp(){var e=Vh();return e===null?null:{parent:Tt._currentValue,pool:e}}var _a=Error(a(460)),jh=Error(a(474)),vu=Error(a(542)),_u={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function up(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Pn,Pn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hp(e),e}throw Cr=n,_a}}function xr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Cr=s,_a):s}}var Cr=null;function cp(){if(Cr===null)throw Error(a(459));var e=Cr;return Cr=null,e}function hp(e){if(e===_a||e===vu)throw Error(a(483))}var Ea=null,Ol=0;function Eu(e){var n=Ol;return Ol+=1,Ea===null&&(Ea=[]),up(Ea,e,n)}function Ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Tu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fp(e){function n(j,M){if(e){var L=j.deletions;L===null?(j.deletions=[M],j.flags|=16):L.push(M)}}function s(j,M){if(!e)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function c(j,M){return j=ki(j,M),j.index=0,j.sibling=null,j}function f(j,M,L){return j.index=L,e?(L=j.alternate,L!==null?(L=L.index,L<M?(j.flags|=67108866,M):L):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function p(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,L,Y){return M===null||M.tag!==6?(M=Ah(L,j.mode,Y),M.return=j,M):(M=c(M,L),M.return=j,M)}function N(j,M,L,Y){var ce=L.type;return ce===re?F(j,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&xr(ce)===M.type)?(M=c(M,L.props),Ml(M,L),M.return=j,M):(M=du(L.type,L.key,L.props,null,j.mode,Y),Ml(M,L),M.return=j,M)}function P(j,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=wh(L,j.mode,Y),M.return=j,M):(M=c(M,L.children||[]),M.return=j,M)}function F(j,M,L,Y,ce){return M===null||M.tag!==7?(M=Tr(L,j.mode,Y,ce),M.return=j,M):(M=c(M,L),M.return=j,M)}function K(j,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ah(""+M,j.mode,L),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return L=du(M.type,M.key,M.props,null,j.mode,L),Ml(L,M),L.return=j,L;case ee:return M=wh(M,j.mode,L),M.return=j,M;case b:return M=xr(M),K(j,M,L)}if(Ie(M)||O(M))return M=Tr(M,j.mode,L,null),M.return=j,M;if(typeof M.then=="function")return K(j,Eu(M),L);if(M.$$typeof===he)return K(j,gu(j,M),L);Tu(j,M)}return null}function B(j,M,L,Y){var ce=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:T(j,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ce?N(j,M,L,Y):null;case ee:return L.key===ce?P(j,M,L,Y):null;case b:return L=xr(L),B(j,M,L,Y)}if(Ie(L)||O(L))return ce!==null?null:F(j,M,L,Y,null);if(typeof L.then=="function")return B(j,M,Eu(L),Y);if(L.$$typeof===he)return B(j,M,gu(j,L),Y);Tu(j,L)}return null}function H(j,M,L,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(L)||null,T(M,j,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return j=j.get(Y.key===null?L:Y.key)||null,N(M,j,Y,ce);case ee:return j=j.get(Y.key===null?L:Y.key)||null,P(M,j,Y,ce);case b:return Y=xr(Y),H(j,M,L,Y,ce)}if(Ie(Y)||O(Y))return j=j.get(L)||null,F(M,j,Y,ce,null);if(typeof Y.then=="function")return H(j,M,L,Eu(Y),ce);if(Y.$$typeof===he)return H(j,M,L,gu(M,Y),ce);Tu(M,Y)}return null}function le(j,M,L,Y){for(var ce=null,Le=null,oe=M,be=M=0,De=null;oe!==null&&be<L.length;be++){oe.index>be?(De=oe,oe=null):De=oe.sibling;var Pe=B(j,oe,L[be],Y);if(Pe===null){oe===null&&(oe=De);break}e&&oe&&Pe.alternate===null&&n(j,oe),M=f(Pe,M,be),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe,oe=De}if(be===L.length)return s(j,oe),Me&&Vi(j,be),ce;if(oe===null){for(;be<L.length;be++)oe=K(j,L[be],Y),oe!==null&&(M=f(oe,M,be),Le===null?ce=oe:Le.sibling=oe,Le=oe);return Me&&Vi(j,be),ce}for(oe=l(oe);be<L.length;be++)De=H(oe,j,be,L[be],Y),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?be:De.key),M=f(De,M,be),Le===null?ce=De:Le.sibling=De,Le=De);return e&&oe.forEach(function(Ls){return n(j,Ls)}),Me&&Vi(j,be),ce}function me(j,M,L,Y){if(L==null)throw Error(a(151));for(var ce=null,Le=null,oe=M,be=M=0,De=null,Pe=L.next();oe!==null&&!Pe.done;be++,Pe=L.next()){oe.index>be?(De=oe,oe=null):De=oe.sibling;var Ls=B(j,oe,Pe.value,Y);if(Ls===null){oe===null&&(oe=De);break}e&&oe&&Ls.alternate===null&&n(j,oe),M=f(Ls,M,be),Le===null?ce=Ls:Le.sibling=Ls,Le=Ls,oe=De}if(Pe.done)return s(j,oe),Me&&Vi(j,be),ce;if(oe===null){for(;!Pe.done;be++,Pe=L.next())Pe=K(j,Pe.value,Y),Pe!==null&&(M=f(Pe,M,be),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe);return Me&&Vi(j,be),ce}for(oe=l(oe);!Pe.done;be++,Pe=L.next())Pe=H(oe,j,be,Pe.value,Y),Pe!==null&&(e&&Pe.alternate!==null&&oe.delete(Pe.key===null?be:Pe.key),M=f(Pe,M,be),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe);return e&&oe.forEach(function(uS){return n(j,uS)}),Me&&Vi(j,be),ce}function Ze(j,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===re&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:e:{for(var ce=L.key;M!==null;){if(M.key===ce){if(ce=L.type,ce===re){if(M.tag===7){s(j,M.sibling),Y=c(M,L.props.children),Y.return=j,j=Y;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&xr(ce)===M.type){s(j,M.sibling),Y=c(M,L.props),Ml(Y,L),Y.return=j,j=Y;break e}s(j,M);break}else n(j,M);M=M.sibling}L.type===re?(Y=Tr(L.props.children,j.mode,Y,L.key),Y.return=j,j=Y):(Y=du(L.type,L.key,L.props,null,j.mode,Y),Ml(Y,L),Y.return=j,j=Y)}return p(j);case ee:e:{for(ce=L.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(j,M.sibling),Y=c(M,L.children||[]),Y.return=j,j=Y;break e}else{s(j,M);break}else n(j,M);M=M.sibling}Y=wh(L,j.mode,Y),Y.return=j,j=Y}return p(j);case b:return L=xr(L),Ze(j,M,L,Y)}if(Ie(L))return le(j,M,L,Y);if(O(L)){if(ce=O(L),typeof ce!="function")throw Error(a(150));return L=ce.call(L),me(j,M,L,Y)}if(typeof L.then=="function")return Ze(j,M,Eu(L),Y);if(L.$$typeof===he)return Ze(j,M,gu(j,L),Y);Tu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(j,M.sibling),Y=c(M,L),Y.return=j,j=Y):(s(j,M),Y=Ah(L,j.mode,Y),Y.return=j,j=Y),p(j)):s(j,M)}return function(j,M,L,Y){try{Ol=0;var ce=Ze(j,M,L,Y);return Ea=null,ce}catch(oe){if(oe===_a||oe===vu)throw oe;var Le=pn(29,oe,null,j.mode);return Le.lanes=Y,Le.return=j,Le}finally{}}}var Rr=fp(!0),dp=fp(!1),Ts=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=fu(e),$m(e,null,s),n}return hu(e,l,n,s),fu(e)}function kl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}function Ph(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var zh=!1;function Vl(){if(zh){var e=va;if(e!==null)throw e}}function jl(e,n,s,l){zh=!1;var c=e.updateQueue;Ts=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var N=T,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;p=0,F=P=N=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ne&B)===B:(l&B)===B){B!==0&&B===ya&&(zh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=e,me=T;B=n;var Ze=s;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){K=le.call(Ze,K,B);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,B=typeof le=="function"?le.call(Ze,K,B):le,B==null)break e;K=w({},K,B);break e;case 2:Ts=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=H,N=K):F=F.next=H,p|=B;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;H=T,T=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(N=K),c.baseState=N,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Rs|=p,e.lanes=p,e.memoizedState=K}}function mp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function pp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)mp(s[e],n)}var Ta=k(null),Su=k(0);function gp(e,n){e=Qi,ie(Su,e),ie(Ta,n),Qi=e|n.baseLanes}function Bh(){ie(Su,Qi),ie(Ta,Ta.current)}function qh(){Qi=Su.current,X(Ta),X(Su)}var gn=k(null),Dn=null;function As(e){var n=e.alternate;ie(mt,mt.current&1),ie(gn,e),Dn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Dn=e)}function Hh(e){ie(mt,mt.current),ie(gn,e),Dn===null&&(Dn=e)}function yp(e){e.tag===22?(ie(mt,mt.current),ie(gn,e),Dn===null&&(Dn=e)):ws()}function ws(){ie(mt,mt.current),ie(gn,gn.current)}function yn(e){X(gn),Dn===e&&(Dn=null),X(mt)}var mt=k(0);function bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$f(s)||Zf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Te=null,Xe=null,St=null,Au=!1,Sa=!1,Ir=!1,wu=0,Ul=0,ba=null,WE=0;function ut(){throw Error(a(321))}function Gh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function Fh(e,n,s,l,c,f){return Li=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?eg:lf,Ir=!1,f=s(l,c),Ir=!1,Sa&&(f=_p(n,s,l,c)),vp(e),f}function vp(e){G.H=zl;var n=Xe!==null&&Xe.next!==null;if(Li=0,St=Xe=Te=null,Au=!1,Ul=0,ba=null,n)throw Error(a(300));e===null||bt||(e=e.dependencies,e!==null&&pu(e)&&(bt=!0))}function _p(e,n,s,l){Te=e;var c=0;do{if(Sa&&(ba=null),Ul=0,Sa=!1,25<=c)throw Error(a(301));if(c+=1,St=Xe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=tg,f=n(s,l)}while(Sa);return f}function eT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Te.flags|=1024),n}function Qh(){var e=wu!==0;return wu=0,e}function Yh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Kh(e){if(Au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Au=!1}Li=0,St=Xe=Te=null,Sa=!1,Ul=wu=0,ba=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Te.memoizedState=St=e:St=St.next=e,St}function pt(){if(Xe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var n=St===null?Te.memoizedState:St.next;if(n!==null)St=n,Xe=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},St===null?Te.memoizedState=St=e:St=St.next=e}return St}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=Ul;return Ul+=1,ba===null&&(ba=[]),e=up(ba,e,n),n=Te,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?eg:lf),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===he)return Pt(e)}throw Error(a(438,String(e)))}function Xh(e){var n=null,s=Te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=xu(),Te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=D;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=pt();return $h(n,Xe,e)}function $h(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var T=p=null,N=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Ne&K)===K:(Li&K)===K){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ya&&(F=!0);else if((Li&B)===B){P=P.next,B===ya&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(T=N=K,p=f):N=N.next=K,Te.lanes|=B,Rs|=B;K=P.action,Ir&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else B={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(T=N=B,p=f):N=N.next=B,Te.lanes|=K,Rs|=K;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=T,!mn(f,e.memoizedState)&&(bt=!0,F&&(s=va,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zh(e){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);mn(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Ep(e,n,s){var l=Te,c=pt(),f=Me;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!mn((Xe||c).memoizedState,s);if(p&&(c.memoizedState=s,bt=!0),c=c.queue,ef(bp.bind(null,l,c,e),[e]),c.getSnapshot!==n||p||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Aa(9,{destroy:void 0},Sp.bind(null,l,c,s,n),null),We===null)throw Error(a(349));f||(Li&127)!==0||Tp(l,n,s)}return s}function Tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n=xu(),Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Sp(e,n,s,l){n.value=s,n.getSnapshot=l,Ap(n)&&wp(e)}function bp(e,n,s){return s(function(){Ap(n)&&wp(e)})}function Ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function wp(e){var n=Er(e,2);n!==null&&un(n,e,2)}function Jh(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Ir){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function xp(e,n,s,l){return e.baseState=s,$h(e,Xe,typeof l=="function"?l:Pi)}function tT(e,n,s,l,c){if(Du(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Cp(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=s(c,l),N=G.S;N!==null&&N(p,T),Rp(e,n,T)}catch(P){Wh(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(c,l),Rp(e,n,f)}catch(P){Wh(e,n,P)}}function Rp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ip(e,n,l)},function(l){return Wh(e,n,l)}):Ip(e,n,s)}function Ip(e,n,s){n.status="fulfilled",n.value=s,Np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Cp(e,s)))}function Wh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Np(n),n=n.next;while(n!==l)}e.action=null}function Np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dp(e,n){return n}function Op(e,n){if(Me){var s=We.formState;if(s!==null){e:{var l=Te;if(Me){if(tt){t:{for(var c=tt,f=Nn;c.nodeType!==8;){if(!f){c=null;break t}if(c=On(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){tt=On(c.nextSibling),l=c.data==="F!";break e}}_s(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:n},s.queue=l,s=Zp.bind(null,Te,l),l.dispatch=s,l=Jh(!1),f=af.bind(null,Te,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=tT.bind(null,Te,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Mp(e){var n=pt();return kp(n,Xe,e)}function kp(e,n,s){if(n=$h(e,n,Dp)[0],e=Ru(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ll(n)}catch(p){throw p===_a?vu:p}else l=n;n=pt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Te.flags|=2048,Aa(9,{destroy:void 0},nT.bind(null,c,s),null)),[l,f,e]}function nT(e,n){e.action=n}function Vp(e){var n=pt(),s=Xe;if(s!==null)return kp(n,s,e);pt(),n=n.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Aa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=xu(),Te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function jp(){return pt().memoizedState}function Iu(e,n,s,l){var c=tn();Te.flags|=e,c.memoizedState=Aa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Nu(e,n,s,l){var c=pt();l=l===void 0?null:l;var f=c.memoizedState.inst;Xe!==null&&l!==null&&Gh(l,Xe.memoizedState.deps)?c.memoizedState=Aa(n,f,s,l):(Te.flags|=e,c.memoizedState=Aa(1|n,f,s,l))}function Up(e,n){Iu(8390656,8,e,n)}function ef(e,n){Nu(2048,8,e,n)}function iT(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=xu(),Te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Lp(e){var n=pt().memoizedState;return iT({ref:n,nextImpl:e}),function(){if((Be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Pp(e,n){return Nu(4,2,e,n)}function zp(e,n){return Nu(4,4,e,n)}function Bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,s){s=s!=null?s.concat([e]):null,Nu(4,4,Bp.bind(null,n,e),s)}function tf(){}function Hp(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Gh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Gp(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Gh(n,l[1]))return l[0];if(l=e(),Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function nf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Fg(),Te.lanes|=e,Rs|=e,s)}function Fp(e,n,s,l){return mn(s,n)?s:Ta.current!==null?(e=nf(e,s,l),mn(e,n)||(bt=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Ne&261930)===0?(bt=!0,e.memoizedState=s):(e=Fg(),Te.lanes|=e,Rs|=e,n)}function Qp(e,n,s,l,c){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,af(e,!1,n,s);try{var N=c(),P=G.S;if(P!==null&&P(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=JE(N,l);Pl(e,n,F,En(e))}else Pl(e,n,l,En(e))}catch(K){Pl(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{ne.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function sT(){}function sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var c=Yp(e).queue;Qp(e,c,n,de,s===null?sT:function(){return Kp(e),s(l)})}function Yp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Yp(e);n.next===null&&(n=e.alternate.memoizedState),Pl(e,n.next.queue,{},En())}function rf(){return Pt(no)}function Xp(){return pt().memoizedState}function $p(){return pt().memoizedState}function rT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Ss(s);var l=bs(n,e,s);l!==null&&(un(l,n,s),kl(l,n,s)),n={cache:Mh()},e.payload=n;return}n=n.return}}function aT(e,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e)?Jp(n,s):(s=Sh(e,n,s,l),s!==null&&(un(s,e,l),Wp(s,n,l)))}function Zp(e,n,s){var l=En();Pl(e,n,s,l)}function Pl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))Jp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(c.hasEagerState=!0,c.eagerState=T,mn(T,p))return hu(e,n,c,0),We===null&&cu(),!1}catch{}finally{}if(s=Sh(e,n,c,l),s!==null)return un(s,e,l),Wp(s,n,l),!0}return!1}function af(e,n,s,l){if(l={lane:2,revertLane:Lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(a(479))}else n=Sh(e,s,l,2),n!==null&&un(n,e,2)}function Du(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Jp(e,n){Sa=Au=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Wp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}var zl={readContext:Pt,use:Cu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};zl.useEffectEvent=ut;var eg={readContext:Pt,use:Cu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Pt,useEffect:Up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Iu(4194308,4,Bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Iu(4194308,4,e,n)},useInsertionEffect:function(e,n){Iu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var l=e();if(Ir){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=tn();if(s!==void 0){var c=s(n);if(Ir){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=aT.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,s=Zp.bind(null,Te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:tf,useDeferredValue:function(e,n){var s=tn();return nf(s,e,n)},useTransition:function(){var e=Jh(!1);return e=Qp.bind(null,Te,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Te,c=tn();if(Me){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));(Ne&127)!==0||Tp(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Up(bp.bind(null,l,f,e),[e]),l.flags|=2048,Aa(9,{destroy:void 0},Sp.bind(null,l,f,s,n),null),s},useId:function(){var e=tn(),n=We.identifierPrefix;if(Me){var s=_i,l=vi;s=(l&~(1<<32-ft(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=wu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=WE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rf,useFormState:Op,useActionState:Op,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=af.bind(null,Te,!0,s),s.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return tn().memoizedState=rT.bind(null,Te)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Be&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},lf={readContext:Pt,use:Cu,useCallback:Hp,useContext:Pt,useEffect:ef,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Gp,useReducer:Ru,useRef:jp,useState:function(){return Ru(Pi)},useDebugValue:tf,useDeferredValue:function(e,n){var s=pt();return Fp(s,Xe.memoizedState,e,n)},useTransition:function(){var e=Ru(Pi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:rf,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,n){var s=pt();return xp(s,Xe,e,n)},useMemoCache:Xh,useCacheRefresh:$p};lf.useEffectEvent=Lp;var tg={readContext:Pt,use:Cu,useCallback:Hp,useContext:Pt,useEffect:ef,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Gp,useReducer:Zh,useRef:jp,useState:function(){return Zh(Pi)},useDebugValue:tf,useDeferredValue:function(e,n){var s=pt();return Xe===null?nf(s,e,n):Fp(s,Xe.memoizedState,e,n)},useTransition:function(){var e=Zh(Pi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:rf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,n){var s=pt();return Xe!==null?xp(s,Xe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:$p};tg.useEffectEvent=Lp;function of(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var uf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=En(),c=Ss(l);c.payload=n,s!=null&&(c.callback=s),n=bs(e,c,l),n!==null&&(un(n,e,l),kl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=En(),c=Ss(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=bs(e,c,l),n!==null&&(un(n,e,l),kl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),l=Ss(s);l.tag=2,n!=null&&(l.callback=n),n=bs(e,l,s),n!==null&&(un(n,e,s),kl(n,e,s))}};function ng(e,n,s,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!xl(s,l)||!xl(c,f):!0}function ig(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&uf.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function sg(e){uu(e)}function rg(e){console.error(e)}function ag(e){uu(e)}function Ou(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function lg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cf(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Ou(e,n)},s}function og(e){return e=Ss(e),e.tag=3,e}function ug(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){lg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){lg(n,s,l),typeof c!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lT(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,c,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Gu():s.alternate===null&&ct===0&&(ct=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===_u?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Vf(e,l,c)),!1;case 22:return s.flags|=65536,l===_u?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Vf(e,l,c)),!1}throw Error(a(435,s.tag))}return Vf(e,l,c),Gu(),!1}if(Me)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Rh&&(e=Error(a(422),{cause:l}),Il(Cn(e,s)))):(l!==Rh&&(n=Error(a(423),{cause:l}),Il(Cn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,s),c=cf(e.stateNode,l,c),Ph(e,c),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:l});if(f=Cn(f,s),Kl===null?Kl=[f]:Kl.push(f),ct!==4&&(ct=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=cf(s.stateNode,l,e),Ph(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=og(c),ug(c,e,s,l),Ph(s,c),!1}s=s.return}while(s!==null);return!1}var hf=Error(a(461)),bt=!1;function zt(e,n,s,l){n.child=e===null?dp(n,null,s,l):Rr(n,e.child,s,l)}function cg(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Ar(n),l=Fh(e,n,s,p,f,c),T=Qh(),e!==null&&!bt?(Yh(e,n,c),zi(e,n,c)):(Me&&T&&xh(n),n.flags|=1,zt(e,n,l,c),n.child)}function hg(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,fg(e,n,f,l,c)):(e=du(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!_f(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(p,l)&&e.ref===n.ref)return zi(e,n,c)}return n.flags|=1,e=ki(f,l),e.ref=n.ref,e.return=n,n.child=e}function fg(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(xl(f,l)&&e.ref===n.ref)if(bt=!1,n.pendingProps=l=f,_f(e,c))(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,zi(e,n,c)}return ff(e,n,s,l,c)}function dg(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return mg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&yu(n,f!==null?f.cachePool:null),f!==null?gp(n,f):Bh(),yp(n);else return l=n.lanes=536870912,mg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(yu(n,f.cachePool),gp(n,f),ws(),n.memoizedState=null):(e!==null&&yu(n,null),Bh(),ws());return zt(e,n,c,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function mg(e,n,s,l,c){var f=Vh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&yu(n,null),Bh(),yp(n),e!==null&&ga(e,n,l,!0),n.childLanes=c,null}function Mu(e,n){return n=Vu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pg(e,n,s){return Rr(n,e.child,null,s),e=Mu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function oT(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Me){if(l.mode==="hidden")return e=Mu(n,l),n.lanes=536870912,Bl(null,e);if(Hh(n),(e=tt)?(e=Cy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Jm(e),s.return=n,n.child=s,Lt=n,tt=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Mu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Hh(n),c)if(n.flags&256)n.flags&=-257,n=pg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(bt||ga(e,n,s,!1),c=(s&e.childLanes)!==0,bt||c){if(l=We,l!==null&&(p=ol(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Er(e,p),un(l,e,p),hf;Gu(),n=pg(e,n,s)}else e=f.treeContext,tt=On(p.nextSibling),Lt=n,Me=!0,vs=null,Nn=!1,e!==null&&tp(n,e),n=Mu(n,l),n.flags|=4096;return n}return e=ki(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function ff(e,n,s,l,c){return Ar(n),s=Fh(e,n,s,l,void 0,c),l=Qh(),e!==null&&!bt?(Yh(e,n,c),zi(e,n,c)):(Me&&l&&xh(n),n.flags|=1,zt(e,n,s,c),n.child)}function gg(e,n,s,l,c,f){return Ar(n),n.updateQueue=null,s=_p(n,l,s,c),vp(e),l=Qh(),e!==null&&!bt?(Yh(e,n,f),zi(e,n,f)):(Me&&l&&xh(n),n.flags|=1,zt(e,n,s,f),n.child)}function yg(e,n,s,l,c){if(Ar(n),n.stateNode===null){var f=fa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Pt(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Uh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Pt(p):fa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(of(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&uf.enqueueReplaceState(f,f.state,null),jl(n,l,f,c),Vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,N=Nr(s,T);f.props=N;var P=f.context,F=s.contextType;p=fa,typeof F=="object"&&F!==null&&(p=Pt(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&ig(n,f,l,p),Ts=!1;var B=n.memoizedState;f.state=B,jl(n,l,f,c),Vl(),P=n.memoizedState,T||B!==P||Ts?(typeof K=="function"&&(of(n,s,K,l),P=n.memoizedState),(N=Ts||ng(n,s,N,l,B,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Lh(e,n),p=n.memoizedProps,F=Nr(s,p),f.props=F,K=n.pendingProps,B=f.context,P=s.contextType,N=fa,typeof P=="object"&&P!==null&&(N=Pt(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||B!==N)&&ig(n,f,l,N),Ts=!1,B=n.memoizedState,f.state=B,jl(n,l,f,c),Vl();var H=n.memoizedState;p!==K||B!==H||Ts||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof T=="function"&&(of(n,s,T,l),H=n.memoizedState),(F=Ts||ng(n,s,F,l,B,H,N)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ku(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Rr(n,e.child,null,c),n.child=Rr(n,null,s,c)):zt(e,n,s,c),n.memoizedState=f.state,e=n.child):e=zi(e,n,c),e}function vg(e,n,s,l){return Sr(),n.flags|=256,zt(e,n,s,l),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:lp()}}function pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function _g(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Me){if(c?As(n):ws(),(e=tt)?(e=Cy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Jm(e),s.return=n,n.child=s,Lt=n,tt=null)):e=null,e===null)throw _s(n);return Zf(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(ws(),c=n.mode,T=Vu({mode:"hidden",children:T},c),l=Tr(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=mf(s),l.childLanes=pf(e,p,s),n.memoizedState=df,Bl(null,l)):(As(n),gf(n,T))}var N=e.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=yf(e,n,s)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),T=l.fallback,c=n.mode,l=Vu({mode:"visible",children:l.children},c),T=Tr(T,c,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Rr(n,e.child,null,s),l=n.child,l.memoizedState=mf(s),l.childLanes=pf(e,p,s),n.memoizedState=df,n=Bl(null,l));else if(As(n),Zf(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Il({value:l,source:null,stack:null}),n=yf(e,n,s)}else if(bt||ga(e,n,s,!1),p=(s&e.childLanes)!==0,bt||p){if(p=We,p!==null&&(l=ol(p,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,Er(e,l),un(p,e,l),hf;$f(T)||Gu(),n=yf(e,n,s)}else $f(T)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,tt=On(T.nextSibling),Lt=n,Me=!0,vs=null,Nn=!1,e!==null&&tp(n,e),n=gf(n,l.children),n.flags|=4096);return n}return c?(ws(),T=l.fallback,c=n.mode,N=e.child,P=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?T=ki(P,T):(T=Tr(T,c,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Bl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=mf(s):(c=T.cachePool,c!==null?(N=Tt._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=lp(),T={baseLanes:T.baseLanes|s,cachePool:c}),l.memoizedState=T,l.childLanes=pf(e,p,s),n.memoizedState=df,Bl(e.child,l)):(As(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function gf(e,n){return n=Vu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function yf(e,n,s){return Rr(n,e.child,null,s),e=gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Eg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Dh(e.return,n,s)}function vf(e,n,s,l,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function Tg(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=mt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ie(mt,p),zt(e,n,l,s),l=Me?Rl:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eg(e,s,n);else if(e.tag===19)Eg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&bu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),vf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&bu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}vf(n,!0,s,null,f,l);break;case"together":vf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function _f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function uT(e,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),Es(n,Tt,e.memoizedState.cache),Sr();break;case 27:case 5:nr(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?_g(e,n,s):(As(n),e=zi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ga(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Tg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(mt,mt.current),l)break;return null;case 22:return n.lanes=0,dg(e,n,s,n.pendingProps);case 24:Es(n,Tt,e.memoizedState.cache)}return zi(e,n,s)}function Sg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)bt=!0;else{if(!_f(e,s)&&(n.flags&128)===0)return bt=!1,uT(e,n,s);bt=(e.flags&131072)!==0}else bt=!1,Me&&(n.flags&1048576)!==0&&ep(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")bh(e)?(l=Nr(e,l),n.tag=1,n=yg(null,n,e,l,s)):(n.tag=0,n=ff(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===we){n.tag=11,n=cg(null,n,e,l,s);break e}else if(c===I){n.tag=14,n=hg(null,n,e,l,s);break e}}throw n=ge(e)||e,Error(a(306,n,""))}}return n;case 0:return ff(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Nr(l,n.pendingProps),yg(e,n,l,c,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Lh(e,n),jl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Es(n,Tt,l),l!==f.cache&&Oh(n,[Tt],s,!0),Vl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vg(e,n,l,s);break e}else if(l!==c){c=Cn(Error(a(424)),n),Il(c),n=vg(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=On(e.firstChild),Lt=n,Me=!0,vs=null,Nn=!0,s=dp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sr(),l===c){n=zi(e,n,s);break e}zt(e,n,l,s)}n=n.child}return n;case 26:return ku(e,n),e===null?(s=My(n.type,null,n.pendingProps,null))?n.memoizedState=s:Me||(s=n.type,e=n.pendingProps,l=Zu(Se.current).createElement(s),l[vt]=n,l[Nt]=e,Bt(l,s,e),_t(l),n.stateNode=l):n.memoizedState=My(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nr(n),e===null&&Me&&(l=n.stateNode=Ny(n.type,n.pendingProps,Se.current),Lt=n,Nn=!0,c=tt,Ms(n.type)?(Jf=c,tt=On(l.firstChild)):tt=c),zt(e,n,n.pendingProps.children,s),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Me&&((c=l=tt)&&(l=PT(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,Lt=n,tt=On(l.firstChild),Nn=!1,c=!0):c=!1),c||_s(n)),nr(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,Yf(c,f)?l=null:p!==null&&Yf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Fh(e,n,eT,null,null,s),no._currentValue=c),ku(e,n),zt(e,n,l,s),n.child;case 6:return e===null&&Me&&((e=s=tt)&&(s=zT(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,Lt=n,tt=null,e=!0):e=!1),e||_s(n)),null;case 13:return _g(e,n,s);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Rr(n,null,l,s):zt(e,n,l,s),n.child;case 11:return cg(e,n,n.type,n.pendingProps,s);case 7:return zt(e,n,n.pendingProps,s),n.child;case 8:return zt(e,n,n.pendingProps.children,s),n.child;case 12:return zt(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Es(n,n.type,l.value),zt(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ar(n),c=Pt(c),l=l(c),n.flags|=1,zt(e,n,l,s),n.child;case 14:return hg(e,n,n.type,n.pendingProps,s);case 15:return fg(e,n,n.type,n.pendingProps,s);case 19:return Tg(e,n,s);case 31:return oT(e,n,s);case 22:return dg(e,n,s,n.pendingProps);case 24:return Ar(n),l=Pt(Tt),e===null?(c=Vh(),c===null&&(c=We,f=Mh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Uh(n),Es(n,Tt,c)):((e.lanes&s)!==0&&(Lh(e,n),jl(n,null,null,s),Vl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Es(n,Tt,l)):(l=f.cache,Es(n,Tt,l),l!==c.cache&&Oh(n,[Tt],s,!0))),zt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Ef(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Xg())e.flags|=8192;else throw Cr=_u,jh}else e.flags&=-16777217}function bg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ly(n))if(Xg())e.flags|=8192;else throw Cr=_u,jh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?qo():536870912,e.lanes|=n,Ra|=n)}function ql(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function cT(e,n,s){var l=n.pendingProps;switch(Ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Tt),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ih())),nt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(nt(n),bg(n,f)):(nt(n),Ef(n,c,null,l,s))):f?f!==e.memoizedState?(Bi(n),nt(n),bg(n,f)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Bi(n),nt(n),Ef(n,c,e,l,s)),null;case 27:if(Yr(n),s=Se.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}e=ae.current,pa(n)?np(n):(e=Ny(c,l,s),n.stateNode=e,Bi(n))}return nt(n),null;case 5:if(Yr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(f=ae.current,pa(n))np(n);else{var p=Zu(Se.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[vt]=n,f[Nt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Bt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bi(n)}}return nt(n),Ef(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Se.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=Lt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[vt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||_y(e.nodeValue,s)),e||_s(n,!0)}else e=Zu(e).createTextNode(l),e[vt]=n,n.stateNode=e}return nt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=pa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else s=Ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return nt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=pa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[vt]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),c=!1}else c=Ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ju(n,n.updateQueue),nt(n),null);case 4:return it(),e===null&&qf(n.stateNode.containerInfo),nt(n),null;case 10:return Ui(n.type),nt(n),null;case 19:if(X(mt),l=n.memoizedState,l===null)return nt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ql(l,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bu(e),f!==null){for(n.flags|=128,ql(l,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Zm(s,e),s=s.sibling;return ie(mt,mt.current&1|2),Me&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Wt()>Bu&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304)}else{if(!c)if(e=bu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Me)return nt(n),null}else 2*Wt()-l.renderingStartTime>Bu&&s!==536870912&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Wt(),e.sibling=null,s=mt.current,ie(mt,c?s&1|2:s&1),Me&&Vi(n,l.treeForkCount),e):(nt(n),null);case 22:case 23:return yn(n),qh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&X(wr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Tt),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function hT(e,n){switch(Ch(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Tt),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(mt),null;case 4:return it(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),qh(),e!==null&&X(wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Tt),null;case 25:return null;default:return null}}function Ag(e,n){switch(Ch(n),n.tag){case 3:Ui(Tt),it();break;case 26:case 27:case 5:Yr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(mt);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),qh(),e!==null&&X(wr);break;case 24:Ui(Tt)}}function Hl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==c)}}catch(T){Ye(n,n.return,T)}}function xs(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,c=n;var N=s,P=T;try{P()}catch(F){Ye(c,N,F)}}}l=l.next}while(l!==f)}}catch(F){Ye(n,n.return,F)}}function wg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{pp(n,s)}catch(l){Ye(e,e.return,l)}}}function xg(e,n,s){s.props=Nr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ye(e,n,l)}}function Gl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Ye(e,n,c)}}function Ei(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ye(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ye(e,n,c)}else s.current=null}function Cg(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ye(e,e.return,c)}}function Tf(e,n,s){try{var l=e.stateNode;MT(l,e.type,s,n),l[Nt]=n}catch(c){Ye(e,e.return,c)}}function Rg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ms(e.type)||e.tag===4}function Sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ms(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Pn));else if(l!==4&&(l===27&&Ms(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(bf(e,n,s),e=e.sibling;e!==null;)bf(e,n,s),e=e.sibling}function Uu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ms(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function Ig(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Bt(n,l,s),n[vt]=e,n[Nt]=s}catch(f){Ye(e,e.return,f)}}var qi=!1,At=!1,Af=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function fT(e,n){if(e=e.containerInfo,Ff=sc,e=qm(e),gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,N=-1,P=0,F=0,K=e,B=null;t:for(;;){for(var H;K!==s||c!==0&&K.nodeType!==3||(T=p+c),K!==f||l!==0&&K.nodeType!==3||(N=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break t;if(B===s&&++P===c&&(T=p),B===f&&++F===l&&(N=p),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}s=T===-1||N===-1?null:{start:T,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qf={focusedElem:e,selectionRange:s},sc=!1,Ot=n;Ot!==null;)if(n=Ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ot=e;else for(;Ot!==null;){switch(n=Ot,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=Nr(s.type,c);e=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ye(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Xf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ot=e;break}Ot=n.return}}function Dg(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),l&4&&Hl(5,s);break;case 1:if(Gi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Ye(s,s.return,p)}else{var c=Nr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ye(s,s.return,p)}}l&64&&wg(s),l&512&&Gl(s,s.return);break;case 3:if(Gi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{pp(e,n)}catch(p){Ye(s,s.return,p)}}break;case 27:n===null&&l&4&&Ig(s);case 26:case 5:Gi(e,s),n===null&&l&4&&Cg(s),l&512&&Gl(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),l&4&&kg(e,s);break;case 13:Gi(e,s),l&4&&Vg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=TT.bind(null,s),BT(e,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||At,c=qi;var f=At;qi=l,(At=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=c,At=f}break;case 30:break;default:Gi(e,s)}}function Og(e){var n=e.alternate;n!==null&&(e.alternate=null,Og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,rn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)Mg(e,n,s),s=s.sibling}function Mg(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Vn,s)}catch{}switch(s.tag){case 26:At||Ei(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Ei(s,n);var l=rt,c=rn;Ms(s.type)&&(rt=s.stateNode,rn=!1),Hi(e,n,s),Wl(s.stateNode),rt=l,rn=c;break;case 5:At||Ei(s,n);case 6:if(l=rt,c=rn,rt=null,Hi(e,n,s),rt=l,rn=c,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(f){Ye(s,n,f)}else try{rt.removeChild(s.stateNode)}catch(f){Ye(s,n,f)}break;case 18:rt!==null&&(rn?(e=rt,wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):wy(rt,s.stateNode));break;case 4:l=rt,c=rn,rt=s.stateNode.containerInfo,rn=!0,Hi(e,n,s),rt=l,rn=c;break;case 0:case 11:case 14:case 15:xs(2,s,n),At||xs(4,s,n),Hi(e,n,s);break;case 1:At||(Ei(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&xg(s,n,l)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:At=(l=At)||s.memoizedState!==null,Hi(e,n,s),At=l;break;default:Hi(e,n,s)}}function kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){Ye(n,n.return,s)}}}function Vg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){Ye(n,n.return,s)}}function dT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ng),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ng),n;default:throw Error(a(435,e.tag))}}function Lu(e,n){var s=dT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=ST.bind(null,e,l);l.then(c,c)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Ms(T.type)){rt=T.stateNode,rn=!1;break e}break;case 5:rt=T.stateNode,rn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(rt===null)throw Error(a(160));Mg(f,p,c),rt=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jg(n,e),n=n.sibling}var Fn=null;function jg(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),ln(e),l&4&&(xs(3,e,e.return),Hl(3,e),xs(5,e,e.return));break;case 1:an(n,e),ln(e),l&512&&(At||s===null||Ei(s,s.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Fn;if(an(n,e),ln(e),l&512&&(At||s===null||Ei(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ai]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Bt(f,l,s),f[vt]=e,_t(f),l=f;break e;case"link":var p=jy("link","href",c).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=c.createElement(l),Bt(f,l,s),c.head.appendChild(f);break;case"meta":if(p=jy("meta","content",c).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=c.createElement(l),Bt(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[vt]=e,_t(f),l=f}e.stateNode=l}else Uy(c,e.type,e.stateNode);else e.stateNode=Vy(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Uy(c,e.type,e.stateNode):Vy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Tf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),ln(e),l&512&&(At||s===null||Ei(s,s.return)),s!==null&&l&4&&Tf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),ln(e),l&512&&(At||s===null||Ei(s,s.return)),e.flags&32){c=e.stateNode;try{sn(c,"")}catch(le){Ye(e,e.return,le)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Tf(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Af=!0);break;case 6:if(an(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(le){Ye(e,e.return,le)}}break;case 3:if(ec=null,c=Fn,Fn=Ju(n.containerInfo),an(n,e),Fn=c,ln(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(le){Ye(e,e.return,le)}Af&&(Af=!1,Ug(e));break;case 4:l=Fn,Fn=Ju(e.stateNode.containerInfo),an(n,e),ln(e),Fn=l;break;case 12:an(n,e),ln(e);break;case 31:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 13:an(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zu=Wt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 22:c=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,P=qi,F=At;if(qi=P||c,At=F||N,an(n,e),At=F,qi=P,ln(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||qi||At||Dr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=N.stateNode;var K=N.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Ye(N,N.return,le)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(le){Ye(N,N.return,le)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;c?xy(H,!0):xy(N.stateNode,!1)}catch(le){Ye(N,N.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lu(e,s))));break;case 19:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 30:break;case 21:break;default:an(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Rg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Sf(e);Uu(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var T=Sf(e);Uu(e,T,p);break;case 3:case 4:var N=s.stateNode.containerInfo,P=Sf(e);bf(e,P,N);break;default:throw Error(a(161))}}catch(F){Ye(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dg(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),Dr(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&xg(n,n.return,s),Dr(n);break;case 27:Wl(n.stateNode);case 26:case 5:Ei(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,s),Hl(4,f);break;case 1:if(Fi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)mp(N[c],T)}catch(P){Ye(l,l.return,P)}}s&&p&64&&wg(f),Gl(f,f.return);break;case 27:Ig(f);case 26:case 5:Fi(c,f,s),s&&l===null&&p&4&&Cg(f),Gl(f,f.return);break;case 12:Fi(c,f,s);break;case 31:Fi(c,f,s),s&&p&4&&kg(c,f);break;case 13:Fi(c,f,s),s&&p&4&&Vg(c,f);break;case 22:f.memoizedState===null&&Fi(c,f,s),Gl(f,f.return);break;case 30:break;default:Fi(c,f,s)}n=n.sibling}}function wf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function Qn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(e,n,s,l),n=n.sibling}function Lg(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,l),c&2048&&Hl(9,n);break;case 1:Qn(e,n,s,l);break;case 3:Qn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(c&2048){Qn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ye(n,n.return,N)}}else Qn(e,n,s,l);break;case 31:Qn(e,n,s,l);break;case 13:Qn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,l):Fl(e,n):f._visibility&2?Qn(e,n,s,l):(f._visibility|=2,wa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&wf(p,n);break;case 24:Qn(e,n,s,l),c&2048&&xf(n.alternate,n);break;default:Qn(e,n,s,l)}}function wa(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=s,N=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,T,N,c),Hl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?wa(f,p,T,N,c):Fl(f,p):(F._visibility|=2,wa(f,p,T,N,c)),c&&P&2048&&wf(p.alternate,p);break;case 24:wa(f,p,T,N,c),c&&P&2048&&xf(p.alternate,p);break;default:wa(f,p,T,N,c)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Fl(s,l),c&2048&&wf(l.alternate,l);break;case 24:Fl(s,l),c&2048&&xf(l.alternate,l);break;default:Fl(s,l)}n=n.sibling}}var Ql=8192;function xa(e,n,s){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)Pg(e,n,s),e=e.sibling}function Pg(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&Ql&&e.memoizedState!==null&&WT(s,Fn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=Fn;Fn=Ju(e.stateNode.containerInfo),xa(e,n,s),Fn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,xa(e,n,s),Ql=l):xa(e,n,s));break;default:xa(e,n,s)}}function zg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,qg(l,e)}zg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bg(e),e=e.sibling}function Bg(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pu(e)):Yl(e);break;default:Yl(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,qg(l,e)}zg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),Pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(n));break;default:Pu(n)}e=e.sibling}}function qg(e,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ot=l;else e:for(s=e;Ot!==null;){l=Ot;var c=l.sibling,f=l.return;if(Og(l),l===s){Ot=null;break e}if(c!==null){c.return=f,Ot=c;break e}Ot=f}}}var mT={getCacheForType:function(e){var n=Pt(Tt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pt(Tt).controller.signal}},pT=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Ce=null,Ne=0,Qe=0,vn=null,Cs=!1,Ca=!1,Cf=!1,Qi=0,ct=0,Rs=0,Or=0,Rf=0,_n=0,Ra=0,Kl=null,on=null,If=!1,zu=0,Hg=0,Bu=1/0,qu=null,Is=null,It=0,Ns=null,Ia=null,Yi=0,Nf=0,Df=null,Gg=null,Xl=0,Of=null;function En(){return(Be&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?Lf():Ho()}function Fg(){if(_n===0)if((Ne&536870912)===0||Me){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===We&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ds(e,Ne,_n,!1)),ar(e,s),((Be&2)===0||e!==We)&&(e===We&&((Be&2)===0&&(Or|=s),ct===4&&Ds(e,Ne,_n,!1)),Ti(e))}function Qg(e,n,s){if((Be&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),c=l?vT(e,n):kf(e,n,!0),f=l;do{if(c===0){Ca&&!l&&Ds(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!gT(s)){c=kf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=e;c=Kl;var N=T.current.memoizedState.isDehydrated;if(N&&(Na(T,p).flags|=256),p=kf(T,p,!1),p!==2){if(Cf&&!N){T.errorRecoveryDisabledLanes|=f,Or|=f,c=4;break e}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Na(e,0),Ds(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(l,n,_n,!Cs);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zu+300-Wt(),10<c)){if(Ds(l,n,_n,!Cs),ii(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=by(Yg.bind(null,l,s,on,qu,If,n,_n,Or,Ra,Cs,f,"Throttled",-0,0),c);break e}Yg(l,s,on,qu,If,n,_n,Or,Ra,Cs,f,null,-0,0)}}break}while(!0);Ti(e)}function Yg(e,n,s,l,c,f,p,T,N,P,F,K,B,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Pg(n,f,K);var le=(f&62914560)===f?zu-Wt():(f&4194048)===f?Hg-Wt():0;if(le=eS(K,le),le!==null){Yi=f,e.cancelPendingCommit=le(ty.bind(null,e,n,f,s,l,c,p,T,N,F,K,null,B,H)),Ds(e,f,p,!P);return}}ty(e,n,f,s,l,c,p,T,N)}function gT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,s,l){n&=~Rf,n&=~Or,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-ft(c),p=1<<f;l[f]=-1,c&=~p}s!==0&&lr(e,s,n)}function Hu(){return(Be&6)===0?($l(0),!1):!0}function Mf(){if(Ce!==null){if(Qe===0)var e=Ce.return;else e=Ce,ji=br=null,Kh(e),Ea=null,Ol=0,e=Ce;for(;e!==null;)Ag(e.alternate,e),e=e.return;Ce=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,jT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Mf(),We=e,Ce=s=ki(e.current,null),Ne=n,Qe=0,vn=null,Cs=!1,Ca=jn(e,n),Cf=!1,Ra=_n=Rf=Or=Rs=ct=0,on=Kl=null,If=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-ft(l),f=1<<c;n|=e[c],l&=~f}return Qi=n,cu(),s}function Kg(e,n){Te=null,G.H=zl,n===_a||n===vu?(n=cp(),Qe=3):n===jh?(n=cp(),Qe=4):Qe=n===hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ce===null&&(ct=1,Ou(e,Cn(n,e.current)))}function Xg(){var e=gn.current;return e===null?!0:(Ne&4194048)===Ne?Dn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Dn:!1}function $g(){var e=G.H;return G.H=zl,e===null?zl:e}function Zg(){var e=G.A;return G.A=mT,e}function Gu(){ct=4,Cs||(Ne&4194048)!==Ne&&gn.current!==null||(Ca=!0),(Rs&134217727)===0&&(Or&134217727)===0||We===null||Ds(We,Ne,_n,!1)}function kf(e,n,s){var l=Be;Be|=2;var c=$g(),f=Zg();(We!==e||Ne!==n)&&(qu=null,Na(e,n)),n=!1;var p=ct;e:do try{if(Qe!==0&&Ce!==null){var T=Ce,N=vn;switch(Qe){case 8:Mf(),p=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Qe;if(Qe=0,vn=null,Da(e,T,N,P),s&&Ca){p=0;break e}break;default:P=Qe,Qe=0,vn=null,Da(e,T,N,P)}}yT(),p=ct;break}catch(F){Kg(e,F)}while(!0);return n&&e.shellSuspendCounter++,ji=br=null,Be=l,G.H=c,G.A=f,Ce===null&&(We=null,Ne=0,cu()),p}function yT(){for(;Ce!==null;)Jg(Ce)}function vT(e,n){var s=Be;Be|=2;var l=$g(),c=Zg();We!==e||Ne!==n?(qu=null,Bu=Wt()+500,Na(e,n)):Ca=jn(e,n);e:do try{if(Qe!==0&&Ce!==null){n=Ce;var f=vn;t:switch(Qe){case 1:Qe=0,vn=null,Da(e,n,f,1);break;case 2:case 9:if(op(f)){Qe=0,vn=null,Wg(n);break}n=function(){Qe!==2&&Qe!==9||We!==e||(Qe=7),Ti(e)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:op(f)?(Qe=0,vn=null,Wg(n)):(Qe=0,vn=null,Da(e,n,f,7));break;case 5:var p=null;switch(Ce.tag){case 26:p=Ce.memoizedState;case 5:case 27:var T=Ce;if(p?Ly(p):T.stateNode.complete){Qe=0,vn=null;var N=T.sibling;if(N!==null)Ce=N;else{var P=T.return;P!==null?(Ce=P,Fu(P)):Ce=null}break t}}Qe=0,vn=null,Da(e,n,f,5);break;case 6:Qe=0,vn=null,Da(e,n,f,6);break;case 8:Mf(),ct=6;break e;default:throw Error(a(462))}}_T();break}catch(F){Kg(e,F)}while(!0);return ji=br=null,G.H=l,G.A=c,Be=s,Ce!==null?0:(We=null,Ne=0,cu(),ct)}function _T(){for(;Ce!==null&&!uh();)Jg(Ce)}function Jg(e){var n=Sg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?Fu(e):Ce=n}function Wg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=gg(s,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=gg(s,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Kh(n);default:Ag(s,n),n=Ce=Zm(n,Qi),n=Sg(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?Fu(e):Ce=n}function Da(e,n,s,l){ji=br=null,Kh(n),Ea=null,Ol=0;var c=n.return;try{if(lT(e,c,n,s,Ne)){ct=1,Ou(e,Cn(s,e.current)),Ce=null;return}}catch(f){if(c!==null)throw Ce=c,f;ct=1,Ou(e,Cn(s,e.current)),Ce=null;return}n.flags&32768?(Me||l===1?e=!0:Ca||(Ne&536870912)!==0?e=!1:(Cs=e=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(n,e)):Fu(n)}function Fu(e){var n=e;do{if((n.flags&32768)!==0){ey(n,Cs);return}e=n.return;var s=cT(n.alternate,n,Qi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);ct===0&&(ct=5)}function ey(e,n){do{var s=hT(e.alternate,e);if(s!==null){s.flags&=32767,Ce=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=s}while(e!==null);ct=6,Ce=null}function ty(e,n,s,l,c,f,p,T,N){e.cancelPendingCommit=null;do Qu();while(It!==0);if((Be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Th,fh(e,s,f,p,T,N),e===We&&(Ce=We=null,Ne=0),Ia=n,Ns=e,Yi=s,Nf=f,Df=c,Gg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bT(ls,function(){return ay(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=ne.p,ne.p=2,p=Be,Be|=4;try{fT(e,n,s)}finally{Be=p,ne.p=c,G.T=l}}It=1,ny(),iy(),sy()}}function ny(){if(It===1){It=0;var e=Ns,n=Ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var c=Be;Be|=4;try{jg(n,e);var f=Qf,p=qm(e.containerInfo),T=f.focusedElem,N=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Bm(T.ownerDocument.documentElement,T)){if(N!==null&&gh(T)){var P=N.start,F=N.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=T.textContent.length,me=Math.min(N.start,le),Ze=N.end===void 0?me:Math.min(N.end,le);!H.extend&&me>Ze&&(p=Ze,Ze=me,me=p);var j=zm(T,me),M=zm(T,Ze);if(j&&M&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=K.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),me>Ze?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}sc=!!Ff,Qf=Ff=null}finally{Be=c,ne.p=l,G.T=s}}e.current=n,It=2}}function iy(){if(It===2){It=0;var e=Ns,n=Ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var c=Be;Be|=4;try{Dg(e,n.alternate,n)}finally{Be=c,ne.p=l,G.T=s}}It=3}}function sy(){if(It===4||It===3){It=0,jo();var e=Ns,n=Ia,s=Yi,l=Gg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,Ia=Ns=null,ry(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Is=null),Ni(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=ne.p,ne.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ne.p=c}}(Yi&3)!==0&&Qu(),Ti(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Of?Xl++:(Xl=0,Of=e):Xl=0,$l(0)}}function ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function Qu(){return ny(),iy(),sy(),ay()}function ay(){if(It!==5)return!1;var e=Ns,n=Nf;Nf=0;var s=Ni(Yi),l=G.T,c=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Df,Df=null;var f=Ns,p=Yi;if(It=0,Ia=Ns=null,Yi=0,(Be&6)!==0)throw Error(a(331));var T=Be;if(Be|=4,Bg(f.current),Lg(f,f.current,p,s),Be=T,$l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Vn,f)}catch{}return!0}finally{ne.p=c,G.T=l,ry(e,n)}}function ly(e,n,s){n=Cn(s,n),n=cf(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(ar(e,2),Ti(e))}function Ye(e,n,s){if(e.tag===3)ly(e,e,s);else for(;n!==null;){if(n.tag===3){ly(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Cn(s,e),s=og(2),l=bs(n,s,2),l!==null&&(ug(s,l,n,e),ar(l,2),Ti(l));break}}n=n.return}}function Vf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new pT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Cf=!0,c.add(s),e=ET.bind(null,e,n,s),n.then(e,e))}function ET(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,We===e&&(Ne&s)===s&&(ct===4||ct===3&&(Ne&62914560)===Ne&&300>Wt()-zu?(Be&2)===0&&Na(e,0):Rf|=s,Ra===Ne&&(Ra=0)),Ti(e)}function oy(e,n){n===0&&(n=qo()),e=Er(e,n),e!==null&&(ar(e,n),Ti(e))}function TT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),oy(e,s)}function ST(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),oy(e,s)}function bT(e,n){return Rt(e,n)}var Yu=null,Oa=null,jf=!1,Ku=!1,Uf=!1,Os=0;function Ti(e){e!==Oa&&e.next===null&&(Oa===null?Yu=Oa=e:Oa=Oa.next=e),Ku=!0,jf||(jf=!0,wT())}function $l(e,n){if(!Uf&&Ku){Uf=!0;do for(var s=!1,l=Yu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ft(42|e)+1)-1,f&=c&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,fy(l,f))}else f=Ne,f=ii(l,l===We?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,fy(l,f));l=l.next}while(s);Uf=!1}}function AT(){uy()}function uy(){Ku=jf=!1;var e=0;Os!==0&&VT()&&(e=Os);for(var n=Wt(),s=null,l=Yu;l!==null;){var c=l.next,f=cy(l,n);f===0?(l.next=null,s===null?Yu=c:s.next=c,c===null&&(Oa=s)):(s=l,(e!==0||(f&3)!==0)&&(Ku=!0)),l=c}It!==0&&It!==5||$l(e),Os!==0&&(Os=0)}function cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ft(f),T=1<<p,N=c[p];N===-1?((T&s)===0||(T&l)!==0)&&(c[p]=hh(T,n)):N<=n&&(e.expiredLanes|=T),f&=~T}if(n=We,s=Ne,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&as(l),Ni(s)){case 2:case 8:s=al;break;case 32:s=ls;break;case 268435456:s=Uo;break;default:s=ls}return l=hy.bind(null,e),s=Rt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&as(l),e.callbackPriority=2,e.callbackNode=null,2}function hy(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Qu()&&e.callbackNode!==s)return null;var l=Ne;return l=ii(e,e===We?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Qg(e,l,n),cy(e,Wt()),e.callbackNode!=null&&e.callbackNode===s?hy.bind(null,e):null)}function fy(e,n){if(Qu())return null;Qg(e,n,!0)}function wT(){UT(function(){(Be&6)!==0?Rt(rl,AT):uy()})}function Lf(){if(Os===0){var e=ya;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Os=e}return Os}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function my(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function xT(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=dy((c[Nt]||null).action),p=l.submitter;p&&(n=(n=p[Nt]||null)?dy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new mi("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var N=p?my(c,p):new FormData(c);sf(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=p?my(c,p):new FormData(c),sf(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Pf=0;Pf<Eh.length;Pf++){var zf=Eh[Pf],CT=zf.toLowerCase(),RT=zf[0].toUpperCase()+zf.slice(1);Gn(CT,"on"+RT)}Gn(Fm,"onAnimationEnd"),Gn(Qm,"onAnimationIteration"),Gn(Ym,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(GE,"onTransitionRun"),Gn(FE,"onTransitionStart"),Gn(QE,"onTransitionCancel"),Gn(Km,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function py(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],N=T.instance,P=T.currentTarget;if(T=T.listener,N!==f&&c.isPropagationStopped())break e;f=T,c.currentTarget=P;try{f(c)}catch(F){uu(F)}c.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(T=l[p],N=T.instance,P=T.currentTarget,T=T.listener,N!==f&&c.isPropagationStopped())break e;f=T,c.currentTarget=P;try{f(c)}catch(F){uu(F)}c.currentTarget=null,f=N}}}}function Re(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||(gy(n,e,2,!1),s.add(l))}function Bf(e,n,s){var l=0;n&&(l|=4),gy(s,e,l,n)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[Xu]){e[Xu]=!0,ul.forEach(function(s){s!=="selectionchange"&&(IT.has(s)||Bf(s,!1,e),Bf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xu]||(n[Xu]=!0,Bf("selectionchange",!1,n))}}function gy(e,n,s,l){switch(Fy(n)){case 2:var c=iS;break;case 8:c=sS;break;default:c=id}s=c.bind(null,n,s,e),c=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Hf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===c)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;T!==null;){if(p=li(T),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}T=T.parentNode}}l=l.return}ds(function(){var P=f,F=bn(s),K=[];e:{var B=Xm.get(e);if(B!==void 0){var H=mi,le=e;switch(e){case"keypress":if(mr(s)===0)break e;case"keydown":case"keyup":H=au;break;case"focusin":le="focus",H=gr;break;case"focusout":le="blur",H=gr;break;case"beforeblur":case"afterblur":H=gr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fm:case Qm:case Ym:H=Wo;break;case Km:H=S;break;case"scroll":case"scrollend":H=Tl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=Ee}var me=(n&4)!==0,Ze=!me&&(e==="scroll"||e==="scrollend"),j=me?B!==null?B+"Capture":null:B;me=[];for(var M=P,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||j===null||(Y=zn(M,j),Y!=null&&me.push(Jl(M,Y,L))),Ze)break;M=M.return}0<me.length&&(B=new H(B,le,null,s,F),K.push({event:B,listeners:me}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==vl&&(le=s.relatedTarget||s.fromElement)&&(li(le)||le[ri]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=s.relatedTarget||s.toElement,H=P,le=le?li(le):null,le!==null&&(Ze=h(le),me=le.tag,le!==Ze||me!==5&&me!==27&&me!==6)&&(le=null)):(H=null,le=P),H!==le)){if(me=Sl,Y="onMouseLeave",j="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(me=Mi,Y="onPointerLeave",j="onPointerEnter",M="pointer"),Ze=H==null?B:fn(H),L=le==null?B:fn(le),B=new me(Y,M+"leave",H,s,F),B.target=Ze,B.relatedTarget=L,Y=null,li(F)===P&&(me=new me(j,M+"enter",le,s,F),me.target=L,me.relatedTarget=Ze,Y=me),Ze=Y,H&&le)t:{for(me=NT,j=H,M=le,L=0,Y=j;Y;Y=me(Y))L++;Y=0;for(var ce=M;ce;ce=me(ce))Y++;for(;0<L-Y;)j=me(j),L--;for(;0<Y-L;)M=me(M),Y--;for(;L--;){if(j===M||M!==null&&j===M.alternate){me=j;break t}j=me(j),M=me(M)}me=null}else me=null;H!==null&&yy(K,B,H,me,!1),le!==null&&Ze!==null&&yy(K,Ze,le,me,!0)}}e:{if(B=P?fn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Le=km;else if(Om(B))if(Vm)Le=BE;else{Le=PE;var oe=LE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ta(P.elementType)&&(Le=km):Le=zE;if(Le&&(Le=Le(e,P))){Mm(K,Le,s,F);break e}oe&&oe(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&pl(B,"number",B.value)}switch(oe=P?fn(P):window,e){case"focusin":(Om(oe)||oe.contentEditable==="true")&&(ua=oe,yh=P,Cl=null);break;case"focusout":Cl=yh=ua=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Hm(K,s,F);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":Hm(K,s,F)}var be;if(ze)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else oa?yr(e,s)&&(De="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(yi&&s.locale!=="ko"&&(oa||De!=="onCompositionStart"?De==="onCompositionEnd"&&oa&&(be=El()):(di=F,_l="value"in di?di.value:di.textContent,oa=!0)),oe=$u(P,De),0<oe.length&&(De=new gi(De,e,null,s,F),K.push({event:De,listeners:oe}),be?De.data=be:(be=la(s),be!==null&&(De.data=be)))),(be=wn?kE(e,s):VE(e,s))&&(De=$u(P,"onBeforeInput"),0<De.length&&(oe=new gi("onBeforeInput","beforeinput",null,s,F),K.push({event:oe,listeners:De}),oe.data=be)),xT(K,e,P,s,F)}py(K,n)})}function Jl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function $u(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,s),c!=null&&l.unshift(Jl(e,c,f)),c=zn(e,n),c!=null&&l.push(Jl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function NT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yy(e,n,s,l,c){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,N=T.alternate,P=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||P===null||(N=P,c?(P=zn(s,f),P!=null&&p.unshift(Jl(s,P,N))):c||(P=zn(s,f),P!=null&&p.push(Jl(s,P,N)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var DT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function vy(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(OT,"")}function _y(e,n){return n=vy(n),vy(e)===n}function $e(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,l);break;case"style":yl(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$e(e,n,"name",c.name,c,null),$e(e,n,"formEncType",c.formEncType,c,null),$e(e,n,"formMethod",c.formMethod,c,null),$e(e,n,"formTarget",c.formTarget,c,null)):($e(e,n,"encType",c.encType,c,null),$e(e,n,"method",c.method,c,null),$e(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$o.get(s)||s,Wr(e,s,l))}}function Gf(e,n,s,l,c,f){switch(s){case"style":yl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Nt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Wr(e,s,l)}}}function Bt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,f,p,s,null)}}c&&$e(e,n,"srcSet",s.srcSet,s,null),l&&$e(e,n,"src",s.src,s,null);return;case"input":Re("invalid",e);var T=f=p=c=null,N=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:$e(e,n,l,F,s,null)}}Yo(e,f,T,N,P,p,c,!1);return;case"select":Re("invalid",e),l=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:$e(e,n,c,T,s,null)}n=f,s=p,e.multiple=!!l,n!=null?us(e,!!l,n,!1):s!=null&&us(e,!!l,s,!0);return;case"textarea":Re("invalid",e),f=c=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:$e(e,n,p,T,s,null)}cs(e,l,c,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,n,N,l,s,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Re(Zl[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,P,l,s,null)}return;default:if(ta(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Gf(e,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&$e(e,n,T,l,s,null))}function MT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,T=null,N=null,P=null,F=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(H)||$e(e,n,H,null,l,K)}}for(var B in l){var H=l[B];if(K=s[B],l.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&$e(e,n,B,H,l,K)}}ea(e,p,T,N,P,F,f,c);return;case"select":H=p=T=B=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||$e(e,n,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==N&&$e(e,n,c,f,l,N)}n=T,s=p,l=H,B!=null?us(e,!!s,B,!1):!!l!=!!s&&(n!=null?us(e,!!s,n,!0):us(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(e,n,T,null,l,c)}for(p in l)if(c=l[p],f=s[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&$e(e,n,p,c,l,f)}Ko(e,B,H);return;case"option":for(var le in s)if(B=s[le],s.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:$e(e,n,le,null,l,B)}for(N in l)if(B=l[N],H=s[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$e(e,n,N,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)B=s[me],s.hasOwnProperty(me)&&B!=null&&!l.hasOwnProperty(me)&&$e(e,n,me,null,l,B);for(P in l)if(B=l[P],H=s[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$e(e,n,P,B,l,H)}return;default:if(ta(n)){for(var Ze in s)B=s[Ze],s.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Gf(e,n,Ze,void 0,l,B);for(F in l)B=l[F],H=s[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Gf(e,n,F,B,l,H);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&$e(e,n,j,null,l,B);for(K in l)B=l[K],H=s[K],!l.hasOwnProperty(K)||B===H||B==null&&H==null||$e(e,n,K,B,l,H)}function Ey(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,p=c.initiatorType,T=c.duration;if(f&&T&&Ey(p)){for(p=0,T=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],P=N.startTime;if(P>T)break;var F=N.transferSize,K=N.initiatorType;F&&Ey(K)&&(N=N.responseEnd,p+=F*(N<T?1:(T-P)/(N-P)))}if(--l,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ff=null,Qf=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function Ty(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function VT(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(e){return Ay.resolve(null).then(e).catch(LT)}:by;function LT(e){setTimeout(function(){throw e})}function Ms(e){return e==="head"}function wy(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),ja(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Wl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Wl(e.ownerDocument.body);s=c}while(s);ja(n)}function xy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Xf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xf(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function PT(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function zT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function Cy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function $f(e){return e.data==="$?"||e.data==="$~"}function Zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Jf=null;function Ry(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Iy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ny(e,n,s){switch(n=Zu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,Dy=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=ne.d;ne.d={f:qT,r:HT,D:GT,C:FT,L:QT,m:YT,X:XT,S:KT,M:$T};function qT(){var e=Ki.f(),n=Hu();return e||n}function HT(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function Oy(e,n,s){var l=Ma;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Dy.has(c)||(Dy.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Bt(n,"link",e),_t(n),l.head.appendChild(n)))}}function GT(e){Ki.D(e),Oy("dns-prefetch",e,null)}function FT(e,n){Ki.C(e,n),Oy("preconnect",e,n)}function QT(e,n,s){Ki.L(e,n,s);var l=Ma;if(l&&e&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+nn(s.imageSizes)+'"]')):c+='[href="'+nn(e)+'"]';var f=c;switch(n){case"style":f=ka(e);break;case"script":f=Va(e)}Mn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(eo(f))||n==="script"&&l.querySelector(to(f))||(n=l.createElement("link"),Bt(n,"link",e),_t(n),l.head.appendChild(n)))}}function YT(e,n){Ki.m(e,n);var s=Ma;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Mn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(to(f)))return}l=s.createElement("link"),Bt(l,"link",e),_t(l),s.head.appendChild(l)}}}function KT(e,n,s){Ki.S(e,n,s);var l=Ma;if(l&&e){var c=oi(l).hoistableStyles,f=ka(e);n=n||"default";var p=c.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(eo(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&Wf(e,s);var N=p=l.createElement("link");_t(N),Bt(N,"link",e),N._p=new Promise(function(P,F){N.onload=P,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},c.set(f,p)}}}function XT(e,n){Ki.X(e,n);var s=Ma;if(s&&e){var l=oi(s).hoistableScripts,c=Va(e),f=l.get(c);f||(f=s.querySelector(to(c)),f||(e=w({src:e,async:!0},n),(n=Mn.get(c))&&ed(e,n),f=s.createElement("script"),_t(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $T(e,n){Ki.M(e,n);var s=Ma;if(s&&e){var l=oi(s).hoistableScripts,c=Va(e),f=l.get(c);f||(f=s.querySelector(to(c)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Mn.get(c))&&ed(e,n),f=s.createElement("script"),_t(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function My(e,n,s,l){var c=(c=Se.current)?Ju(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=oi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=oi(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(eo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||ZT(c,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=oi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function ky(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ZT(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Bt(n,"link",s),_t(n),e.head.appendChild(n))}function Va(e){return'[src="'+nn(e)+'"]'}function to(e){return"script[async]"+e}function Vy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,_t(l),l;var c=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_t(l),Bt(l,"style",c),Wu(l,s.precedence,e),n.instance=l;case"stylesheet":c=ka(s.href);var f=e.querySelector(eo(c));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;l=ky(s),(c=Mn.get(c))&&Wf(l,c),f=(e.ownerDocument||e).createElement("link"),_t(f);var p=f;return p._p=new Promise(function(T,N){p.onload=T,p.onerror=N}),Bt(f,"link",l),n.state.loading|=4,Wu(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(c=e.querySelector(to(f)))?(n.instance=c,_t(c),c):(l=s,(c=Mn.get(f))&&(l=w({},s),ed(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),_t(c),Bt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Wu(l,s.precedence,e));return n.instance}function Wu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ec=null;function jy(e,n,s){if(ec===null){var l=new Map,c=ec=new Map;c.set(s,l)}else c=ec,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ai]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function Uy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function JT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function WT(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ka(l.href),f=n.querySelector(eo(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=tc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_t(f);return}f=n.ownerDocument||n,l=ky(l),(c=Mn.get(c))&&Wf(l,c),f=f.createElement("link"),_t(f);var p=f;p._p=new Promise(function(T,N){p.onload=T,p.onerror=N}),Bt(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=tc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var td=0;function eS(e,n){return e.stylesheets&&e.count===0&&ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ic(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&td===0&&(td=62500*kT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ic(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,n.forEach(tS,e),nc=null,tc.call(e))}function tS(e,n){if(!(n.state.loading&4)){var s=nc.get(e);if(s)var l=s.get(null);else{s=new Map,nc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,c),s.set(p,c),this.count++,l=tc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var no={$$typeof:he,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function nS(e,n,s,l,c,f,p,T,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Py(e,n,s,l,c,f,p,T,N,P,F,K){return e=new nS(e,n,s,p,N,P,F,K,T),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Mh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Uh(f),e}function zy(e){return e?(e=fa,e):fa}function By(e,n,s,l,c,f){c=zy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ss(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=bs(e,l,n),s!==null&&(un(s,e,n),kl(s,e,n))}function qy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function nd(e,n){qy(e,n),(e=e.alternate)&&qy(e,n)}function Hy(e){if(e.tag===13||e.tag===31){var n=Er(e,67108864);n!==null&&un(n,e,67108864),nd(e,67108864)}}function Gy(e){if(e.tag===13||e.tag===31){var n=En();n=or(n);var s=Er(e,n);s!==null&&un(s,e,n),nd(e,n)}}var sc=!0;function iS(e,n,s,l){var c=G.T;G.T=null;var f=ne.p;try{ne.p=2,id(e,n,s,l)}finally{ne.p=f,G.T=c}}function sS(e,n,s,l){var c=G.T;G.T=null;var f=ne.p;try{ne.p=8,id(e,n,s,l)}finally{ne.p=f,G.T=c}}function id(e,n,s,l){if(sc){var c=sd(l);if(c===null)Hf(e,n,l,rc,s),Qy(e,l);else if(aS(c,e,n,s,l))l.stopPropagation();else if(Qy(e,l),n&4&&-1<rS.indexOf(e)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var N=1<<31-ft(p);T.entanglements[1]|=N,p&=~N}Ti(f),(Be&6)===0&&(Bu=Wt()+500,$l(0))}}break;case 31:case 13:T=Er(f,2),T!==null&&un(T,f,2),Hu(),nd(f,2)}if(f=sd(l),f===null&&Hf(e,n,l,rc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Hf(e,n,l,null,s)}}function sd(e){return e=bn(e),rd(e)}var rc=null;function rd(e){if(rc=null,e=li(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return rc=e,null}function Fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case rl:return 2;case al:return 8;case ls:case ch:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var ad=!1,ks=null,Vs=null,js=null,io=new Map,so=new Map,Us=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function ro(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&Hy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function aS(e,n,s,l,c){switch(n){case"focusin":return ks=ro(ks,e,n,s,l,c),!0;case"dragenter":return Vs=ro(Vs,e,n,s,l,c),!0;case"mouseover":return js=ro(js,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return io.set(f,ro(io.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,so.set(f,ro(so.get(f)||null,e,n,s,l,c)),!0}return!1}function Yy(e){var n=li(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Un(e.priority,function(){Gy(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Un(e.priority,function(){Gy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);vl=l,s.target.dispatchEvent(l),vl=null}else return n=Sn(s),n!==null&&Hy(n),e.blockedOn=s,!1;n.shift()}return!0}function Ky(e,n,s){ac(e)&&s.delete(n)}function lS(){ad=!1,ks!==null&&ac(ks)&&(ks=null),Vs!==null&&ac(Vs)&&(Vs=null),js!==null&&ac(js)&&(js=null),io.forEach(Ky),so.forEach(Ky)}function lc(e,n){e.blockedOn===n&&(e.blockedOn=null,ad||(ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var oc=null;function Xy(e){oc!==e&&(oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(rd(l||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,sf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function ja(e){function n(N){return lc(N,e)}ks!==null&&lc(ks,e),Vs!==null&&lc(Vs,e),js!==null&&lc(js,e),io.forEach(n),so.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)Yy(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],p=c[Nt]||null;if(typeof f=="function")p||Xy(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Nt]||null)T=p.formAction;else if(rd(c)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Xy(s)}}}function $y(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ld(e){this._internalRoot=e}uc.prototype.render=ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();By(s,l,e,n,null,null)},uc.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;By(e.current,2,null,e,null,null),Hu(),n[ri]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ho();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&Yy(e)}};var Zy=t.version;if(Zy!=="19.2.0")throw Error(a(527,Zy,"19.2.0"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var oS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Vn=cc.inject(oS),jt=cc}catch{}}return lo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",c=sg,f=rg,p=ag;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Py(e,1,!1,null,null,s,l,null,c,f,p,$y),e[ri]=n.current,qf(e),new ld(n)},lo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,c="",f=sg,p=rg,T=ag,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=Py(e,1,!0,n,s??null,l,c,N,f,p,T,$y),n.context=zy(null),s=n.current,l=En(),l=or(l),c=Ss(l),c.callback=null,bs(s,c,l),s=l,n.current.lanes=s,ar(n,s),Ti(n),e[ri]=n.current,qf(e),new uc(n)},lo.version="19.2.0",lo}var lv;function _S(){if(lv)return ud.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=vS(),ud.exports}var ES=_S(),Ue=Xd();const xd=cS(Ue),bi=[0,-2,-3,-5,-8,-10],TS=["TikTok","WhatsApp"],ts=1e3,Gs=10,SS="WTPSurveyDB",bS=1,$s="surveys",$d=()=>new Promise((r,t)=>{const i=indexedDB.open(SS,bS);i.onerror=()=>t(i.error),i.onsuccess=()=>r(i.result),i.onupgradeneeded=a=>{const o=a.target.result;if(!o.objectStoreNames.contains($s)){const h=o.createObjectStore($s,{keyPath:"id"});h.createIndex("participantId","surveyData.participantId",{unique:!1}),h.createIndex("synced","synced",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}}}),ov=async r=>{try{const i=(await $d()).transaction([$s],"readwrite"),a=i.objectStore($s),o=a.get(r.id);return new Promise((h,d)=>{o.onsuccess=()=>{const g=o.result;g&&g.synced&&!r.synced&&console.warn(`WARNING: Attempting to overwrite synced survey ${r.id}. This might indicate a bug with survey ID generation.`),a.put(r)},o.onerror=()=>d(o.error),i.oncomplete=()=>h(),i.onerror=()=>d(i.error)})}catch(t){throw console.error("IndexedDB save error:",t),t}},Mr=async()=>{try{const i=(await $d()).transaction([$s],"readonly").objectStore($s);return new Promise((a,o)=>{const h=i.getAll();h.onsuccess=()=>a(h.result),h.onerror=()=>o(h.error)})}catch(r){return console.error("IndexedDB get all error:",r),[]}},uv=async(r,t)=>{try{const a=(await $d()).transaction([$s],"readwrite"),o=a.objectStore($s),h=o.get(r);return new Promise((d,g)=>{h.onsuccess=()=>{const _=h.result;_&&(_.synced=t,_.syncedAt=t?new Date().toISOString():null,o.put(_))},a.oncomplete=()=>d(),a.onerror=()=>g(a.error)})}catch(i){throw console.error("IndexedDB update sync status error:",i),i}},AS=()=>{try{return"indexedDB"in window&&indexedDB!==null}catch{return!1}},Xi=async(r,t)=>{if(!AS())return console.warn("IndexedDB not available, using fallback"),t;try{return await r()}catch(i){return console.error("IndexedDB operation failed:",i),t}},wS=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},xS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];t[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,C=h>>2,w=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(V=64)),a.push(i[C],i[w],i[V],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(D_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||w==null)throw new CS;const V=h<<2|g>>4;if(a.push(V),v!==64){const Q=g<<4&240|v>>2;if(a.push(Q),w!==64){const ee=v<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(r){const t=D_(r);return O_.encodeByteArray(t,!0)},Rc=function(r){return RS(r).replace(/\./g,"")},M_=function(r){try{return O_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>IS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M_(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return wS()||NS()||DS()||OS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},k_=r=>Yc()?.emulatorHosts?.[r],MS=r=>{const t=k_(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},V_=()=>Yc()?.config,j_=r=>Yc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rc(JSON.stringify(i)),Rc(JSON.stringify(d)),""].join(".")}const co={};function jS(){const r={prod:[],emulator:[]};for(const t of Object.keys(co))co[t]?r.emulator.push(t):r.prod.push(t);return r}function US(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let hv=!1;function L_(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||co[r]===t||co[r]||hv)return;co[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=jS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{hv=!0,d()},V}function C(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=US(a),Q=i("text"),ee=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),Z=document.getElementById(re)||document.createElement("a"),W=i("preprendIcon"),se=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const he=V.element;g(he),C(Z,re);const we=v();_(se,W),he.append(se,ee,Z,we),document.body.appendChild(he)}h?(ee.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function PS(){const r=Yc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="FirebaseError";class rs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=YS,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?KS(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new rs(o,g,a)}}function KS(r,t){return r.replace(XS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const XS=/\{\$([^}]+)}/g;function $S(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Lr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=t[o];if(fv(h)&&fv(d)){if(!Lr(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZS(r,t){const i=new JS(r,t);return i.subscribe.bind(i)}class JS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");WS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=md),o.error===void 0&&(o.error=md),o.complete===void 0&&(o.complete=md);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(r){return r&&r._delegate?r._delegate:r}class Pr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new kS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nb(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&t(h,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tb(r){return r===kr?void 0:r}function nb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const sb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},rb=Oe.INFO,ab={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},lb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=ab[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zd{constructor(t){this.name=t,this._logLevel=rb,this._logHandler=lb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...t),this._logHandler(this,Oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...t),this._logHandler(this,Oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...t),this._logHandler(this,Oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...t),this._logHandler(this,Oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...t),this._logHandler(this,Oe.ERROR,...t)}}const ob=(r,t)=>t.some(i=>r instanceof i);let dv,mv;function ub(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cb(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,Cd=new WeakMap,z_=new WeakMap,pd=new WeakMap,Jd=new WeakMap;function hb(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Fs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&P_.set(i,r)}).catch(()=>{}),Jd.set(t,r),t}function fb(r){if(Cd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Cd.set(r,t)}let Rd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Cd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||z_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function db(r){Rd=r(Rd)}function mb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(gd(this),t,...i);return z_.set(a,t.sort?t.sort():[t]),Fs(a)}:cb().includes(r)?function(...t){return r.apply(gd(this),t),Fs(P_.get(this))}:function(...t){return Fs(r.apply(gd(this),t))}}function pb(r){return typeof r=="function"?mb(r):(r instanceof IDBTransaction&&fb(r),ob(r,ub())?new Proxy(r,Rd):r)}function Fs(r){if(r instanceof IDBRequest)return hb(r);if(pd.has(r))return pd.get(r);const t=pb(r);return t!==r&&(pd.set(r,t),Jd.set(t,r)),t}const gd=r=>Jd.get(r);function gb(r,t,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,t),g=Fs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Fs(d.result),_.oldVersion,_.newVersion,Fs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const yb=["get","getKey","getAll","getAllKeys","count"],vb=["put","add","delete","clear"],yd=new Map;function pv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=vb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||yb.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return yd.set(t,h),h}db(r=>({...r,get:(t,i,a)=>pv(t,i)||r.get(t,i,a),has:(t,i)=>!!pv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Eb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Eb(r){return r.getComponent()?.type==="VERSION"}const Id="@firebase/app",gv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Zd("@firebase/app"),Tb="@firebase/app-compat",Sb="@firebase/analytics-compat",bb="@firebase/analytics",Ab="@firebase/app-check-compat",wb="@firebase/app-check",xb="@firebase/auth",Cb="@firebase/auth-compat",Rb="@firebase/database",Ib="@firebase/data-connect",Nb="@firebase/database-compat",Db="@firebase/functions",Ob="@firebase/functions-compat",Mb="@firebase/installations",kb="@firebase/installations-compat",Vb="@firebase/messaging",jb="@firebase/messaging-compat",Ub="@firebase/performance",Lb="@firebase/performance-compat",Pb="@firebase/remote-config",zb="@firebase/remote-config-compat",Bb="@firebase/storage",qb="@firebase/storage-compat",Hb="@firebase/firestore",Gb="@firebase/ai",Fb="@firebase/firestore-compat",Qb="firebase",Yb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",Kb={[Id]:"fire-core",[Tb]:"fire-core-compat",[bb]:"fire-analytics",[Sb]:"fire-analytics-compat",[wb]:"fire-app-check",[Ab]:"fire-app-check-compat",[xb]:"fire-auth",[Cb]:"fire-auth-compat",[Rb]:"fire-rtdb",[Ib]:"fire-data-connect",[Nb]:"fire-rtdb-compat",[Db]:"fire-fn",[Ob]:"fire-fn-compat",[Mb]:"fire-iid",[kb]:"fire-iid-compat",[Vb]:"fire-fcm",[jb]:"fire-fcm-compat",[Ub]:"fire-perf",[Lb]:"fire-perf-compat",[Pb]:"fire-rc",[zb]:"fire-rc-compat",[Bb]:"fire-gcs",[qb]:"fire-gcs-compat",[Hb]:"fire-fst",[Fb]:"fire-fst-compat",[Gb]:"fire-vertex","fire-js":"fire-js",[Qb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,Xb=new Map,Dd=new Map;function yv(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fa(r){const t=r.name;if(Dd.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;Dd.set(t,r);for(const i of Ic.values())yv(i,r);for(const i of Xb.values())yv(i,r);return!0}function Wd(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new wo("app","Firebase",$b);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=Yb;function B_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Nd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=V_()),!i)throw Qs.create("no-options");const h=Ic.get(o);if(h){if(Lr(i,h.options)&&Lr(a,h.config))return h;throw Qs.create("duplicate-app",{appName:o})}const d=new ib(o);for(const _ of Dd.values())d.addComponent(_);const g=new Zb(i,a,d);return Ic.set(o,g),g}function q_(r=Nd){const t=Ic.get(r);if(!t&&r===Nd&&V_())return B_();if(!t)throw Qs.create("no-app",{appName:r});return t}function Ys(r,t,i){let a=Kb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Fa(new Pr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firebase-heartbeat-database",Wb=1,vo="firebase-heartbeat-store";let vd=null;function H_(){return vd||(vd=gb(Jb,Wb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),vd}async function e1(r){try{const i=(await H_()).transaction(vo),a=await i.objectStore(vo).get(G_(r));return await i.done,a}catch(t){if(t instanceof rs)ns.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function vv(r,t){try{const a=(await H_()).transaction(vo,"readwrite");await a.objectStore(vo).put(t,G_(r)),await a.done}catch(i){if(i instanceof rs)ns.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function G_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1024,n1=30;class i1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new r1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>n1){const o=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:a}=s1(this._heartbeatsCache.heartbeats),o=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ns.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function s1(r,t=t1){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ev(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class r1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function a1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r){Fa(new Pr("platform-logger",t=>new _b(t),"PRIVATE")),Fa(new Pr("heartbeat",t=>new i1(t),"PRIVATE")),Ys(Id,gv,r),Ys(Id,gv,"esm2020"),Ys("fire-js","")}l1("");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var em;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function A(){}A.prototype=b.prototype,I.F=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(D,R,O){for(var x=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)x[ge-2]=arguments[ge];return b.prototype[R].apply(D,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,A){A||(A=0);const D=Array(16);if(typeof b=="string")for(var R=0;R<16;++R)D[R]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(R=0;R<16;++R)D[R]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],R=I.g[2];let O=I.g[3],x;x=b+(O^A&(R^O))+D[0]+3614090360&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[1]+3905402710&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[2]+606105819&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[3]+3250441966&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[4]+4118548399&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[5]+1200080426&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[6]+2821735955&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[7]+4249261313&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[8]+1770035416&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[9]+2336552879&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[10]+4294925233&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[11]+2304563134&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[12]+1804603682&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[13]+4254626195&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[14]+2792965006&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[15]+1236535329&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(R^O&(A^R))+D[1]+4129170786&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[6]+3225465664&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[11]+643717713&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[0]+3921069994&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[5]+3593408605&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[10]+38016083&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[15]+3634488961&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[4]+3889429448&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[9]+568446438&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[14]+3275163606&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[3]+4107603335&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[8]+1163531501&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[13]+2850285829&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[2]+4243563512&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[7]+1735328473&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[12]+2368359562&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(A^R^O)+D[5]+4294588738&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[8]+2272392833&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[11]+1839030562&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[14]+4259657740&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[1]+2763975236&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[4]+1272893353&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[7]+4139469664&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[10]+3200236656&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[13]+681279174&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[0]+3936430074&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[3]+3572445317&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[6]+76029189&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[9]+3654602809&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[12]+3873151461&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[15]+530742520&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[2]+3299628645&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(R^(A|~O))+D[0]+4096336452&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[7]+1126891415&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[14]+2878612391&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[5]+4237533241&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[12]+1700485571&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[3]+2399980690&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[10]+4293915773&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[1]+2240044497&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[8]+1873313359&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[15]+4264355552&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[6]+2734768916&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[13]+1309151649&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[4]+4149444226&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[11]+3174756917&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[2]+718787259&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+O&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const A=b-this.blockSize,D=this.C;let R=this.h,O=0;for(;O<b;){if(R==0)for(;O<=A;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(D[R++]=I.charCodeAt(O++),R==this.blockSize){o(this,D),R=0;break}}else for(;O<b;)if(D[R++]=I[O++],R==this.blockSize){o(this,D),R=0;break}}this.h=R,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)I[b++]=this.g[A]>>>D&255;return I};function h(I,b){var A=g;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function d(I,b){this.h=b;const A=[];let D=!0;for(let R=I.length-1;R>=0;R--){const O=I[R]|0;D&&O==b||(A[R]=O,D=!1)}this.g=A}var g={};function _(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return Z(v(-I));const b=[];let A=1;for(let D=0;I>=A;D++)b[D]=I/A|0,A*=4294967296;return new d(b,0)}function C(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(C(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(b,8));let D=w;for(let O=0;O<I.length;O+=8){var R=Math.min(8,I.length-O);const x=parseInt(I.substring(O,O+R),b);R<8?(R=v(Math.pow(b,R)),D=D.j(R).add(v(x))):(D=D.j(A),D=D.add(v(x)))}return D}var w=_(0),V=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(re(this))return-Z(this).m();let I=0,b=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);I+=(D>=0?D:4294967296+D)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(re(this))return"-"+Z(this).toString(I);const b=v(Math.pow(I,6));var A=this;let D="";for(;;){const R=we(A,b).g;A=W(A,R.j(b));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=R,ee(A))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function re(I){return I.h==-1}r.l=function(I){return I=W(this,I),re(I)?-1:ee(I)?0:1};function Z(I){const b=I.g.length,A=[];for(let D=0;D<b;D++)A[D]=~I.g[D];return new d(A,~I.h).add(V)}r.abs=function(){return re(this)?Z(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),A=[];let D=0;for(let R=0;R<=b;R++){let O=D+(this.i(R)&65535)+(I.i(R)&65535),x=(O>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);D=x>>>16,O&=65535,x&=65535,A[R]=x<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function W(I,b){return I.add(Z(b))}r.j=function(I){if(ee(this)||ee(I))return w;if(re(this))return re(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(re(I))return Z(this.j(Z(I)));if(this.l(Q)<0&&I.l(Q)<0)return v(this.m()*I.m());const b=this.g.length+I.g.length,A=[];for(var D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<I.g.length;R++){const O=this.i(D)>>>16,x=this.i(D)&65535,ge=I.i(R)>>>16,Ie=I.i(R)&65535;A[2*D+2*R]+=x*Ie,se(A,2*D+2*R),A[2*D+2*R+1]+=O*Ie,se(A,2*D+2*R+1),A[2*D+2*R+1]+=x*ge,se(A,2*D+2*R+1),A[2*D+2*R+2]+=O*ge,se(A,2*D+2*R+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new d(A,0)};function se(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function he(I,b){this.g=I,this.h=b}function we(I,b){if(ee(b))throw Error("division by zero");if(ee(I))return new he(w,w);if(re(I))return b=we(Z(I),b),new he(Z(b.g),Z(b.h));if(re(b))return b=we(I,Z(b)),new he(Z(b.g),b.h);if(I.g.length>30){if(re(I)||re(b))throw Error("slowDivide_ only works with positive integers.");for(var A=V,D=b;D.l(I)<=0;)A=Je(A),D=Je(D);var R=_e(A,1),O=_e(D,1);for(D=_e(D,2),A=_e(A,2);!ee(D);){var x=O.add(D);x.l(I)<=0&&(R=R.add(A),O=x),D=_e(D,1),A=_e(A,1)}return b=W(I,R.j(b)),new he(R,b)}for(R=w;I.l(b)>=0;){for(A=Math.max(1,Math.floor(I.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=v(A),x=O.j(b);re(x)||x.l(I)>0;)A-=D,O=v(A),x=O.j(b);ee(O)&&(O=V),R=R.add(O),I=W(I,x)}return new he(R,I)}r.B=function(I){return we(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)&I.i(D);return new d(A,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)|I.i(D);return new d(A,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)^I.i(D);return new d(A,this.h^I.h)};function Je(I){const b=I.g.length+1,A=[];for(let D=0;D<b;D++)A[D]=I.i(D)<<1|I.i(D-1)>>>31;return new d(A,I.h)}function _e(I,b){const A=b>>5;b%=32;const D=I.g.length-A,R=[];for(let O=0;O<D;O++)R[O]=b>0?I.i(O+A)>>>b|I.i(O+A+1)<<32-b:I.i(O+A);return new d(R,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=C,em=d}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F_,uo,Q_,_c,Od,Y_,K_,X_;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var y=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in y))break e;y=y[U]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function C(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(S,U,q){for(var te=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)te[Ee-2]=arguments[Ee];return m.prototype[U].apply(S,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function ee(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const q=U.length||0;u.length=y+q;for(let te=0;te<q;te++)u[y+te]=U[te]}else u.push(U)}}class re{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function W(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class se{constructor(){this.h=this.g=null}add(m,y){const S=he.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var he=new re(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Je,_e=!1,I=new se,b=()=>{const u=Promise.resolve(void 0);Je=()=>{u.then(A)}};function A(){for(var u;u=W();){try{u.h.call(u.g)}catch(y){Z(y)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_e=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ge(u,m){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ge,R),ge.prototype.init=function(u,m){const y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(u,m,y,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=U,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function Ge(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function k(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let y,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(y in S)u[y]=S[y];for(let q=0;q<X.length;q++)y=X[q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,y,S,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=Se(u,m,S,U);return te>-1?(m=u[te],y||(m.fa=!1)):(m=new ne(m,this.src,q,!!S,U),m.fa=y,u.push(m)),m};function ye(u,m){const y=m.type;if(y in u.g){var S=u.g[y],U=Array.prototype.indexOf.call(S,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(S,U,1),q&&(de(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Se(u,m,y,S){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ct={};function it(u,m,y,S,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)it(u,m[q],y,S,U);return null}return y=sl(y),u&&u[Ie]?u.J(m,y,g(S)?!!S.capture:!1,U):nr(u,m,y,!1,S,U)}function nr(u,m,y,S,U,q){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Ee=ir(u);if(Ee||(u[ke]=Ee=new ae(u)),y=Ee.add(m,y,S,te,q),y.proxy)return y;if(S=Yr(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)O||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(ei(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Yr(){function u(y){return m.call(u.src,u.listener,y)}const m=nl;return u}function Kr(u,m,y,S,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Kr(u,m[q],y,S,U);else S=g(S)?!!S.capture:!!S,y=sl(y),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Se(m,y,S,U),y>-1&&(de(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,y,S,U)),(y=u>-1?m[u]:null)&&Xr(y))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])ye(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(ei(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=ir(m))?(ye(y,u),y.h==0&&(y.src=null,m[ke]=null)):de(u)}}}function ei(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function nl(u,m){if(u.da)u=!0;else{m=new ge(m,this);const y=u.listener,S=u.ha||u.src;u.fa&&Xr(u),u=y.call(S,m)}return u}function ir(u){return u=u[ke],u instanceof ae?u:null}var il="__closure_events_fn_"+(Math.random()*1e9>>>0);function sl(u){return typeof u=="function"?u:(u[il]||(u[il]=function(m){return u.handleEvent(m)}),u[il])}function gt(){D.call(this),this.i=new ae(this),this.M=this,this.G=null}w(gt,D),gt.prototype[Ie]=!0,gt.prototype.removeEventListener=function(u,m,y,S){Kr(this,u,m,y,S)};function Rt(u,m){var y,S=u.G;if(S)for(y=[];S;S=S.G)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new R(m,u);else if(m instanceof R)m.target=m.target||u;else{var U=m;m=new R(S,u),ie(m,U)}U=!0;let q,te;if(y)for(te=y.length-1;te>=0;te--)q=m.g=y[te],U=as(q,S,!0,m)&&U;if(q=m.g=u,U=as(q,S,!0,m)&&U,U=as(q,S,!1,m)&&U,y)for(te=0;te<y.length;te++)q=m.g=y[te],U=as(q,S,!1,m)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let S=0;S<y.length;S++)de(y[S]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},gt.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function as(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==y){const Ee=te.listener,dt=te.ha||te.src;te.fa&&ye(u.i,te),U=Ee.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jo(u){u.g=uh(()=>{u.g=null,u.i&&(u.i=!1,jo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends D{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){D.call(this),this.h=u,this.g={}}w(sr,D);var rl=[];function al(u){je(u.g,function(m,y){this.g.hasOwnProperty(y)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),al(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,ch=d.JSON.parse,Uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lo(){}function Po(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){R.call(this,"d")}w(jt,R);function Tn(){R.call(this,"c")}w(Tn,R);var ft={},zo=null;function $r(){return zo=zo||new gt}ft.Ia="serverreachability";function Bo(u){R.call(this,ft.Ia,u)}w(Bo,R);function ti(u){const m=$r();Rt(m,new Bo(m))}ft.STAT_EVENT="statevent";function rr(u,m){R.call(this,ft.STAT_EVENT,u),this.stat=m}w(rr,R);function yt(u){const m=$r();Rt(m,new rr(m,u))}ft.Ja="timingevent";function ni(u,m){R.call(this,ft.Ja,u),this.size=m}w(ni,R);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function hh(u,m,y,S,U,q){u.info(function(){if(u.g)if(q){var te="",Ee=q.split("&");for(let ze=0;ze<Ee.length;ze++){var dt=Ee[ze].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const wn=st.split("_");te=wn.length>=2&&wn[1]=="type"?te+(st+"="+dt+"&"):te+(st+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+y+`
`+te})}function qo(u,m,y,S,U,q,te){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+te})}function si(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+fh(u,y)+(S?" "+S:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function fh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return ls(q)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function or(){}w(or,Lo),or.prototype.g=function(){return new XMLHttpRequest},ol=new or;function Ni(u){return encodeURIComponent(String(u))}function Ho(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Un(u,m,y,S){this.j=u,this.i=m,this.l=y,this.S=S||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var vt={},Nt={};function ri(u,m,y){u.M=1,u.A=ur(Et(m)),u.u=y,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ai(u),u.B=Et(u.A);var y=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ta(y.i,"t",S),u.C=0,y=u.j.L,u.h=new Ln,u.g=su(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Wt(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(rl[0]=U.toString()),U=rl);for(let q=0;q<U.length;q++){const te=it(y,U[q],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),hh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const Ee=Bn(this.g),dt=this.g.ya(),ze=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||Ee!=4||dt==7||(dt==8||ze<=0?ti(3):ti(2)),li(this);var m=this.g.ca();this.X=m;var y=dh(this);if(this.o=m==200,qo(this.i,this.v,this.B,this.l,this.S,Ee,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(u=q)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,yt(12),fn(this),Sn(this);break e}}if(this.R){u=!0;let st;for(;!this.K&&this.C<y.length;)if(st=Fo(this,y),st==Nt){Ee==4&&(this.m=4,yt(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,yt(15),si(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,st,null),oi(this,st);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||y.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,y,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(y.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),bl(te),te.P=!0,yt(11))}}else si(this.i,this.l,y,null),oi(this,y);Ee==4&&fn(this),this.o&&!this.K&&(Ee==4?eu(this.j,this):(this.o=!1,ai(this)))}else Oi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),fn(this),Sn(this)}}}catch{}finally{}};function dh(u){if(!Go(u))return u.g.la();const m=Ut(u.g);if(m==="")return"";let y="";const S=m.length,U=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(U&&q==S-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Go(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fo(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Nt:(y=Number(m.substring(y,S)),isNaN(y)?vt:(S+=1,S+y>m.length?Nt:(m=m.slice(S,S+y),u.C=S+y,m)))}Un.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(v(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(ti(),yt(17)),fn(this),this.m=2,Sn(this)):Jr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||eu(u.j,u)}function fn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,al(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ci(y.h,u))){if(!u.L&&ci(y.h,u)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)aa(y),ps(y);else break e;gr(y),yt(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ii(v(y.Va,y),6e3));ui(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&aa(y),!x(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let ze=U[m];const st=ze[0];if(!(st<=y.K))if(y.K=st,ze=ze[1],y.I==2)if(ze[0]=="c"){y.M=ze[1],y.ba=ze[2];const wn=ze[3];wn!=null&&(y.ka=wn,y.j.info("VER="+y.ka));const yi=ze[4];yi!=null&&(y.za=yi,y.j.info("SVER="+y.za));const qn=ze[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Hn=u.g;if(Hn){const yr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var q=S.h;q.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(hl(q,q.h),q.h=null))}if(S.G){const la=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(S.wa=la,Fe(S.J,S.G,la))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var te=u;if(S.na=iu(S,S.L?S.ba:null,S.W),te.L){fl(S.h,te);var Ee=te,dt=S.O;dt&&(Ee.H=dt),Ee.D&&(li(Ee),ai(Ee)),S.g=te}else Jo(S);y.i.length>0&&pi(y)}else ze[0]!="stop"&&ze[0]!="close"||gi(y,7);else y.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?gi(y,7):Tl(y):ze[0]!="noop"&&y.l&&y.l.qa(ze),y.A=0)}}ti(4)}catch{}}var _t=class{constructor(u,m){this.g=u,this.map=m}};function ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function hl(u,m){u.g?u.g.add(m):u.h=m}function fl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Q(u.i)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const S=u[y].indexOf("=");let U,q=null;S>=0?(U=u[y].substring(0,S),q=u[y].substring(S+1)):U=u[y],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Dt(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,ml(this,$o(u.i)),this.m=u.m):u&&(m=String(u).match(Qo))?(this.l=!1,Dt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),os(this,m[4]),this.h=hi(m[5]||"",!0),ml(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ea,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ea,!0),"@"),u.push(Ni(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(cr(y,y.charAt(0)=="/"?pl:Yo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",cr(y,Ko)),u.join("")},dn.prototype.resolve=function(u){const m=Et(this);let y=!!u.j;y?Dt(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var S=u.h;if(y)os(m,u.u);else if(y=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let te=0;te<U.length;){const Ee=U[te++];Ee=="."?S&&te==U.length&&q.push(""):Ee==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&te==U.length&&q.push("")):(q.push(Ee),S=!0)}S=q.join("/")}else S=U}return y?m.h=S:y=u.i.toString()!=="",y?ml(m,$o(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Et(u){return new dn(u)}function Dt(u,m,y){u.j=y?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ml(u,m,y){m instanceof cs?(u.i=m,na(u.i,u.l)):(y||(m=cr(m,us)),u.i=new cs(m,u.l))}function Fe(u,m,y){u.i.set(m,y)}function ur(u){return Fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,Yo=/[#\?:]/g,pl=/[#\?]/g,us=/[#\?@]/g,Ko=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=cs.prototype,r.add=function(u,m){sn(this),this.i=null,u=hs(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Xo(u,m){sn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gl(u,m){return sn(u),m=hs(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(y,S){y.forEach(function(U){u.call(m,U,S,this)},this)},this)};function yl(u,m){sn(u);let y=[];if(typeof m=="string")gl(u,m)&&(y=y.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return sn(this),this.i=null,u=hs(this,u),gl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=yl(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,y){Xo(u,m),y.length>0&&(u.i=null,u.g.set(hs(u,m),Q(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const U=Ni(y);y=yl(this,y);for(let q=0;q<y.length;q++){let te=U;y[q]!==""&&(te+="="+Ni(y[q])),u.push(te)}}return this.i=u.join("&")};function $o(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(y,S){const U=S.toLowerCase();S!=U&&(Xo(this,S),ta(this,U,y))},u)),u.j=m}function Pn(u,m){const y=new jn;if(d.Image){const S=new Image;S.onload=C(bn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=C(bn,y,"TestLoadImage: error",!1,m,S),S.onabort=C(bn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=C(bn,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function vl(u,m){const y=new jn,S=new AbortController,U=setTimeout(()=>{S.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(y,"TestPingServer: error",!1,m)})}function bn(u,m,y,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(y)}catch{}}function fs(){this.g=new Uo}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(fi,Lo),fi.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(hr,gt),r=hr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):zn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},r.Na=function(u){this.g&&(this.response=u,ds(this))},r.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return je(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function fr(u,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=An(y),typeof u=="string"?y!=null&&Ni(y):Fe(u,m,y))}function Ke(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ke,gt);var di=/^https?$/i,_l=["POST","PUT"];r=Ke.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){dr(this,q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)y.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(_l,m,void 0)>=0)||S||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of y)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){dr(this,q)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,El(u),Di(u)}function El(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Ke.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=q===0){let te=String(u.D).match(Qo)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!di.test(te?te.toLowerCase():"")}y=S}if(y)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var U=Bn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",El(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Rt(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ch(m)}};function Ut(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(x(u[S]))continue;var y=Ho(u[S]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}Ge(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,S){yt(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=iu(this,null,this.W),pi(this)};function Tl(u){if(sa(u),u.I==3){var m=u.V++,y=Et(u.J);if(Fe(y,"SID",u.M),Fe(y,"RID",m),Fe(y,"TYPE","terminate"),pr(u,y),m=new Un(u,u.j,m),m.M=2,m.A=ur(Et(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}nu(u)}function ps(u){u.g&&(bl(u),u.g.cancel(),u.g=null)}function sa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Je||b(),_e||(Je(),_e=!0),I.add(m,u),u.D=0}}function ra(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(v(u.Ea,u,m),tu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Un(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Zo(this,U,m),y=Et(this.J),Fe(y,"RID",u),Fe(y,"CVER",22),this.G&&Fe(y,"X-HTTP-Session-Id",this.G),pr(this,y),q&&(this.R?m="headers="+Ni(An(q))+"&"+m:this.u&&fr(y,this.u,q)),hl(this.h,U),this.Ra&&Fe(y,"TYPE","init"),this.S?(Fe(y,"$req",m),Fe(y,"SID","null"),U.U=!0,ri(U,y,null)):ri(U,y,m),this.I=2}}else this.I==3&&(u?Sl(this,u):this.i.length==0||cl(this.h)||Sl(this))};function Sl(u,m){var y;m?y=m.l:y=u.V++;const S=Et(u.J);Fe(S,"SID",u.M),Fe(S,"RID",y),Fe(S,"AID",u.K),pr(u,S),u.u&&u.o&&fr(S,u.u,u.o),y=new Un(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Zo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),hl(u.h,y),ri(y,S,m)}function pr(u,m){u.H&&je(u.H,function(y,S){Fe(m,S,y)}),u.l&&je({},function(y,S){Fe(m,S,y)})}function Zo(u,m,y){y=Math.min(u.i.length,y);const S=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ee=-1;for(;;){const dt=["count="+y];Ee==-1?y>0?(Ee=U[0].g,dt.push("ofs="+Ee)):Ee=0:dt.push("ofs="+Ee);let ze=!0;for(let st=0;st<y;st++){var q=U[st].g;const wn=U[st].map;if(q-=Ee,q<0)Ee=Math.max(0,U[st].g-100),ze=!1;else try{q="req"+q+"_"||"";try{var te=wn instanceof Map?wn:Object.entries(wn);for(const[yi,qn]of te){let Hn=qn;g(qn)&&(Hn=ls(qn)),dt.push(q+yi+"="+encodeURIComponent(Hn))}}catch(yi){throw dt.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{S&&S(wn)}}if(ze){te=dt.join("&");break e}}te=void 0}return u=u.i.splice(0,y),m.G=u,te}function Jo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Je||b(),_e||(Je(),_e=!0),I.add(m,u),u.A=0}}function gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(v(u.Da,u),tu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),ps(this),Wo(this))};function bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Fe(m,"RID","rpc"),Fe(m,"SID",u.M),Fe(m,"AID",u.K),Fe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Fe(m,"TO",u.ia),Fe(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ur(Et(m)),y.u=null,y.R=!0,Zr(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),gr(this),yt(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eu(u,m){var y=null;if(u.g==m){aa(u),bl(u),u.g=null;var S=2}else if(ci(u.h,m))y=m.G,fl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=$r(),Rt(S,new ni(S,y)),pi(u)}else Jo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&ra(u,m)||S==2&&gr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function tu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),S=u.Ua;const U=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dt(S,"https"),ur(S),U?Pn(S.toString(),y):vl(S.toString(),y)}else yt(2);u.I=0,u.l&&u.l.pa(m),nu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function nu(u){if(u.I=0,u.ja=[],u.l){const m=dl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function iu(u,m,y){var S=y instanceof dn?Et(y):new dn(y);if(S.g!="")m&&(S.g=m+"."+S.g),os(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new dn(null);S&&Dt(q,S),m&&(q.g=m),U&&os(q,U),y&&(q.h=y),S=q}return y=u.G,m=u.wa,y&&m&&Fe(S,y,m),Fe(S,"VER",u.ka),pr(u,S),S}function su(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ke(new fi({ab:y})):new Ke(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}r=ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){gt.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(en,gt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Tl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ls(u),u=y);m.i.push(new _t(m.Ya++,u)),m.I==3&&pi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,en.Z.N.call(this)};function au(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(au,jt);function lu(){Tn.call(this),this.status=1}w(lu,Tn);function Mi(u){this.g=u}w(Mi,ru),Mi.prototype.ra=function(){Rt(this.g,"a")},Mi.prototype.qa=function(u){Rt(this.g,new au(u))},Mi.prototype.pa=function(u){Rt(this.g,new lu)},Mi.prototype.oa=function(){Rt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,X_=function(){return new gs},K_=function(){return $r()},Y_=ft,Od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,_c=lr,ll.COMPLETE="complete",Q_=ll,Po.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,uo=Po,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,F_=Ke}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",bv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Zd("@firebase/firestore");function Ua(){return zr.logLevel}function ue(r,...t){if(zr.logLevel<=Oe.DEBUG){const i=t.map(tm);zr.debug(`Firestore (${Wa}): ${r}`,...i)}}function Br(r,...t){if(zr.logLevel<=Oe.ERROR){const i=t.map(tm);zr.error(`Firestore (${Wa}): ${r}`,...i)}}function Kc(r,...t){if(zr.logLevel<=Oe.WARN){const i=t.map(tm);zr.warn(`Firestore (${Wa}): ${r}`,...i)}}function tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,$_(r,a,i)}function $_(r,t,i){let a=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Br(a),new Error(a)}function ht(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||$_(t,o,a)}function et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class u1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class c1{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ht(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new jr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new Z_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class h1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new h1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ht(this.o===void 0,3512);const a=h=>{h.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const o=h=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=m1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=t.charAt(o[h]%62))}return a}}function qe(r,t){return r<t?-1:r>t?1:0}function Md(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=t.charAt(a);if(o!==h)return _d(o)===_d(h)?qe(o,h):_d(o)?1:-1}return qe(r.length,t.length)}const p1=55296,g1=57343;function _d(r){const t=r.charCodeAt(0);return t>=p1&&t<=g1}function Qa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&xe(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&xe(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const h=Si.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return qe(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),o=Si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Si.extractNumericId(t).compare(Si.extractNumericId(i)):Md(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return em.fromString(t.substring(4,t.length-2))}}class ot extends Si{construct(t,i,a){return new ot(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const y1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Si{construct(t,i,a){return new Ft(t,i,a)}static isValidIdentifier(t){return y1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Ft([wv])}static fromServerFormat(t){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(i)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.path=t}static fromPath(t){return new Ae(ot.fromString(t))}static fromName(t){return new Ae(ot.fromString(t).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ot.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ae(new ot(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r,t,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function v1(r,t,i,a){if(t===!0&&a===!0)throw new fe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function xv(r){if(!Ae.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cv(r){if(Ae.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function W_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function im(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function kd(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=im(r);throw new fe(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,t){const i={typeString:r};return t&&(i.value=t),i}function Co(r,t){if(!W_(r))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Iv=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(t){return lt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Iv);return new lt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Co(t,lt._jsonSchema))return new lt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:xt("string",lt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new lt(0,0))}static max(){return new at(new lt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=-1;function _1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=at.fromTimestamp(a===1e9?new lt(i+1,0):new lt(i,a));return new Zs(o,Ae.empty(),t)}function E1(r){return new Zs(r.readTime,r.key,_o)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(at.min(),Ae.empty(),_o)}static max(){return new Zs(at.max(),Ae.empty(),_o)}}function T1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Ae.comparator(r.documentKey,t.documentKey),i!==0?i:qe(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==S1)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,h=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(_=>a(_)))})),d=!0,h===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const h=t.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((C=>{d[v]=C,++g,g===h&&a(d)}),(C=>o(C)))}}))}static doWhile(t,i){return new $(((a,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):a()};h()}))}}function A1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function lm(r){return r==null}function Nc(r){return r===0&&1/r==-1/0}function w1(r){return typeof r=="number"&&Number.isInteger(r)&&!Nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="";function x1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Nv(t)),t=C1(r.get(i),t);return Nv(t)}function C1(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case e0:i+="";break;default:i+=h}}return i}function Nv(r){return r+e0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function el(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function t0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,i){this.comparator=t,this.root=i||Ht.EMPTY}insert(t,i){return new hn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fc(this.root,t,this.comparator,!0)}}class fc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,i,a,o,h){this.key=t,this.value=i,this.color=a??Ht.RED,this.left=o??Ht.EMPTY,this.right=h??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,h){return new Ht(t??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const h=a(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xe(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(t,i,a,o,h){return this}insert(t,i,a){return new Ht(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Yt(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new Zn([])}unionWith(t){let i=new Yt(Ft.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new R1("Invalid base64 string: "+h):h}})(t);return new xi(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new xi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const I1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(ht(!!r,39018),typeof r=="string"){let t=0;const i=I1.exec(r);if(ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Gt(r.seconds),nanos:Gt(r.nanos)}}function Gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?xi.fromBase64String(r):xi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",i0="__type__",s0="__previous_value__",r0="__local_write_time__";function om(r){return(r?.mapValue?.fields||{})[i0]?.stringValue===n0}function um(r){const t=r.mapValue.fields[s0];return om(t)?um(t):t}function Dc(r){const t=qr(r.mapValue.fields[r0].timestampValue);return new lt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i,a,o,h,d,g,_,v,C){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=C}}const Oc="(default)";class Mc{constructor(t,i){this.projectId=t,this.database=i||Oc}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof Mc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__type__",D1="__max__",dc={mapValue:{}},l0="__vector__",Vd="value";function Hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?om(r)?4:M1(r)?9007199254740991:O1(r)?10:11:xe(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Hr(r);if(i!==Hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dc(r).isEqual(Dc(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=qr(o.timestampValue),g=qr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,h){return Ya(o.bytesValue).isEqual(Ya(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,h){return Gt(o.geoPointValue.latitude)===Gt(h.geoPointValue.latitude)&&Gt(o.geoPointValue.longitude)===Gt(h.geoPointValue.longitude)})(r,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Gt(o.integerValue)===Gt(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Gt(o.doubleValue),g=Gt(h.doubleValue);return d===g?Nc(d)===Nc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Qa(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Dv(d)!==Dv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ci(d[_],g[_])))return!1;return!0})(r,t);default:return xe(52216,{left:r})}}function Eo(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Ka(r,t){if(r===t)return 0;const i=Hr(r),a=Hr(t);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=Gt(h.integerValue||h.doubleValue),_=Gt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return Mv(r.timestampValue,t.timestampValue);case 4:return Mv(Dc(r),Dc(t));case 5:return Md(r.stringValue,t.stringValue);case 6:return(function(h,d){const g=Ya(h),_=Ya(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const C=qe(g[v],_[v]);if(C!==0)return C}return qe(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=qe(Gt(h.latitude),Gt(d.latitude));return g!==0?g:qe(Gt(h.longitude),Gt(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return kv(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},_=d.fields||{},v=g[Vd]?.arrayValue,C=_[Vd]?.arrayValue,w=qe(v?.values?.length||0,C?.values?.length||0);return w!==0?w:kv(v,C)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===dc.mapValue&&d===dc.mapValue)return 0;if(h===dc.mapValue)return 1;if(d===dc.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},C=Object.keys(v);_.sort(),C.sort();for(let w=0;w<_.length&&w<C.length;++w){const V=Md(_[w],C[w]);if(V!==0)return V;const Q=Ka(g[_[w]],v[C[w]]);if(Q!==0)return Q}return qe(_.length,C.length)})(r.mapValue,t.mapValue);default:throw xe(23264,{he:i})}}function Mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qe(r,t);const i=qr(r),a=qr(t),o=qe(i.seconds,a.seconds);return o!==0?o:qe(i.nanos,a.nanos)}function kv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ka(i[o],a[o]);if(h)return h}return qe(i.length,a.length)}function Xa(r){return jd(r)}function jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=qr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ya(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ae.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=jd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${jd(i.fields[d])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Ec(r){switch(Hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=um(r);return t?16+Ec(t):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Ec(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return el(a.fields,((h,d)=>{o+=h.length+Ec(d)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function Ud(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Tc(r){return!!r&&"mapValue"in r}function O1(r){return(r?.mapValue?.fields||{})[a0]?.stringValue===l0}function ho(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return el(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=ho(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ho(r.arrayValue.values[i]);return t}return{...r}}function M1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===D1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.value=t}static empty(){return new Xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Tc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ho(i)}setAll(t){let i=Ft.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=ho(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(t){const i=this.field(t.popLast());Tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){el(i,((o,h)=>t[o]=h));for(const o of a)delete t[o]}clone(){return new Xn(ho(this.value))}}function o0(r){const t=[];return el(r.fields,((i,a)=>{const o=new Ft([i]);if(Tc(a)){const h=o0(a.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,i,a,o,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Yn(t,0,at.min(),at.min(),at.min(),Xn.empty(),0)}static newFoundDocument(t,i,a,o){return new Yn(t,1,i,at.min(),a,o,0)}static newNoDocument(t,i){return new Yn(t,2,i,at.min(),at.min(),Xn.empty(),0)}static newUnknownDocument(t,i){return new Yn(t,3,i,at.min(),at.min(),Xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i){this.position=t,this.inclusive=i}}function Vv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const h=t[o],d=r.position[o];if(h.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function jv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function k1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class kt extends u0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new j1(t,i,a):i==="array-contains"?new P1(t,a):i==="in"?new z1(t,a):i==="not-in"?new B1(t,a):i==="array-contains-any"?new q1(t,a):new kt(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new U1(t,a):new L1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Hr(this.value)===Hr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends u0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Js(t,i)}matches(t){return c0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function h0(r){return V1(r)&&c0(r)}function V1(r){for(const t of r.filters)if(t instanceof Js)return!1;return!0}function Ld(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(h0(r))return r.filters.map((t=>Ld(t))).join(",");{const t=r.filters.map((i=>Ld(i))).join(",");return`${r.op}(${t})`}}function f0(r,t){return r instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(r,t):r instanceof Js?(function(a,o){return o instanceof Js&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&f0(d,o.filters[g])),!0):!1})(r,t):void xe(19439)}function d0(r){return r instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(r):r instanceof Js?(function(i){return i.op.toString()+" {"+i.getFilters().map(d0).join(" ,")+"}"})(r):"Filter"}class j1 extends kt{constructor(t,i,a){super(t,i,a),this.key=Ae.fromName(a.referenceValue)}matches(t){const i=Ae.comparator(t.key,this.key);return this.matchesComparison(i)}}class U1 extends kt{constructor(t,i){super(t,"in",i),this.keys=m0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class L1 extends kt{constructor(t,i){super(t,"not-in",i),this.keys=m0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function m0(r,t){return(t.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class P1 extends kt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&Eo(i.arrayValue,this.value)}}class z1 extends kt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Eo(this.value.arrayValue,i)}}class B1 extends kt{constructor(t,i){super(t,"not-in",i)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Eo(this.value.arrayValue,i)}}class q1 extends kt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Eo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,i=null,a=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Uv(r,t=null,i=[],a=[],o=null,h=null,d=null){return new H1(r,t,i,a,o,h,d)}function hm(r){const t=et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Ld(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),lm(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!k1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!f0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!jv(r.startAt,t.startAt)&&jv(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G1(r,t,i,a,o,h,d,g){return new Xc(r,t,i,a,o,h,d,g)}function F1(r){return new Xc(r)}function Lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q1(r){return r.collectionGroup!==null}function fo(r){const t=et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Yt(Ft.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Vc(h,a))})),i.has(Ft.keyField().canonicalString())||t.Ie.push(new Vc(Ft.keyField(),a))}return t.Ie}function Ur(r){const t=et(r);return t.Ee||(t.Ee=Y1(t,fo(r))),t.Ee}function Y1(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Vc(o.field,h)}));const i=r.endAt?new kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new kc(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Pd(r,t,i){return new Xc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function p0(r,t){return fm(Ur(r),Ur(t))&&r.limitType===t.limitType}function g0(r){return`${hm(Ur(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>d0(o))).join(", ")}]`),lm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Xa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Xa(o))).join(",")),`Target(${a})`})(Ur(r))}; limitType=${r.limitType})`}function dm(r,t){return t.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ae.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,o){for(const h of fo(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const v=Vv(d,g,_);return d.inclusive?v<=0:v<0})(a.startAt,fo(a),o)||a.endAt&&!(function(d,g,_){const v=Vv(d,g,_);return d.inclusive?v>=0:v>0})(a.endAt,fo(a),o))})(r,t)}function K1(r){return(t,i)=>{let a=!1;for(const o of fo(r)){const h=X1(o,t,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function X1(r,t,i){const a=r.field.isKeyField()?Ae.comparator(t.key,i.key):(function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Ka(_,v):xe(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){el(this.inner,((i,a)=>{for(const[o,h]of a)t(o,h)}))}isEmpty(){return t0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new hn(Ae.comparator);function jc(){return $1}const y0=new hn(Ae.comparator);function mc(...r){let t=y0;for(const i of r)t=t.insert(i.key,i);return t}function v0(r){let t=y0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vr(){return mo()}function _0(){return mo()}function mo(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Z1=new hn(Ae.comparator),J1=new Yt(Ae.comparator);function Zt(...r){let t=J1;for(const i of r)t=t.add(i);return t}const W1=new Yt(qe);function eA(){return W1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(t)?"-0":t}}function E0(r){return{integerValue:""+r}}function tA(r,t){return w1(t)?E0(t):mm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function nA(r,t,i){return r instanceof To?(function(o,h){const d={fields:{[i0]:{stringValue:n0},[r0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&om(h)&&(h=um(h)),h&&(d.fields[s0]=h),{mapValue:d}})(i,t):r instanceof So?S0(r,t):r instanceof bo?b0(r,t):(function(o,h){const d=T0(o,h),g=Pv(d)+Pv(o.Ae);return Ud(d)&&Ud(o.Ae)?E0(g):mm(o.serializer,g)})(r,t)}function iA(r,t,i){return r instanceof So?S0(r,t):r instanceof bo?b0(r,t):i}function T0(r,t){return r instanceof Uc?(function(a){return Ud(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class To extends $c{}class So extends $c{constructor(t){super(),this.elements=t}}function S0(r,t){const i=A0(t);for(const a of r.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class bo extends $c{constructor(t){super(),this.elements=t}}function b0(r,t){let i=A0(t);for(const a of r.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class Uc extends $c{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Pv(r){return Gt(r.integerValue||r.doubleValue)}function A0(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,i){this.field=t,this.transform=i}}function rA(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof So&&o instanceof So||a instanceof bo&&o instanceof bo?Qa(a.elements,o.elements,Ci):a instanceof Uc&&o instanceof Uc?Ci(a.Ae,o.Ae):a instanceof To&&o instanceof To})(r.transform,t.transform)}class aA{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zc{}function w0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new C0(r.key,Ji.none()):new Io(r.key,r.data,Ji.none());{const i=r.data,a=Xn.empty();let o=new Yt(Ft.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Qr(r.key,a,new Zn(o.toArray()),Ji.none())}}function lA(r,t,i){r instanceof Io?(function(o,h,d){const g=o.value.clone(),_=Bv(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Qr?(function(o,h,d){if(!Sc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Bv(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(x0(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function po(r,t,i,a){return r instanceof Io?(function(h,d,g,_){if(!Sc(h.precondition,d))return g;const v=h.value.clone(),C=qv(h.fieldTransforms,_,d);return v.setAll(C),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Qr?(function(h,d,g,_){if(!Sc(h.precondition,d))return g;const v=qv(h.fieldTransforms,_,d),C=d.data;return C.setAll(x0(h)),C.setAll(v),d.convertToFoundDocument(d.version,C).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(h,d,g){return Sc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function oA(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),h=T0(a.transform,o||null);h!=null&&(i===null&&(i=Xn.empty()),i.set(a.field,h))}return i||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Qa(a,o,((h,d)=>rA(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Io extends Zc{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qr extends Zc{constructor(t,i,a,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function x0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Bv(r,t,i){const a=new Map;ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=t.data.field(h.field);a.set(h.field,iA(d,g,i[o]))}return a}function qv(r,t,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,nA(h,d,t))}return a}class C0 extends Zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uA extends Zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&lA(h,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=po(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=po(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_0();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=w0(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(at.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Zt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>zv(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>zv(i,a)))}}class pm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Z1})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new pm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ve;function fA(r){switch(r){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function dA(r){if(r===void 0)return Br("GRPC error has no .code"),J.UNKNOWN;switch(r){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:r})}}(Ve=wt||(wt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new em([4294967295,4294967295],0);class mA{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function zd(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function gA(r,t){return zd(r,t.toTimestamp())}function za(r){return ht(!!r,49232),at.fromTimestamp((function(i){const a=qr(i);return new lt(a.seconds,a.nanos)})(r))}function R0(r,t){return Bd(r,t).canonicalString()}function Bd(r,t){const i=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function yA(r){const t=ot.fromString(r);return ht(wA(t),10190,{key:t.toString()}),t}function qd(r,t){return R0(r.databaseId,t.path)}function vA(r){const t=yA(r);return t.length===4?ot.emptyPath():EA(t)}function _A(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EA(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,t,i){return{name:qd(r,t),fields:i.value.mapValue.fields}}function TA(r,t){let i;if(t instanceof Io)i={update:Hv(r,t.key,t.value)};else if(t instanceof C0)i={delete:qd(r,t.key)};else if(t instanceof Qr)i={update:Hv(r,t.key,t.data),updateMask:AA(t.fieldMask)};else{if(!(t instanceof uA))return xe(16599,{Vt:t.type});i={verify:qd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof To)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof So)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw xe(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:gA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:xe(27497)})(r,t.precondition)),i}function SA(r,t){return r&&r.length>0?(ht(t!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?za(o.updateTime):za(h);return d.isEqual(at.min())&&(d=za(h)),new aA(d,o.transformResults||[])})(i,t)))):[]}function bA(r){let t=vA(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ht(a===1,65062);const C=i.from[0];C.allDescendants?o=C.collectionId:t=t.child(C.collectionId)}let h=[];i.where&&(h=(function(w){const V=I0(w);return V instanceof Js&&h0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(ee){return new Vc(La(ee.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,lm(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,Q=w.values||[];return new kc(Q,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const V=!w.before,Q=w.values||[];return new kc(Q,V)})(i.endAt)),G1(t,o,d,h,g,"F",_,v)}function I0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=La(i.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=La(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=La(i.unaryFilter.field);return kt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(i){return kt.create(La(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Js.create(i.compositeFilter.filters.map((a=>I0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(i.compositeFilter.op))})(r):xe(30097,{filter:r})}function La(r){return Ft.fromServerFormat(r.fieldPath)}function AA(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function wA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t){this.yt=t}}function CA(r){const t=bA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.Cn=new IA}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Zs.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class IA{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Yt(ot.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Yt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(N0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",NA=1048576;function Qv([r,t],[i,a]){const o=qe(r,i);return o===0?qe(t,a):o}class DA{constructor(t){this.Ir=t,this.buffer=new Yt(Qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class OA{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ro(i)?ue(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await sm(i)}await this.Vr(3e5)}))}}class MA{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(rm.ce);const a=new DA(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Gv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,h,d,g,_,v;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(h=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(v=Date.now(),Ua()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-C}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-C}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function kA(r,t){return new MA(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&po(a.mutation,o,Zn.empty(),lt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Zt()){const o=Vr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((h=>{let d=mc();return h.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let h=jc();const d=mo(),g=(function(){return mo()})();return i.forEach(((_,v)=>{const C=a.get(v.key);o.has(v.key)&&(C===void 0||C.mutation instanceof Qr)?h=h.insert(v.key,v):C!==void 0?(d.set(v.key,C.mutation.getFieldMask()),po(C.mutation,v,C.mutation.getFieldMask(),lt.now())):d.set(v.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,C)=>d.set(v,C))),i.forEach(((v,C)=>g.set(v,new jA(C,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=mo();let o=new hn(((d,g)=>d-g)),h=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let C=a.get(_)||Zn.empty();C=g.applyToLocalView(v,C),a.set(_,C);const w=(o.get(g.batchId)||Zt()).add(_);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,C=_.value,w=_0();C.forEach((V=>{if(!h.has(V)){const Q=w0(i.get(V),a.get(V));Q!==null&&w.set(V,Q),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Q1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-h.size):$.resolve(Vr());let g=_o,_=h;return d.next((v=>$.forEach(v,((C,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),h.get(C)?$.resolve():this.remoteDocumentCache.getEntry(t,C).next((V=>{_=_.insert(C,V)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,Zt()))).next((C=>({batchId:g,changes:v0(C)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ae(i)).next((a=>{let o=mc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const h=i.collectionGroup;let d=mc();return this.indexManager.getCollectionParents(t,h).next((g=>$.forEach(g,(_=>{const v=(function(w,V){return new Xc(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((C=>{C.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,o)))).next((d=>{h.forEach(((_,v)=>{const C=v.getKey();d.get(C)===null&&(d=d.insert(C,Yn.newInvalidDocument(C)))}));let g=mc();return d.forEach(((_,v)=>{const C=h.get(_);C!==void 0&&po(C.mutation,v,Zn.empty(),lt.now()),dm(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:za(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:CA(o.bundledQuery),readTime:za(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.overlays=new hn(Ae.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vr();return $.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,h)=>{this.St(t,i,h)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=Vr(),h=i.length+1,d=new Ae(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let h=new hn(((v,C)=>v-C));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let C=h.get(v.largestBatchId);C===null&&(C=Vr(),h=h.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const g=Vr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,C)=>g.set(v,C))),!(g.size()>=o)););return $.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hA(i,a));let h=this.qr.get(i);h===void 0&&(h=Zt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new Yt(Mt.$r),this.Ur=new Yt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Mt(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Mt(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Ae(new ot([])),a=new Mt(i,t),o=new Mt(i,t+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Ae(new ot([])),a=new Mt(i,t),o=new Mt(i,t+1);let h=Zt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Mt(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Mt{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Ae.comparator(t.key,i.key)||qe(t.Yr,i.Yr)}static Kr(t,i){return qe(t.Yr,i.Yr)||Ae.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cA(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Mt(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Yt(qe);return i.forEach((o=>{const h=new Mt(o,0),d=new Mt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let h=a;Ae.isDocumentKey(h)||(h=h.child(""));const d=new Mt(new Ae(h),0);let g=new Yt(qe);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Mt(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Mt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.ri=t,this.docs=(function(){return new hn(Ae.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Yn.newInvalidDocument(i))}getEntries(t,i){let a=jc();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Yn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let h=jc();const d=i.path,g=new Ae(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:C}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||T1(E1(C),a)<=0||(o.has(C.key)||dm(i,C))&&(h=h.insert(C.key,C.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(t,i,a,o){xe(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new HA(this)}getSize(t){return $.resolve(this.size)}}class HA extends VA{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.persistence=t,this.si=new Fr((i=>hm(i)),fm),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.ui={},this.overlays={},this.ci=new rm(0),this.li=!1,this.li=!0,this.hi=new zA,this.referenceDelegate=t(this),this.Pi=new GA(this),this.indexManager=new RA,this.remoteDocumentCache=(function(o){return new qA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new xA(i),this.Ii=new LA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new PA,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new BA(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ue("MemoryPersistence","Starting transaction:",t);const o=new FA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class FA extends b1{constructor(t){super(),this.currentSequenceNumber=t}}class ym{constructor(t){this.persistence=t,this.Ri=new gm,this.Vi=null}static mi(t){return new ym(t)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=Ae.fromPath(a);return this.gi(t,o).next((h=>{h||i.removeEntry(o,at.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Lc{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>x1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=kA(this,i)}static mi(t,i){return new Lc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((h=>h?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,h.removeEntry(d,at.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ec(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Zt(),o=Zt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new vm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GS()?8:A1(Jt())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new QA;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ua()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ua()<=Oe.DEBUG&&ue("QueryEngine","Query:",oo(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ua()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ur(i))):$.resolve())}ys(t,i){if(Lv(i))return $.resolve(null);let a=Ur(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Pd(i,null,"F"),a=Ur(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Zt(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(t,Pd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,a,o){return Lv(i)||o.isEqual(at.min())?$.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(Ua()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(i)),this.vs(t,d,i,_1(o,_o)).next((g=>g)))}))}Ds(t,i){let a=new Yt(K1(t));return i.forEach(((o,h)=>{dm(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,a){return Ua()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(i)),this.ps.getDocumentsMatchingQuery(t,i,Zs.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="LocalStore";class XA{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new hn(qe),this.xs=new Fr((h=>hm(h)),fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function $A(r,t,i,a){return new XA(r,t,i,a)}async function O0(r,t){const i=et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let _=Zt();for(const v of o){d.push(v.batchId);for(const C of v.mutations)_=_.add(C.key)}for(const v of h){g.push(v.batchId);for(const C of v.mutations)_=_.add(C.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function ZA(r,t){const i=et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,C){const w=v.batch,V=w.keys();let Q=$.resolve();return V.forEach((ee=>{Q=Q.next((()=>C.getEntry(_,ee))).next((re=>{const Z=v.docVersions.get(ee);ht(Z!==null,48541),re.version.compareTo(Z)<0&&(w.applyToRemoteDocument(re,v),re.isValidDocument()&&(re.setReadTime(v.commitVersion),C.addEntry(re)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Zt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function JA(r){const t=et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function WA(r,t){const i=et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=am),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}class Yv{constructor(){this.activeTargetIds=eA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ew{constructor(){this.Mo=new Yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Yv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Hd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Oc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,h){const d=Hd(),g=this.zo(t,i.toUriEncodedString());ue(Ed,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(g),C=Za(v);return this.Jo(t,g,_,a,C).then((w=>(ue(Ed,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Kc(Ed,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,o,h,d){return this.Go(t,i,a,o,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),a&&a.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const a=nw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class rw extends iw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,h){const d=Hd();return new Promise(((g,_)=>{const v=new F_;v.setWithCredentials(!0),v.listenOnce(Q_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case _c.NO_ERROR:const w=v.getResponseJson();ue(Xt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case _c.TIMEOUT:ue(Xt,`RPC '${t}' ${d} timed out`),_(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const V=v.getStatus();if(ue(Xt,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q?.error;if(ee&&ee.status&&ee.message){const re=(function(W){const se=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(se)>=0?se:J.UNKNOWN})(ee.status);_(new fe(re,ee.message))}else _(new fe(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new fe(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(Xt,`RPC '${t}' ${d} completed.`)}}));const C=JSON.stringify(o);ue(Xt,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",C,a,15)}))}T_(t,i,a){const o=Hd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=X_(),g=K_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const C=h.join("");ue(Xt,`Creating RPC '${t}' stream ${o}: ${C}`,_);const w=d.createWebChannel(C,_);this.I_(w);let V=!1,Q=!1;const ee=new sw({Yo:Z=>{Q?ue(Xt,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(V||(ue(Xt,`Opening RPC '${t}' stream ${o} transport.`),w.open(),V=!0),ue(Xt,`RPC '${t}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),re=(Z,W,se)=>{Z.listen(W,(he=>{try{se(he)}catch(we){setTimeout((()=>{throw we}),0)}}))};return re(w,uo.EventType.OPEN,(()=>{Q||(ue(Xt,`RPC '${t}' stream ${o} transport opened.`),ee.o_())})),re(w,uo.EventType.CLOSE,(()=>{Q||(Q=!0,ue(Xt,`RPC '${t}' stream ${o} transport closed`),ee.a_(),this.E_(w))})),re(w,uo.EventType.ERROR,(Z=>{Q||(Q=!0,Kc(Xt,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),ee.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),re(w,uo.EventType.MESSAGE,(Z=>{if(!Q){const W=Z.data[0];ht(!!W,16349);const se=W,he=se?.error||se[0]?.error;if(he){ue(Xt,`RPC '${t}' stream ${o} received error:`,he);const we=he.status;let Je=(function(b){const A=wt[b];if(A!==void 0)return dA(A)})(we),_e=he.message;Je===void 0&&(Je=J.INTERNAL,_e="Unknown error status: "+we+" with message "+he.message),Q=!0,ee.a_(new fe(Je,_e)),w.close()}else ue(Xt,`RPC '${t}' stream ${o} received:`,W),ee.u_(W)}})),re(g,Y_.STAT_EVENT,(Z=>{Z.stat===Od.PROXY?ue(Xt,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Od.NOPROXY&&ue(Xt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r){return new mA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,i,a=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class aw{constructor(t,i,a,o,h,d,g,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Br(i.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ue($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lw extends aw{constructor(t,i,a,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=SA(t.writeResults,t.commitTime),a=za(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_A(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>TA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{}class uw extends ow{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Bd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(J.UNKNOWN,h.toString())}))}Ho(t,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Bd(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class hw{constructor(t,i,a,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Oo(this)&&(ue(No,"Restarting streams for network reachability change."),await(async function(_){const v=et(_);v.Ea.add(4),await Do(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Wc(v)})(this))}))})),this.Ra=new cw(a,o)}}async function Wc(r){if(Oo(r))for(const t of r.da)await t(!0)}async function Do(r){for(const t of r.da)await t(!1)}function Oo(r){return et(r).Ea.size===0}async function k0(r,t,i){if(!Ro(t))throw t;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>JA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(No,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Wc(r)}))}function V0(r,t){return t().catch((i=>k0(r,i,t)))}async function eh(r){const t=et(r),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:am;for(;fw(t);)try{const o=await WA(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,dw(t,o)}catch(o){await k0(t,o)}j0(t)&&U0(t)}function fw(r){return Oo(r)&&r.Ta.length<10}function dw(r,t){r.Ta.push(t);const i=Ws(r);i.O_()&&i.X_&&i.ea(t.mutations)}function j0(r){return Oo(r)&&!Ws(r).x_()&&r.Ta.length>0}function U0(r){Ws(r).start()}async function mw(r){Ws(r).ra()}async function pw(r){const t=Ws(r);for(const i of r.Ta)t.ea(i.mutations)}async function gw(r,t,i){const a=r.Ta.shift(),o=pm.from(a,t,i);await V0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await eh(r)}async function yw(r,t){t&&Ws(r).X_&&await(async function(a,o){if((function(d){return fA(d)&&d!==J.ABORTED})(o.code)){const h=a.Ta.shift();Ws(a).B_(),await V0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await eh(a)}})(r,t),j0(r)&&U0(r)}async function Zv(r,t){const i=et(r);i.asyncQueue.verifyOperationInProgress(),ue(No,"RemoteStore received new credentials");const a=Oo(i);i.Ea.add(3),await Do(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Wc(i)}async function vw(r,t){const i=et(r);t?(i.Ea.delete(2),await Wc(i)):t||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function Ws(r){return r.fa||(r.fa=(function(i,a,o){const h=et(i);return h.sa(),new lw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:mw.bind(null,r),r_:yw.bind(null,r),ta:pw.bind(null,r),na:gw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await eh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(No,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,a,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,h){const d=Date.now()+a,g=new _m(t,i,d,o,h);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L0(r,t){if(Br("AsyncQueue",`${t}: ${r}`),Ro(r))return new fe(J.UNAVAILABLE,`${t}: ${r}`);throw r}class _w{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=et(i),h=o.queries;o.queries=Jv(),h.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Jv(){return new Fr((r=>g0(r)),p0)}function Ew(r){r.Ca.forEach((t=>{t.next()}))}var Wv,e_;(e_=Wv||(Wv={})).Ma="default",e_.Cache="cache";const Tw="SyncEngine";class Sw{constructor(t,i,a,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>g0(g)),p0),this.Iu=new Map,this.Eu=new Set,this.du=new hn(Ae.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bw(r,t,i){const a=Cw(r);try{const o=await(function(d,g){const _=et(d),v=lt.now(),C=g.reduce(((Q,ee)=>Q.add(ee.key)),Zt());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let ee=jc(),re=Zt();return _.Ns.getEntries(Q,C).next((Z=>{ee=Z,ee.forEach(((W,se)=>{se.isValidDocument()||(re=re.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,ee))).next((Z=>{w=Z;const W=[];for(const se of g){const he=oA(se,w.get(se.key).overlayedDocument);he!=null&&W.push(new Qr(se.key,he,o0(he.value.mapValue),Ji.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,W,g)})).next((Z=>{V=Z;const W=Z.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(Q,Z.batchId,W)}))})).then((()=>({batchId:V.batchId,changes:v0(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new hn(qe)),v=v.insert(g,_),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await th(a,o.changes),await eh(a.remoteStore)}catch(o){const h=L0(o,"Failed to persist write");i.reject(h)}}function t_(r,t,i){const a=et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=et(d);_.onlineState=g;let v=!1;_.queries.forEach(((C,w)=>{for(const V of w.Sa)V.va(g)&&(v=!0)})),v&&Ew(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Aw(r,t){const i=et(r),a=t.batch.batchId;try{const o=await ZA(i.localStore,t);z0(i,a,null),P0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await th(i,o)}catch(o){await sm(o)}}async function ww(r,t,i){const a=et(r);try{const o=await(function(d,g){const _=et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let C;return _.mutationQueue.lookupMutationBatch(v,g).next((w=>(ht(w!==null,37113),C=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,C,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C))).next((()=>_.localDocuments.getDocuments(v,C)))}))})(a.localStore,t);z0(a,t,i),P0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await th(a,o)}catch(o){await sm(o)}}function P0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function z0(r,t,i){const a=et(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}async function th(r,t,i){const a=et(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const C=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){o.push(v);const C=vm.As(_.targetId,v);h.push(C)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,v){const C=et(_);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(v,(V=>$.forEach(V.Es,(Q=>C.persistence.referenceDelegate.addReference(w,V.targetId,Q))).next((()=>$.forEach(V.ds,(Q=>C.persistence.referenceDelegate.removeReference(w,V.targetId,Q)))))))))}catch(w){if(!Ro(w))throw w;ue(KA,"Failed to update sequence numbers: "+w)}for(const w of v){const V=w.targetId;if(!w.fromCache){const Q=C.Ms.get(V),ee=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(ee);C.Ms=C.Ms.insert(V,re)}}})(a.localStore,h))}async function xw(r,t){const i=et(r);if(!i.currentUser.isEqual(t)){ue(Tw,"User change. New user:",t.toKey());const a=await O0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((_=>{_.reject(new fe(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await th(i,a.Ls)}}function Cw(r){const t=et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Aw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ww.bind(null,t),t}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return $A(this.persistence,new YA,t.initialUser,this.serializer)}Cu(t){return new D0(ym.mi,this.serializer)}Du(t){return new ew}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Rw extends Pc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ht(this.persistence.referenceDelegate instanceof Lc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new OA(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new D0((a=>Lc.mi(a,i)),this.serializer)}}class Gd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>t_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xw.bind(null,this.syncEngine),await vw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _w})()}createDatastore(t){const i=Jc(t.databaseInfo.databaseId),a=(function(h){return new rw(h)})(t.databaseInfo);return(function(h,d,g,_){return new uw(h,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,h,d,g){return new hw(a,o,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>t_(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new tw})())}createSyncEngine(t,i){return(function(o,h,d,g,_,v,C){const w=new Sw(o,h,d,g,_,v);return C&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=et(i);ue(No,"RemoteStore shutting down."),a.Ea.add(5),await Do(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="FirestoreClient";class Iw{constructor(t,i,a,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ue(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=L0(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Sd(r,t){r.asyncQueue.verifyOperationInProgress(),ue(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await O0(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function n_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Nw(r);ue(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Zv(t.remoteStore,o))),r._onlineComponents=t}async function Nw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(er,"Using user provided OfflineComponentProvider");try{await Sd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Kc("Error using user provided cache. Falling back to memory cache: "+i),await Sd(r,new Pc)}}else ue(er,"Using default OfflineComponentProvider"),await Sd(r,new Rw(void 0));return r._offlineComponents}async function Dw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(er,"Using user provided OnlineComponentProvider"),await n_(r,r._uninitializedComponentsProvider._online)):(ue(er,"Using default OnlineComponentProvider"),await n_(r,new Gd))),r._onlineComponents}function Ow(r){return Dw(r).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firestore.googleapis.com",s_=!0;class r_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q0,this.ssl=s_}else this.host=t.host,this.ssl=t.ssl??s_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=N0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NA)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new o1;switch(a.type){case"firstParty":return new f1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=i_.get(i);a&&(ue("ComponentProvider","Removing Datastore"),i_.delete(i),a.terminate())})(this),Promise.resolve()}}function Mw(r,t,i,a={}){r=kd(r,nh);const o=Za(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(U_(`https://${g}`),L_("Firestore",!0)),h.host!==q0&&h.host!==g&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:o,emulatorOptions:a};if(!Lr(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,C;if(typeof a.mockUserToken=="string")v=a.mockUserToken,C=$t.MOCK_USER;else{v=VS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new $t(w)}r._authCredentials=new u1(new Z_(v,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Em(this.firestore,t,this._query)}}class Qt{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qt(this.firestore,t,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Co(i,Qt._jsonSchema))return new Qt(t,a||null,new Ae(ot.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:xt("string",Qt._jsonSchemaVersion),referencePath:xt("string")};class Ks extends Em{constructor(t,i,a){super(t,i,F1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qt(this.firestore,null,new Ae(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function kw(r,t,...i){if(r=Wn(r),J_("collection","path",t),r instanceof nh){const a=ot.fromString(t,...i);return Cv(a),new Ks(r,null,a)}{if(!(r instanceof Qt||r instanceof Ks))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return Cv(a),new Ks(r.firestore,null,a)}}function Vw(r,t,...i){if(r=Wn(r),arguments.length===1&&(t=nm.newId()),J_("doc","path",t),r instanceof nh){const a=ot.fromString(t,...i);return xv(a),new Qt(r,null,new Ae(a))}{if(!(r instanceof Qt||r instanceof Ks))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return xv(a),new Qt(r.firestore,r instanceof Ks?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="AsyncQueue";class l_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M0(this,"async_queue_retry"),this._c=()=>{const a=Td();a&&ue(a_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ue(a_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",o_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=_m.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:o_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class H0 extends nh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new l_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l_(t),this._firestoreClient=void 0,await t}}}function jw(r,t){const i=typeof r=="object"?r:q_(),a=typeof r=="string"?r:Oc,o=Wd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=MS("firestore");h&&Mw(o,...h)}return o}function Uw(r){if(r._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Lw(r),r._firestoreClient}function Lw(r){const t=r._freezeSettings(),i=(function(o,h,d,g){return new N1(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,B0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Iw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(xi.fromBase64String(t))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(xi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Co(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:xt("string",$n._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(Co(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:xt("string",Wi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Co(t,es._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new es(t.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:xt("string",es._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=/^__.*__$/;class zw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Io(t,this.data,i,this.fieldTransforms)}}function G0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class bm{constructor(t,i,a,o,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return zc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(G0(this.Ac)&&Pw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Jc(t)}Cc(t,i,a,o=!1){return new bm({Ac:t,methodName:i,Dc:a,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qw(r){const t=r._freezeSettings(),i=Jc(r._databaseId);return new Bw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function Hw(r,t,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,i,o);K0("Data must be an object, but it was:",d,a);const g=Q0(a,d);let _,v;if(h.merge)_=new Zn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const C=[];for(const w of h.mergeFields){const V=Gw(t,w,i);if(!d.contains(V))throw new fe(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Qw(C,V)||C.push(V)}_=new Zn(C),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new zw(new Xn(g),_,v)}class Am extends Sm{_toFieldTransform(t){return new sA(t.path,new To)}isEqual(t){return t instanceof Am}}function F0(r,t){if(Y0(r=Wn(r)))return K0("Unsupported field value:",t,r),Q0(r,t);if(r instanceof Sm)return(function(a,o){if(!G0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let _=F0(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,o){if((a=Wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=lt.fromDate(a);return{timestampValue:zd(o.serializer,h)}}if(a instanceof lt){const h=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zd(o.serializer,h)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:pA(o.serializer,a._byteString)};if(a instanceof Qt){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:R0(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof es)return(function(d,g){return{mapValue:{fields:{[a0]:{stringValue:l0},[Vd]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return mm(g.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${im(a)}`)})(r,t)}function Q0(r,t){const i={};return t0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):el(r,((a,o)=>{const h=F0(o,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Y0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Wi||r instanceof $n||r instanceof Qt||r instanceof Sm||r instanceof es)}function K0(r,t,i){if(!Y0(i)||!W_(i)){const a=im(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Gw(r,t,i){if((t=Wn(t))instanceof Tm)return t._internalPath;if(typeof t=="string")return X0(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Fw=new RegExp("[~\\*/\\[\\]]");function X0(r,t,i){if(t.search(Fw)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Tm(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function zc(r,t,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new fe(J.INVALID_ARGUMENT,g+r+_)}function Qw(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,i,a,o,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Z0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Yw extends $0{data(){return super.data()}}function Z0(r,t){return typeof t=="string"?X0(r,t):t instanceof Tm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class gc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ba extends $0{constructor(t,i,a,o,h,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Z0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ba._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:xt("string",Ba._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class bc extends Ba{data(t={}){return super.data(t)}}class go{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new bc(this._firestore,this._userDataWriter,a.key,a,new gc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const _=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,C=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),C=d.indexOf(g.doc.key)),{type:Xw(g.type),doc:_,oldIndex:v,newIndex:C}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=go._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Xw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:xt("string",go._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function $w(r,t,i){r=kd(r,Qt);const a=kd(r.firestore,H0),o=Kw(r.converter,t);return Zw(a,[Hw(qw(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ji.none())])}function Zw(r,t){return(function(a,o){const h=new jr;return a.asyncQueue.enqueueAndForget((async()=>bw(await Ow(a),o,h))),h.promise})(Uw(r),t)}function Jw(){return new Am("serverTimestamp")}(function(t,i=!0){(function(o){Wa=o})(Ja),Fa(new Pr("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new H0(new c1(a.getProvider("auth-internal")),new d1(d,a.getProvider("app-check-internal")),(function(v,C){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(v.options.projectId,C)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Ys(Sv,bv,t),Ys(Sv,bv,"esm2020")})();var Ww="firebase",ex="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(Ww,ex,"app");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tx=J0,W0=new wo("auth","Firebase",J0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Zd("@firebase/auth");function nx(r,...t){Bc.logLevel<=Oe.WARN&&Bc.warn(`Auth (${Ja}): ${r}`,...t)}function Ac(r,...t){Bc.logLevel<=Oe.ERROR&&Bc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,...t){throw wm(r,...t)}function Ai(r,...t){return wm(r,...t)}function eE(r,t,i){const a={...tx(),[t]:i};return new wo("auth","Firebase",a).create(t,{appName:r.name})}function Xs(r){return eE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return W0.create(r,...t)}function pe(r,t,...i){if(!r)throw wm(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function ss(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){return typeof self<"u"&&self.location?.href||""}function ix(){return u_()==="http:"||u_()==="https:"}function u_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ix()||BS()||"connection"in navigator)?navigator.onLine:!0}function rx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ss(i>t,"Short delay should be less than long delay!"),this.isMobile=LS()||qS()}get(){return sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ox=new Mo(3e4,6e4);function ih(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function tl(r,t,i,a,o={}){return nE(r,o,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=xo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:_,...h};return zS()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(v.credentials="include"),tE.fetch()(await sE(r,r.config.apiHost,i,g),v)})}async function nE(r,t,i){r._canInitEmulator=!1;const a={...ax,...t};try{const o=new ux(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw yc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw yc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw yc(r,"user-disabled",d);const C=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw eE(r,C,v);is(r,C)}}catch(o){if(o instanceof rs)throw o;is(r,"network-request-failed",{message:String(o)})}}async function iE(r,t,i,a,o={}){const h=await tl(r,t,i,a,o);return"mfaPendingCredential"in h&&is(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function sE(r,t,i,a){const o=`${t}${i}?${a}`,h=r,d=h.config.emulator?xm(r.config,o):`${r.config.apiScheme}://${o}`;return lx.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),ox.get())})}}function yc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ai(r,t,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(r,t){return tl(r,"POST","/v1/accounts:delete",t)}async function qc(r,t){return tl(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hx(r,t=!1){const i=Wn(r),a=await i.getIdToken(t),o=Cm(a);pe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:yo(bd(o.auth_time)),issuedAtTime:yo(bd(o.iat)),expirationTime:yo(bd(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function bd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=M_(i);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c_(r){const t=Cm(r);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof rs&&fx(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function fx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Ao(r,qc(t,{idToken:i}));pe(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?rE(o.providerUserInfo):[],d=px(r.providerData,h),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,v=g?_:!1,C={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,C)}async function mx(r){const t=Wn(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function px(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function rE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(r,t){const i=await nE(r,{},async()=>{const a=xo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await sE(r,o,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),tE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function yx(r,t){return tl(r,"POST","/v2/accounts:revokeToken",ih(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pe(t.length!==0,"internal-error");const i=c_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await gx(t,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new qa;return a&&(pe(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(pe(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(pe(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(r,t){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ao(this,this.stsTokenManager.getToken(this.auth,t));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return hx(this,t)}reload(){return mx(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await Ao(this,cx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,C=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:Q,providerData:ee,stsTokenManager:re}=i;pe(w&&re,t,"internal-error");const Z=qa.fromJSON(this.name,re);pe(typeof w=="string",t,"internal-error"),Ps(a,t.name),Ps(o,t.name),pe(typeof V=="boolean",t,"internal-error"),pe(typeof Q=="boolean",t,"internal-error"),Ps(h,t.name),Ps(d,t.name),Ps(g,t.name),Ps(_,t.name),Ps(v,t.name),Ps(C,t.name);const W=new Jn({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:v,lastLoginAt:C});return ee&&Array.isArray(ee)&&(W.providerData=ee.map(se=>({...se}))),_&&(W._redirectEventId=_),W}static async _fromIdTokenResponse(t,i,a=!1){const o=new qa;o.updateFromServerResponse(i);const h=new Jn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Hc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];pe(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?rE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,g=new qa;g.updateFromIdToken(a);const _=new Jn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function Zi(r){ss(r instanceof Function,"Expected a class definition");let t=h_.get(r);return t?(ss(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,h_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}aE.type="NONE";const f_=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,h),this.fullPersistenceKey=wc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Zi(f_),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Zi(f_);const d=wc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const C=await v._get(d);if(C){let w;if(typeof C=="string"){const V=await qc(t,{idToken:C}).catch(()=>{});if(!V)break;w=await Jn._fromGetAccountInfoResponse(t,V,C)}else w=Jn._fromJSON(t,C);v!==h&&(g=w),h=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ha(h,t,a):(h=_[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ha(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fE(t))return"Blackberry";if(dE(t))return"Webos";if(oE(t))return"Safari";if((t.includes("chrome/")||uE(t))&&!t.includes("edge/"))return"Chrome";if(hE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function lE(r=Jt()){return/firefox\//i.test(r)}function oE(r=Jt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uE(r=Jt()){return/crios\//i.test(r)}function cE(r=Jt()){return/iemobile/i.test(r)}function hE(r=Jt()){return/android/i.test(r)}function fE(r=Jt()){return/blackberry/i.test(r)}function dE(r=Jt()){return/webos/i.test(r)}function Rm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vx(r=Jt()){return Rm(r)&&!!window.navigator?.standalone}function _x(){return HS()&&document.documentMode===10}function mE(r=Jt()){return Rm(r)||hE(r)||dE(r)||fE(r)||/windows phone/i.test(r)||cE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r,t=[]){let i;switch(r){case"Browser":i=d_(Jt());break;case"Worker":i=`${d_(Jt())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const _=t(h);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(r,t={}){return tl(r,"GET","/v2/passwordPolicy",ih(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=6;class bx{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Sx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new Ex(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Xs(this));const i=t?Wn(t):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Tx(this),i=new bx(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new wo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await yx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&nx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sh(r){return Wn(r)}class m_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wx(r){Im=r}function xx(r){return Im.loadJS(r)}function Cx(){return Im.gapiScript}function Rx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r,t){const i=Wd(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Lr(h,t??{}))return o;is(o,"already-initialized")}return i.initialize({options:t})}function Nx(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Dx(r,t,i){const a=sh(r);pe(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,h=gE(t),{host:d,port:g}=Ox(t),_=g===null?"":`:${g}`,v={url:`${h}//${d}${_}/`},C=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pe(Lr(v,a.config.emulator)&&Lr(C,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=C,a.settings.appVerificationDisabledForTesting=!0,Za(d)?(U_(`${h}//${d}${_}`),L_("Auth",!0)):Mx()}function gE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ox(r){const t=gE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:p_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:p_(d)}}}function p_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Mx(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return iE(r,"POST","/v1/accounts:signInWithIdp",ih(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="http://localhost";class Gr extends yE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new Gr(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:kx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xo(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends vE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends ko{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends ko{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends ko{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(r,t){return iE(r,"POST","/v1/accounts:signUp",ih(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const h=await Jn._fromIdTokenResponse(t,a,o),d=g_(a);return new tr({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=g_(a);return new tr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function g_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(r){if(Kn(r.app))return Promise.reject(Xs(r));const t=sh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new tr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Vx(t,{returnSecureToken:!0}),a=await tr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends rs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Gc(t,i,a,o)}}function _E(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,h,t,a):h})}async function Ux(r,t,i=!1){const a=await Ao(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return tr._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(r,t,i=!1){const{auth:a}=r;if(Kn(a.app))return Promise.reject(Xs(a));const o="reauthenticate";try{const h=await Ao(r,_E(a,o,t,r),i);pe(h.idToken,a,"internal-error");const d=Cm(h.idToken);pe(d,a,"internal-error");const{sub:g}=d;return pe(r.uid===g,a,"user-mismatch"),tr._forOperation(r,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&is(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(r,t,i=!1){if(Kn(r.app))return Promise.reject(Xs(r));const a="signIn",o=await _E(r,a,t),h=await tr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(h.user),h}function zx(r,t,i,a){return Wn(r).onIdTokenChanged(t,i,a)}function Bx(r,t,i){return Wn(r).beforeAuthStateChanged(t,i)}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1e3,Hx=10;class TE extends EE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);_x()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Hx):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}TE.type="LOCAL";const Gx=TE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends EE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}SE.type="SESSION";const bE=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async v=>v(i.origin,h)),_=await Fx(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((g,_)=>{const v=Nm("",20);o.port1.start();const C=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(C),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function Yx(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function Kx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){return navigator?.serviceWorker?.controller||null}function $x(){return AE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="firebaseLocalStorageDb",Zx=1,Qc="firebaseLocalStorage",xE="fbase_key";class Vo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function Jx(){const r=indexedDB.deleteDatabase(wE);return new Vo(r).toPromise()}function Yd(){const r=indexedDB.open(wE,Zx);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:xE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await Jx(),t(await Yd()))})})}async function y_(r,t,i){const a=ah(r,!0).put({[xE]:t,value:i});return new Vo(a).toPromise()}async function Wx(r,t){const i=ah(r,!1).get(t),a=await new Vo(i).toPromise();return a===void 0?null:a.value}function v_(r,t){const i=ah(r,!0).delete(t);return new Vo(i).toPromise()}const e2=800,t2=3;class CE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>t2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance($x()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kx(),!this.activeServiceWorker)return;this.sender=new Qx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yd();return await y_(t,Fc,"1"),await v_(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Wx(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=ah(o,!1).getAll();return new Vo(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CE.type="LOCAL";const n2=CE;new Mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r,t){return t?Zi(t):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends yE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function s2(r){return Px(r.auth,new Dm(r),r.bypassAuthState)}function r2(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),Lx(i,new Dm(r),r.bypassAuthState)}async function a2(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),Ux(i,new Dm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,a,o,h=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return s2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return r2;default:is(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Mo(2e3,1e4);class Pa extends RE{constructor(t,i,a,o,h){super(t,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,l2.get())};t()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="pendingRedirect",xc=new Map;class u2 extends RE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const a=await c2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(r,t){const i=d2(t),a=f2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function h2(r,t){xc.set(r._key(),t)}function f2(r){return Zi(r._redirectPersistence)}function d2(r){return wc(o2,r.config.apiKey,r.name)}async function m2(r,t,i=!1){if(Kn(r.app))return Promise.reject(Xs(r));const a=sh(r),o=i2(a,t),d=await new u2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=600*1e3;class g2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!y2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!IE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=p2&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(t))}saveEventToCache(t){this.cachedEventUids.add(__(t)),this.lastProcessedEventTime=Date.now()}}function __(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function IE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,t={}){return tl(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function T2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await v2(r);for(const i of t)try{if(S2(i))return}catch{}is(r,"unauthorized-domain")}function S2(r){const t=Fd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!E2.test(i))return!1;if(_2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Mo(3e4,6e4);function E_(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function A2(r){return new Promise((t,i)=>{function a(){E_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E_(),i(Ai(r,"network-request-failed"))},timeout:b2.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const o=Rx("iframefcb");return wi()[o]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},xx(`${Cx()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function w2(r){return Cc=Cc||A2(r),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Mo(5e3,15e3),C2="__/auth/iframe",R2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(r){const t=r.config;pe(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?xm(t,R2):`https://${r.config.authDomain}/${C2}`,a={apiKey:t.apiKey,appName:r.name,v:Ja},o=N2.get(r.config.apiHost);o&&(a.eid=o);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${xo(a).slice(1)}`}async function O2(r){const t=await w2(r),i=wi().gapi;return pe(i,r,"internal-error"),t.open({where:document.body,url:D2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),g=wi().setTimeout(()=>{h(d)},x2.get());function _(){wi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k2=500,V2=600,j2="_blank",U2="http://localhost";class T_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(r,t,i,a=k2,o=V2){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...M2,width:a.toString(),height:o.toString(),top:h,left:d},v=Jt().toLowerCase();i&&(g=uE(v)?j2:i),lE(v)&&(t=t||U2,_.scrollbars="yes");const C=Object.entries(_).reduce((V,[Q,ee])=>`${V}${Q}=${ee},`,"");if(vx(v)&&g!=="_self")return P2(t||"",g),new T_(null);const w=window.open(t||"",g,C);pe(w,r,"popup-blocked");try{w.focus()}catch{}return new T_(w)}function P2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__/auth/handler",B2="emulator/auth/handler",q2=encodeURIComponent("fac");async function S_(r,t,i,a,o,h){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ja,eventId:o};if(t instanceof vE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",$S(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,w]of Object.entries({}))d[C]=w}if(t instanceof ko){const C=t.getScopes().filter(w=>w!=="");C.length>0&&(d.scopes=C.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const C of Object.keys(g))g[C]===void 0&&delete g[C];const _=await r._getAppCheckToken(),v=_?`#${q2}=${encodeURIComponent(_)}`:"";return`${H2(r)}?${xo(g).slice(1)}${v}`}function H2({config:r}){return r.emulator?xm(r,B2):`https://${r.authDomain}/${z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=m2,this._overrideRedirectResult=h2}async _openPopup(t,i,a,o){ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await S_(t,i,a,Fd(),o);return L2(t,h,Nm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const h=await S_(t,i,a,Fd(),o);return Yx(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(ss(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await O2(t),a=new g2(t);return i.register("authEvent",o=>(pe(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ad,{type:Ad},o=>{const h=o?.[0]?.[Ad];h!==void 0&&i(!!h),is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=T2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return mE()||oE()||Rm()}}const F2=G2;var b_="@firebase/auth",A_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(r){Fa(new Pr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(r)},v=new Ax(a,o,h,_);return Nx(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Fa(new Pr("auth-internal",t=>{const i=sh(t.getProvider("auth").getImmediate());return(a=>new Q2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(b_,A_,Y2(r)),Ys(b_,A_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=300,$2=j_("authIdTokenMaxAge")||X2;let w_=null;const Z2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>$2)return;const o=i?.token;w_!==o&&(w_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function J2(r=q_()){const t=Wd(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ix(r,{popupRedirectResolver:F2,persistence:[n2,Gx,bE]}),a=j_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Z2(h.toString());Bx(i,d,()=>d(i.currentUser)),zx(i,g=>d(g))}}const o=k_("auth");return o&&Dx(i,`http://${o}`),i}function W2(){return document.getElementsByTagName("head")?.[0]??document}wx({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const h=Ai("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",W2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");const eC={apiKey:"AIzaSyD3uhzlt8xEAreucraxJS3nsx__a4d-tq8",authDomain:"wtp-survey-production.firebaseapp.com",projectId:"wtp-survey-production",storageBucket:"wtp-survey-production.firebasestorage.app",messagingSenderId:"1050941271087",appId:"1:1050941271087:web:dd807bc5973a6c0f57aada"},NE=B_(eC),tC=jw(NE),nC=J2(NE);jx(nC).catch(r=>{console.error("Anonymous auth error:",r)});const Kd="v0.61",vc=()=>{let r=localStorage.getItem("deviceId");return r||(r=`device-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",r)),r},x_=async r=>{try{const t=Vw(kw(tC,"surveys"),r.id),i={...r.surveyData,surveyId:r.id,deviceId:r.deviceId,syncedAt:Jw(),version:Kd,startedAt:new Date(r.surveyData.startedAt),completedAt:r.surveyData.completedAt?new Date(r.surveyData.completedAt):null};await $w(t,i),console.log(`Successfully synced survey ${r.id} to Firebase`)}catch(t){throw console.error(`Error syncing survey ${r.id}:`,t),t}},qt=[];for(let r=0;r<256;++r)qt.push((r+256).toString(16).slice(1));function iC(r,t=0){return(qt[r[t+0]]+qt[r[t+1]]+qt[r[t+2]]+qt[r[t+3]]+"-"+qt[r[t+4]]+qt[r[t+5]]+"-"+qt[r[t+6]]+qt[r[t+7]]+"-"+qt[r[t+8]]+qt[r[t+9]]+"-"+qt[r[t+10]]+qt[r[t+11]]+qt[r[t+12]]+qt[r[t+13]]+qt[r[t+14]]+qt[r[t+15]]).toLowerCase()}let wd;const sC=new Uint8Array(16);function rC(){if(!wd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wd=crypto.getRandomValues.bind(crypto)}return wd(sC)}const aC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C_={randomUUID:aC};function lC(r,t,i){r=r||{};const a=r.random??r.rng?.()??rC();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,iC(a)}function R_(r,t,i){return C_.randomUUID&&!r?C_.randomUUID():lC(r)}const DE=Ue.createContext(void 0),oC=r=>{const t=[...r];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},I_=()=>({participantId:"",startedAt:new Date().toISOString(),appOrder:oC(TS),tokenOrder:Math.random()<.5?"ascending":"descending",choices:[],selectedChoice:null,completedAt:null,tokenBalance:Gs,comprehensionAnswers:{tokenValue:"",rewardType:""},switchingPoints:{}}),uC=({children:r})=>{const[t,i]=Ue.useState(()=>{const b=localStorage.getItem("surveyData");return b?JSON.parse(b):I_()}),[a,o]=Ue.useState(()=>localStorage.getItem("currentSurveyId")||R_()),[h,d]=Ue.useState({pending:0,synced:0,failed:0,lastSyncAttempt:null,lastSuccessfulSync:null});Ue.useEffect(()=>{(async()=>{localStorage.setItem("surveyData",JSON.stringify(t)),localStorage.setItem("currentSurveyId",a);const A={id:a,surveyData:t,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:vc()};await Xi(()=>ov(A),void 0)})()},[t,a]),Ue.useEffect(()=>{(async()=>{const A=await Xi(()=>Mr(),[]),D=A.filter(O=>!O.synced).length,R=A.filter(O=>O.synced).length;d(O=>({...O,pending:D,synced:R}))})()},[]),Ue.useEffect(()=>{const b=async()=>{console.log("Internet connection detected, attempting auto-sync..."),await W()};return window.addEventListener("online",b),navigator.onLine&&b(),()=>window.removeEventListener("online",b)},[]);const g=b=>{i(A=>({...A,participantId:b}))},_=(b,A)=>{i(D=>({...D,comprehensionAnswers:{...D.comprehensionAnswers,[b]:A}}))},v=b=>{i(A=>{const D=A.choices.findIndex(R=>R.app===b.app&&R.tokenAmount===b.tokenAmount);if(D!==-1){const R=[...A.choices];return R[D]=b,{...A,choices:R}}else return{...A,choices:[...A.choices,b]}})},C=(b,A)=>{i(D=>({...D,choices:D.choices.filter(R=>!(R.app===b&&R.tokenAmount===A))}))},w=()=>{const b=Math.floor(Math.random()*t.choices.length),A=t.choices[b];return i(D=>({...D,selectedChoice:A})),A},V=b=>{i(A=>({...A,tokenBalance:A.tokenBalance+b}))},Q=async()=>{const b={...t,completedAt:new Date().toISOString()};i(b);const A={id:a,surveyData:b,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:vc()};await Xi(()=>ov(A),void 0),navigator.onLine&&await W()},ee=async()=>{const b=await Xi(()=>Mr(),[]),A=b.filter(R=>!R.synced).length,D=b.filter(R=>R.synced).length;d(R=>({...R,pending:A,synced:D}))},re=async()=>{const b=R_(),A=I_();i(A),o(b),localStorage.setItem("currentSurveyId",b),await ee()},Z=async()=>{const b=await Xi(()=>Mr(),[]),A={exportedAt:new Date().toISOString(),deviceId:vc(),totalSurveys:b.length,syncedSurveys:b.filter(x=>x.synced).length,pendingSurveys:b.filter(x=>!x.synced).length,surveys:b},D=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),R=URL.createObjectURL(D),O=document.createElement("a");O.href=R,O.download=`wtp-survey-export-${vc()}-${Date.now()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(R)},W=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=(await Xi(()=>Mr(),[])).filter(x=>!x.synced&&x.surveyData.completedAt);console.log(`Auto-syncing ${A.length} completed surveys...`);let D=0,R=0;for(const x of A)try{await x_(x),await uv(x.id,!0),D++}catch(ge){console.error(`Failed to sync survey ${x.id}:`,ge),R++}const O=await Xi(()=>Mr(),[]);d({pending:O.filter(x=>!x.synced).length,synced:O.filter(x=>x.synced).length,failed:R,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:D>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Auto-sync complete: ${D} succeeded, ${R} failed`)}catch(b){console.error("Auto-sync error:",b)}},se=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=await Xi(()=>Mr(),[]),D=A.filter(Ie=>Ie.surveyData.completedAt).length,R=A.filter(Ie=>!Ie.surveyData.completedAt).length;console.log(`Manual sync: ${A.length} total surveys (${D} completed, ${R} in-progress)...`);let O=0,x=0;for(const Ie of A)try{await x_(Ie),await uv(Ie.id,!0),O++}catch(G){console.error(`Failed to sync survey ${Ie.id}:`,G),x++}const ge=await Xi(()=>Mr(),[]);d({pending:ge.filter(Ie=>!Ie.synced).length,synced:ge.filter(Ie=>Ie.synced).length,failed:x,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:O>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Manual sync complete: ${O} succeeded, ${x} failed`)}catch(b){console.error("Manual sync error:",b)}},he=(b,A,D)=>{i(R=>({...R,switchingPoints:{...R.switchingPoints,[b]:{tokenAmount:A,switchedTo:D,confirmed:!1}}}))},we=b=>{i(A=>{const D=A.switchingPoints[b];return D?{...A,switchingPoints:{...A.switchingPoints,[b]:{...D,confirmed:!0}}}:A})},Je=b=>{i(A=>{const D=A.switchingPoints[b];if(!D||!D.confirmed)return A;const R=A.tokenOrder==="ascending"?[...bi].reverse():bi,O=R.findIndex(Ie=>Ie===D.tokenAmount);if(O===-1)return A;const ge=R.slice(O+1).map(Ie=>({id:`${b}-${Ie}-${Date.now()}-autofilled`,app:b,tokenAmount:Ie,selectedOption:D.switchedTo,timestamp:new Date().toISOString(),autoFilled:!0}));return{...A,choices:[...A.choices,...ge]}})},_e=b=>{i(A=>({...A,choices:A.choices.filter(D=>!(D.app===b&&D.autoFilled)),switchingPoints:{...A.switchingPoints,[b]:void 0}}))},I=b=>!!t.switchingPoints[b]?.confirmed;return E.jsx(DE.Provider,{value:{surveyData:t,currentSurveyId:a,syncStatus:h,setParticipantId:g,setComprehensionAnswer:_,addChoice:v,removeChoice:C,selectRandomChoice:w,updateTokenBalance:V,completeSurvey:Q,resetSurvey:re,setSwitchingPoint:he,confirmSwitchingPoint:we,autoFillChoices:Je,clearAutoFilledChoices:_e,hasSwitchingPoint:I,exportAllData:Z,triggerManualSync:se},children:r})},kn=()=>{const r=Ue.useContext(DE);if(!r)throw new Error("useSurvey must be used within a SurveyProvider");return r},OE=Ue.createContext(void 0),cC=({children:r})=>{const[t,i]=Ue.useState(()=>localStorage.getItem("language")||"es");Ue.useEffect(()=>{localStorage.setItem("language",t)},[t]);const a=o=>{i(o)};return E.jsx(OE.Provider,{value:{language:t,setLanguage:a},children:r})},Vt=()=>{const r=Ue.useContext(OE);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r},He=({onClick:r,children:t,variant:i="primary",disabled:a=!1,className:o="",title:h})=>{const d="px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400"};return E.jsx("button",{type:"button",onClick:r,disabled:a,className:`${d} ${g[i]} ${o}`,title:h,children:t})},hC={common:{continue:{en:"Continue",es:"Continuar"},back:{en:"Back",es:"Atrs"},tokens:{en:"Tokens",es:"Tokens"},or:{en:"or",es:"o"}},participantId:{title:{en:"Welcome to the Survey",es:"Bienvenido a la Encuesta"},description:{en:"Please enter your participant ID to begin.",es:"Por favor ingresa tu ID de participante para comenzar."},label:{en:"Participant ID",es:"ID de Participante"},placeholder:{en:"Enter your ID",es:"Ingresa tu ID"}},instructions:{title:{en:"Survey Instructions",es:"Instrucciones de la Encuesta"},paragraph1:{en:"You are going to make some choices that will give you the chance to earn real rewards.",es:"Vas a tomar algunas decisiones que te darn la oportunidad de ganar recompensas reales."},paragraph2:{en:"To get these rewards, you will receive tokens. These tokens have a value of",es:"Para obtener estas recompensas, recibirs tokens. Estos tokens tienen un valor de"},paragraph2b:{en:", and can be exchanged for",es:", y pueden ser canjeados por"},paragraph2c:{en:"the gifts brought by the surveyors",es:"los regalos que trajeron los encuestadores"},paragraph3:{en:"Please pay attention to the comprehension checks on the next screen to ensure you understand how the survey works.",es:"Por favor presta atencin a las preguntas de comprensin en la siguiente pantalla para asegurarte de que entiendes cmo funciona la encuesta."}},comprehension:{title:{en:"Comprehension Check",es:"Verificacin de Comprensin"},question1:{en:"How much is 1 token worth in COP?",es:"Cunto vale 1 token en COP?"},question2:{en:"Where can you exchange your tokens to buy things?",es:"Dnde puedes canjear tus tokens para comprar cosas?"},placeholder1:{en:"Enter amount",es:"Ingresa la cantidad"},placeholder2:{en:"Enter location",es:"Ingresa el lugar"},error:{en:"Incorrect. Please review the instructions.",es:"Incorrecto. Por favor revisa las instrucciones."}},reinstructions:{title:{en:"Let's Review the Instructions",es:"Repasemos las Instrucciones"},intro:{en:"Let's go over the key information again:",es:"Repasemos la informacin clave nuevamente:"},tokenValueLabel:{en:"Token Value:",es:"Valor del Token:"},tokenValueText:{en:"Each token is worth",es:"Cada token vale"},rewardTypeLabel:{en:"Reward Type:",es:"Tipo de Recompensa:"},rewardTypeText:{en:"You can exchange your tokens for the gifts brought by the surveyors.",es:"Puedes canjear tus tokens por los regalos que trajeron los encuestadores."},outro:{en:"Please review these details carefully. You'll have another chance to answer the comprehension questions.",es:"Por favor revisa estos detalles cuidadosamente. Tendrs otra oportunidad para responder las preguntas de comprensin."},button:{en:"Continue to Comprehension Check",es:"Continuar a la Verificacin de Comprensin"}},tokenAllocation:{title:{en:"Your Starting Tokens",es:"Tus Tokens Iniciales"},description1:{en:"You have been given",es:"Se te han dado"},description2:{en:"tokens",es:"tokens"},worth:{en:"Worth",es:"Equivalente a"},info:{en:"Your token balance is displayed in the top right corner. It will update throughout the survey as you make your choices. Whatever you have left at the end you can reimburse.",es:"Tu saldo de tokens se muestra en la esquina superior derecha. Se actualizar durante la encuesta a medida que tomes tus decisiones. Lo que te quede al final podrs cobrarlo."}},choiceInstructions1:{title:{en:"About Your Choices",es:"Acerca de tus Decisiones"},paragraph1:{en:"The choices you will make will involve limiting certain apps to 30 minutes per day on your phone.",es:"Las decisiones que tomars implicarn limitar ciertas aplicaciones a 30 minutos por da en tu telfono."},paragraph2:{en:"If you choose to set a limit, and that option is chosen, then our team will actually limit the app to 30 minutes per day on your phone for one week. So you should only select the options that you really prefer.",es:"Si eliges establecer un lmite, y esa opcin es seleccionada, entonces nuestro equipo realmente limitar la aplicacin a 30 minutos por da en tu telfono por una semana. Por lo tanto, solo debes seleccionar las opciones que realmente prefieres."},paragraph3:{en:"So you should only select the options that you really prefer.",es:"Por lo tanto, solo debes seleccionar las opciones que realmente prefieres."}},choiceInstructions2:{important:{en:"Important:",es:"Importante:"},paragraph1:{en:"You will make multiple choices, and only one of your choices will randomly be selected to be implemented.",es:"Hars mltiples decisiones, y solo una de tus decisiones ser seleccionada al azar para ser implementada."},paragraph2:{en:"This means that each question should be treated independently, and for every choice, you should give your honest answer.",es:"Esto significa que cada pregunta debe ser tratada independientemente, y para cada decisin, debes dar tu respuesta honesta."},button:{en:"Begin Choices",es:"Comenzar Decisiones"}},appIntroduction:{title:{en:"App Limiting Questions:",es:"Preguntas sobre Limitar Aplicacin:"},description:{en:"We're now going to ask you some questions to see how willing you would be to limit",es:"Ahora te haremos algunas preguntas para ver qu tan dispuesto estaras a limitar"},description2:{en:"to 30 minutes per day for 1 week on your phone.",es:"a 30 minutos por da por 1 semana en tu telfono."}},choiceQuestion:{questionOf:{en:"Question",es:"Pregunta"},of:{en:"of",es:"de"},wouldYouRather:{en:"Would you rather...",es:"Preferiras..."},receive:{en:"RECEIVE",es:"RECIBIR"},pay:{en:"PAY",es:"PAGAR"},tokens:{en:"tokens",es:"tokens"},worth:{en:"worth",es:"equivalente a"},limit:{en:"Limit",es:"Limitar"},limitDescription:{en:"to 30 min/day for 1 week",es:"a 30 min/da por 1 semana"},andNotLimit:{en:"AND NOT limit",es:"Y NO limitar"},butNotLimit:{en:"BUT NOT limit",es:"PERO NO limitar"},doNotLimit:{en:"DO NOT limit",es:"NO limitar"},maintainTokens:{en:"and maintain token balance",es:"y mantener el saldo de tokens"}},choiceComprehensionCheck:{title:{en:"Comprehension Check",es:"Verificacin de Comprensin"},confirmTokens:{en:"To confirm, you would prefer to {action} {tokens} tokens {connector} NOT limit {app}, so that you would end up with {finalBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras {action} {tokens} tokens {connector} NO limitar {app}, para que termines con {finalBalance} tokens al final del experimento?"},confirmTokensZero:{en:"To confirm, you would prefer to NOT limit {app} and maintain your token balance at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras NO limitar {app} y mantener tu saldo de tokens en {currentBalance} tokens al final del experimento?"},confirmLimit:{en:"To confirm, you would prefer to limit {app} to 30 minutes per day for a week, rather than {action} {tokens} tokens, so your token balance would remain at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, preferiras limitar {app} a 30 minutos por da por una semana, en lugar de {action} {tokens} tokens, por lo que tu saldo de tokens permanecera en {currentBalance} tokens al final del experimento?"},receive:{en:"receive",es:"recibir"},pay:{en:"pay",es:"pagar"},receiving:{en:"receiving",es:"recibir"},paying:{en:"paying",es:"pagar"},and:{en:"AND",es:"Y"},but:{en:"BUT",es:"PERO"},yes:{en:"I confirm",es:"Confirmo"},no:{en:"Go back",es:"Volver"}},choicesSummary:{title:{en:"Your Choices",es:"Tus Decisiones"},selecting:{en:"Randomly selecting one of your choices...",es:"Seleccionando aleatoriamente una de tus decisiones..."},instruction:{en:"Here are all the choices you made. Click below to randomly select one to implement.",es:"Aqu estn todas las decisiones que tomaste. Haz clic abajo para seleccionar aleatoriamente una para implementar."},selectButton:{en:"Randomly Select One Choice",es:"Seleccionar Aleatoriamente una Decisin"},selectingLabel:{en:"Selecting...",es:"Seleccionando..."},selectedMessage:{en:"has been selected!",es:"ha sido seleccionada!"},selectedDescription:{en:"This is the choice that will be implemented.",es:"Esta es la decisin que ser implementada."},continueToResults:{en:"Continue to Results",es:"Continuar a Resultados"},receive:{en:"Receive",es:"Recibir"},pay:{en:"Pay",es:"Pagar"},tokens:{en:"tokens",es:"tokens"},limit:{en:"Limit",es:"Limitar"},limitDuration:{en:"to 30 min/day for 1 week",es:"a 30 min/da por 1 semana"},choice:{en:"Choice #",es:"Decisin #"}},results:{title:{en:"Implementation Results",es:"Resultados de Implementacin"},whatWillHappen:{en:"What will happen:",es:"Qu suceder:"},limitMessage1:{en:"will be limited to 30 minutes per day on your phone for",es:"ser limitada a 30 minutos por da en tu telfono por"},limitMessage2:{en:"1 week",es:"1 semana"},limitMessage3:{en:"starting today.",es:"comenzando hoy."},limitMessage4:{en:"Our team will set the limit with a password so you cannot change it.",es:"Nuestro equipo establecer el lmite con una contrasea para que no puedas cambiarlo."},tokenMessage1:{en:"You will",es:"T"},receive:{en:"receive",es:"recibirs"},pay:{en:"pay",es:"pagars"},tokens:{en:"tokens",es:"tokens"},thisIsWorth:{en:"This is worth",es:"Esto equivale a"},willNotBeLimited:{en:"will not be limited.",es:"no ser limitada."},finalTokenBalance:{en:"Final Token Balance:",es:"Saldo Final de Tokens:"},finishSurvey:{en:"Finish Survey",es:"Finalizar Encuesta"}},thankYou:{title:{en:"Thank You!",es:"Gracias!"},completed:{en:"You have completed the survey.",es:"Has completado la encuesta."},recorded:{en:"Your responses have been recorded.",es:"Tus respuestas han sido registradas."},contactInfo:{en:"Our team will contact you about implementing your selected choice (app limit or tokens) and redeeming your tokens for the gifts.",es:"Nuestro equipo te contactar sobre la implementacin de tu decisin seleccionada (lmite de aplicacin o tokens) y el canje de tus tokens por los regalos."},participantId:{en:"Participant ID:",es:"ID de Participante:"},downloadData:{en:"Download Survey Data (for testing)",es:"Descargar Datos de la Encuesta (para pruebas)"},startNew:{en:"Start New Survey",es:"Iniciar Nueva Encuesta"}},tokenCounter:{tokens:{en:"Tokens",es:"Tokens"}},versionInfo:{refreshTitle:{en:"Force refresh and clear cache",es:"Forzar actualizacin y limpiar cach"},refreshLabel:{en:"Force refresh",es:"Forzar actualizacin"}},switchingPoint:{title:{en:"Please Confirm Your Choice",es:"Por Favor Confirma tu Decisin"},yourChoice:{en:"Your Choice:",es:"Tu Decisin:"},whatThisMeans:{en:"What This Means:",es:"Qu Significa Esto:"},choseLimitOverReceive:{en:"You chose to limit {app} rather than receive {tokenAmount} tokens (worth {value} COP).",es:"Elegiste limitar {app} en lugar de recibir {tokenAmount} tokens (equivalente a {value} COP)."},simplifiedPayExplanation:{en:"Since you were willing to pay {tokenAmount} tokens to avoid limiting {app}, we assume you would also be willing to pay less.",es:"Dado que estuviste dispuesto a pagar {tokenAmount} tokens para evitar limitar {app}, asumimos que tambin estaras dispuesto a pagar menos."},simplifiedLimitExplanation:{en:"Since you chose to limit {app} rather than pay {tokenAmount} tokens, we assume you would also choose to limit it rather than pay more.",es:"Dado que elegiste limitar {app} en lugar de pagar {tokenAmount} tokens, asumimos que tambin elegiras limitarla en lugar de pagar ms."},choseLimitOverZero:{en:"Since you chose to limit {app} rather than keep your tokens unchanged, we assume you would also choose to limit it even if you had to pay.",es:"Dado que elegiste limitar {app} en lugar de mantener tus tokens sin cambios, asumimos que tambin elegiras limitarla incluso si tuvieras que pagar."},choseZeroOverLimit:{en:"Since you chose to keep your tokens rather than limit {app}, we assume you would also be willing to pay to avoid limiting.",es:"Dado que elegiste mantener tus tokens en lugar de limitar {app}, asumimos que tambin estaras dispuesto a pagar para evitar limitar."},simplifiedReceiveExplanation:{en:"Since you chose to receive {tokenAmount} tokens rather than limit {app}, we assume you would also choose to receive less, or even pay to avoid limiting.",es:"Dado que elegiste recibir {tokenAmount} tokens en lugar de limitar {app}, asumimos que tambin elegiras recibir menos, o incluso pagar para evitar limitar."},simplifiedLimitOverReceiveExplanation:{en:"Since you chose to limit {app} rather than receive {tokenAmount} tokens, we assume you would also choose to limit it for smaller amounts or even if you had to pay.",es:"Dado que elegiste limitar {app} en lugar de recibir {tokenAmount} tokens, asumimos que tambin elegiras limitarla por cantidades menores o incluso si tuvieras que pagar."},autoFillNotice:{en:"We will automatically fill in the remaining {count} questions for {app} based on your choice.",es:"Automticamente completaremos las {count} preguntas restantes para {app} segn tu decisin."},confirmQuestion:{en:"Is this understanding correct?",es:"Es correcta esta interpretacin?"},goBack:{en:"No, Go Back",es:"No, Volver"},confirm:{en:"Yes, Continue",es:"S, Continuar"}},autoFilled:{title:{en:"Questions Completed for {app}",es:"Preguntas Completadas para {app}"},explanation:{en:"Based on your previous choice, we have automatically filled {count} remaining questions for {app}.",es:"Segn tu decisin anterior, hemos completado automticamente {count} preguntas restantes para {app}."},filledAnswers:{en:"Automatically Filled Answers:",es:"Respuestas Completadas Automticamente:"},question:{en:"Question",es:"Pregunta"},decision:{en:"Choice",es:"Decisin"},canGoBack:{en:"If you want to change your answer, you can go back to modify your choice.",es:"Si quieres cambiar tu respuesta, puedes volver atrs para modificar tu decisin."}}},z=(r,t)=>{const i=r.split(".");let a=hC;for(const o of i)if(a=a[o],!a)return r;return a[t]||a.en||r},Ri=({audioSrc:r,className:t=""})=>{const{language:i}=Vt(),a=Ue.useRef(null),[o,h]=Ue.useState(!1);Ue.useEffect(()=>{if(i!=="es")return;const g=new Audio(r);a.current=g;const _=()=>h(!0),v=()=>h(!1),C=()=>h(!1);return g.addEventListener("play",_),g.addEventListener("pause",v),g.addEventListener("ended",C),(async()=>{try{await g.play()}catch{console.log("Autoplay blocked, waiting for user interaction")}})(),()=>{g.removeEventListener("play",_),g.removeEventListener("pause",v),g.removeEventListener("ended",C),g.pause(),g.currentTime=0,a.current=null}},[r,i]);const d=async()=>{if(a.current)try{a.current.currentTime=0,await a.current.play()}catch(g){console.error("Error playing audio:",g)}};return i!=="es"?null:E.jsx("button",{onClick:d,className:`inline-flex items-center justify-center p-2 rounded-full transition-all hover:bg-blue-50 ${o?"text-blue-600 bg-blue-50 animate-pulse":"text-gray-600 hover:text-blue-600"} ${t}`,"aria-label":"Reproducir audio",title:"Reproducir audio",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:o?E.jsx(E.Fragment,{children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})})})},fC="/wtp-survey/assets/w1-88wZTjdK.mp3",dC=({onNext:r})=>{const[t,i]=Ue.useState(""),{setParticipantId:a,resetSurvey:o}=kn(),{language:h}=Vt(),d=async()=>{t.trim()&&(await o(),a(t.trim()),r())};return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:z("participantId.title",h)}),E.jsx(Ri,{audioSrc:fC})]}),E.jsx("p",{className:"text-gray-600 mb-6 text-center",children:z("participantId.description",h)}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{htmlFor:"participantId",className:"block text-sm font-medium text-gray-700 mb-2",children:z("participantId.label",h)}),E.jsx("input",{id:"participantId",type:"text",value:t,onChange:g=>i(g.target.value),onKeyPress:g=>g.key==="Enter"&&d(),placeholder:z("participantId.placeholder",h),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),E.jsx(He,{onClick:d,disabled:!t.trim(),className:"w-full",children:z("common.continue",h)})]})})},mC="/wtp-survey/assets/w2-BPXfDvLh.mp3",pC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:z("instructions.title",i)}),E.jsx(Ri,{audioSrc:mC})]}),E.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[E.jsx("p",{children:z("instructions.paragraph1",i)}),E.jsxs("p",{children:[z("instructions.paragraph2",i)," ",E.jsxs("strong",{children:["$",ts.toLocaleString()," COP"]}),z("instructions.paragraph2b",i)," ",E.jsx("strong",{children:z("instructions.paragraph2c",i)}),"."]}),E.jsx("p",{children:z("instructions.paragraph3",i)})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:t,className:"px-6",children:z("common.back",i)}),E.jsx(He,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})},gC="/wtp-survey/assets/w3-BpX8mAHL.mp3",yC=({onNext:r,onBack:t,onFailed:i})=>{const[a,o]=Ue.useState(""),[h,d]=Ue.useState(""),[g,_]=Ue.useState(!1),{setComprehensionAnswer:v}=kn(),{language:C}=Vt(),w=ts.toString(),V=a.trim()===w,Q=h.toLowerCase().trim(),ee=Q.includes("gift")||Q.includes("gifts")||Q.includes("regalo")||Q.includes("regalos")||Q.includes("surveyor")||Q.includes("surveyors")||Q.includes("encuestador")||Q.includes("encuestadores")||Q.includes("encuestadore")||Q.includes("school shop")||Q.includes("school")||Q.includes("scool")||Q.includes("shool")||Q.includes("shop")||Q.includes("store")||Q.includes("tienda escolar")||Q.includes("tienda")||Q.includes("tiemda")||Q.includes("escolar")||Q.includes("escuela")||Q.includes("escela")||Q.includes("escuella")||Q.includes("colegio")||Q.includes("cole"),re=V&&ee,Z=()=>{re?(v("tokenValue",a),v("rewardType",h),r()):(_(!0),i&&setTimeout(()=>{i()},1500))};return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:z("comprehension.title",C)}),E.jsx(Ri,{audioSrc:gC})]}),E.jsxs("div",{className:"space-y-6 mb-8",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"tokenValue",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question1",C)}),E.jsx("input",{id:"tokenValue",type:"text",value:a,onChange:W=>{o(W.target.value),_(!1)},placeholder:z("comprehension.placeholder1",C),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${g&&!V?"border-red-500":"border-gray-300"}`}),g&&!V&&E.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",C)})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"rewardType",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question2",C)}),E.jsx("input",{id:"rewardType",type:"text",value:h,onChange:W=>{d(W.target.value),_(!1)},placeholder:z("comprehension.placeholder2",C),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${g&&!ee?"border-red-500":"border-gray-300"}`}),g&&!ee&&E.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",C)})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:t,className:"px-6",children:z("common.back",C)}),E.jsx(He,{onClick:Z,disabled:!a.trim()||!h.trim(),className:"flex-1",children:z("common.continue",C)})]})]})})},vC="/wtp-survey/assets/w4-ZMm8EW5D.mp3",_C=({onNext:r})=>{const{language:t}=Vt();return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:z("reinstructions.title",t)}),E.jsx(Ri,{audioSrc:vC})]}),E.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[E.jsx("p",{children:z("reinstructions.intro",t)}),E.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[E.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.tokenValueLabel",t)}),E.jsxs("p",{children:[z("reinstructions.tokenValueText",t)," ",E.jsxs("strong",{children:["$",ts.toLocaleString()," COP"]}),"."]})]}),E.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[E.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.rewardTypeLabel",t)}),E.jsx("p",{children:z("reinstructions.rewardTypeText",t)})]}),E.jsx("p",{children:z("reinstructions.outro",t)})]}),E.jsx(He,{onClick:r,className:"w-full",children:z("reinstructions.button",t)})]})})},Ii=()=>{const{surveyData:r}=kn(),{language:t}=Vt(),i=()=>{const a=[],o=r.tokenBalance;for(let h=0;h<o;h++)a.push(E.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white border border-blue-200"},`token-${h}`));return a};return E.jsxs("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg",children:[E.jsx("div",{className:"text-sm font-semibold",children:z("tokenCounter.tokens",t)}),E.jsx("div",{className:"text-2xl font-bold",children:r.tokenBalance}),E.jsxs("div",{className:"text-xs opacity-90",children:["$",(r.tokenBalance*ts).toLocaleString()," COP"]}),E.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 mt-2 max-w-[120px]",children:i()})]})},ME=({tokenCount:r})=>{const t=()=>{const i=[];for(let a=0;a<r;a++)i.push(E.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-600"},`token-${a}`));return i};return E.jsx("div",{className:"flex flex-col items-center gap-3 mt-4",children:E.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[280px]",children:t()})})},EC="/wtp-survey/assets/64213cfd4266a0.83197333-original-CA62P_7T.jpg",TC="/wtp-survey/assets/w5-CkomPSVb.mp3",SC=({onNext:r,onBack:t})=>{const[i,a]=Ue.useState(!1),{language:o}=Vt();return Ue.useEffect(()=>{setTimeout(()=>a(!0),500)},[]),E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[i&&E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:z("tokenAllocation.title",o)}),E.jsx(Ri,{audioSrc:TC})]}),E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-blue-100 rounded-full mb-4",children:E.jsx("span",{className:"text-5xl font-bold text-blue-600",children:Gs})}),E.jsxs("p",{className:"text-xl text-gray-700",children:[z("tokenAllocation.description1",o)," ",E.jsxs("strong",{children:[Gs," ",z("tokenAllocation.description2",o)]})]}),E.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["(",z("tokenAllocation.worth",o)," $",(Gs*ts).toLocaleString()," COP)"]}),E.jsx("div",{className:"my-6",children:E.jsx("img",{src:EC,alt:"10,000 pesos bill",className:"w-full max-w-md mx-auto rounded-lg shadow-md"})}),E.jsx(ME,{tokenCount:Gs})]}),E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:E.jsx("p",{className:"text-gray-700",children:z("tokenAllocation.info",o)})}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:t,className:"px-6",children:z("common.back",o)}),E.jsx(He,{onClick:r,className:"flex-1",children:z("common.continue",o)})]})]})})]})},bC="/wtp-survey/assets/w6-3Rs9_xvu.mp3",AC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:z("choiceInstructions1.title",i)}),E.jsx(Ri,{audioSrc:bC})]}),E.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[E.jsx("p",{children:z("choiceInstructions1.paragraph1",i)}),E.jsx("p",{children:z("choiceInstructions1.paragraph2",i)}),E.jsx("p",{className:"font-semibold text-blue-600",children:z("choiceInstructions1.paragraph3",i)})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:t,className:"px-6",children:z("common.back",i)}),E.jsx(He,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})]})},wC="/wtp-survey/assets/w7-Dofbi7ma.mp3",xC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:z("choiceInstructions2.important",i)}),E.jsx(Ri,{audioSrc:wC})]}),E.jsx("div",{className:"space-y-6 text-gray-700 text-lg leading-relaxed mb-8",children:E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[E.jsx("p",{className:"mb-3",children:z("choiceInstructions2.paragraph1",i)}),E.jsx("p",{children:z("choiceInstructions2.paragraph2",i)})]})}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:t,className:"px-6",children:z("common.back",i)}),E.jsx(He,{onClick:r,className:"flex-1",children:z("choiceInstructions2.button",i)})]})]})})]})},lh="/wtp-survey/assets/tiktok-logo-B98-VsHJ.png",oh="/wtp-survey/assets/whatsapp-logo-bigyjet4.png",CC="/wtp-survey/assets/w8-DS0FEQ2a.mp3",N_=({app:r,onNext:t,onBack:i})=>{const{language:a}=Vt(),o=r==="TikTok"?lh:oh;return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex flex-col items-center mb-8",children:[E.jsx("img",{src:o,alt:`${r} logo`,className:"w-24 h-24 mb-6 object-contain"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:[z("appIntroduction.title",a)," ",r]}),E.jsx(Ri,{audioSrc:CC})]})]}),E.jsx("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:E.jsxs("p",{className:"text-center",children:[z("appIntroduction.description",a)," ",r," ",z("appIntroduction.description2",a)]})}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:i,className:"px-6",children:z("common.back",a)}),E.jsx(He,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},RC=({tokenAmount:r})=>{const t=()=>{const o=[],h=[],d=[];if(r<0){const g=Gs+r,_=Math.abs(r);for(let v=0;v<g;v++)h.push(E.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${v}`));for(let v=0;v<_;v++)h.push(E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 border border-red-600"},`red-${v}`));o.push(E.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}else if(r>0){for(let g=0;g<Gs;g++)h.push(E.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${g}`));for(let g=0;g<r;g++)d.push(E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 border border-green-600"},`green-${g}`));o.push(E.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1")),o.push(E.jsx("div",{className:"flex gap-1 justify-center",children:d},"row-2"))}else{for(let g=0;g<Gs;g++)h.push(E.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${g}`));o.push(E.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}return o},i=()=>r<0?"text-red-600":r>0?"text-green-600":"text-gray-600",a=()=>r<0?`${r}`:r>0?`+${r}`:"0";return E.jsxs("div",{className:"flex flex-col items-center gap-2 mt-3",children:[E.jsx("div",{className:"flex flex-col gap-1",children:t()}),E.jsx("div",{className:`text-sm font-bold ${i()}`,children:a()})]})},IC=({app:r,tokenAmount:t,questionNumber:i,totalQuestions:a,onNext:o,onSwitchingPointDetected:h,onBack:d})=>{const{language:g}=Vt(),[_,v]=Ue.useState(null),{addChoice:C,surveyData:w,setSwitchingPoint:V,clearAutoFilledChoices:Q}=kn();Ue.useEffect(()=>{v(null)},[r,t]);const ee=_e=>{const I=w.choices.filter(ge=>ge.app===r&&!ge.autoFilled&&ge.tokenAmount!==t),A=(w.tokenOrder==="ascending"?[...bi].reverse():bi)[0],D=I.length===0&&Math.abs(t-A)<.01;if(console.log("[SWITCHING POINT DEBUG]",{app:r,tokenAmount:t,currentChoice:_e,tokenOrder:w.tokenOrder,firstTokenAmount:A,isFirstTokenForApp:D,previousChoicesCount:I.length,previousChoices:I.map(ge=>({token:ge.tokenAmount,choice:ge.selectedOption}))}),I.length===0){if(w.tokenOrder==="descending"){const ge=_e==="limit";return console.log("[FIRST CHOICE - DESCENDING]",{currentChoice:_e,isSwitch:ge}),ge}if(w.tokenOrder==="ascending"){const ge=_e==="tokens";return console.log("[FIRST CHOICE - ASCENDING]",{currentChoice:_e,isSwitch:ge}),ge}return console.error("[SWITCHING POINT ERROR] Invalid tokenOrder:",w.tokenOrder),!1}if(!I.every(ge=>ge.selectedOption===I[0].selectedOption))return console.log("[SUBSEQUENT CHOICE] Inconsistent previous choices, no switch detected"),!1;const O=I[0].selectedOption,x=O!==_e;return console.log("[SUBSEQUENT CHOICE]",{previousOption:O,currentChoice:_e,isSwitch:x,tokenOrder:w.tokenOrder}),x},re=_e=>{const I=w.switchingPoints[r];if(!I||!I.confirmed)return!1;const b=w.tokenOrder==="ascending"?[...bi].reverse():bi,A=b.findIndex(O=>O===t),D=b.findIndex(O=>O===I.tokenAmount);if(A>=D)return!1;const R=w.choices.filter(O=>O.app===r&&!O.autoFilled&&O.tokenAmount!==t&&b.findIndex(x=>x===O.tokenAmount)<D);if(R.length>0){const O=R[0].selectedOption;if(_e!==O)return!0}return!1},Z=()=>{if(_){re(_)&&Q(r);const I=ee(_);C({id:`${r}-${t}-${Date.now()}`,app:r,tokenAmount:t,selectedOption:_,timestamp:new Date().toISOString()}),I?(V(r,t,_),h()):o()}},W=t>0?`${z("choiceQuestion.receive",g)} ${t} ${z("choiceQuestion.tokens",g)}`:t<0?`${z("choiceQuestion.pay",g)} ${Math.abs(t)} ${z("choiceQuestion.tokens",g)}`:`${z("choiceQuestion.doNotLimit",g)} ${r}`,se=t>0?`${z("choiceQuestion.andNotLimit",g)} ${r}`:t<0?`${z("choiceQuestion.butNotLimit",g)} ${r}`:z("choiceQuestion.maintainTokens",g),he=t*ts,we=t!==0?`(${z("choiceQuestion.worth",g)} $${Math.abs(he).toLocaleString()} COP)`:"",Je=r==="WhatsApp"?oh:lh;return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"text-sm font-semibold text-gray-500 mb-2",children:[z("choiceQuestion.questionOf",g)," ",i," ",z("choiceQuestion.of",g)," ",a]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i/a*100}%`}})})]}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:z("choiceQuestion.wouldYouRather",g)}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[E.jsx("button",{onClick:()=>v("tokens"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${_==="tokens"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl mb-2",children:""}),E.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:W}),E.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:se}),E.jsx("div",{className:"text-sm text-gray-600",children:we}),E.jsx(RC,{tokenAmount:t})]})}),E.jsx("button",{onClick:()=>v("limit"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${_==="limit"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"mb-2 flex justify-center",children:E.jsx("img",{src:Je,alt:r,className:"w-16 h-16"})}),E.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-2",children:[z("choiceQuestion.limit",g)," ",r]}),E.jsx("div",{className:"text-sm text-gray-600",children:z("choiceQuestion.limitDescription",g)})]})})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:d,className:"px-6",children:z("common.back",g)}),E.jsx(He,{onClick:Z,disabled:!_,className:"flex-1",children:z("common.continue",g)})]})]})})]})},NC=({onNext:r,onBack:t})=>{const{surveyData:i}=kn(),{language:a}=Vt(),o=i.choices[0];if(!o)return r(),null;const{app:h,tokenAmount:d,selectedOption:g}=o,_=i.tokenBalance+d;let v;if(g==="tokens")if(d===0)v=z("choiceComprehensionCheck.confirmTokensZero",a).replace("{app}",h).replace("{currentBalance}",i.tokenBalance.toString());else{const V=d>0?z("choiceComprehensionCheck.receive",a):z("choiceComprehensionCheck.pay",a),Q=d>0?z("choiceComprehensionCheck.and",a):z("choiceComprehensionCheck.but",a),ee=Math.abs(d);v=z("choiceComprehensionCheck.confirmTokens",a).replace("{action}",V).replace("{tokens}",ee.toString()).replace("{connector}",Q).replace("{finalBalance}",_.toString()).replace("{app}",h)}else{const V=d>=0?z("choiceComprehensionCheck.receiving",a):z("choiceComprehensionCheck.paying",a),Q=Math.abs(d);v=z("choiceComprehensionCheck.confirmLimit",a).replace("{app}",h).replace("{action}",V).replace("{tokens}",Q.toString()).replace("{currentBalance}",i.tokenBalance.toString())}const C=()=>{r()},w=()=>{t()};return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("choiceComprehensionCheck.title",a)}),E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:E.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:v})}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(He,{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.no",a)}),E.jsx(He,{onClick:C,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.yes",a)})]})]})})]})},DC=({app:r,onConfirm:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:o,confirmSwitchingPoint:h}=kn(),d=o.switchingPoints[r];if(!d)return i(),null;const{tokenAmount:g,switchedTo:_}=d,v=r==="WhatsApp"?oh:lh,C=o.tokenOrder==="ascending"?[...bi].reverse():bi,w=C.findIndex(Z=>Z===g),V=C.slice(w+1),ee=_==="limit"?g>0?z("switchingPoint.simplifiedLimitOverReceiveExplanation",a).replace("{app}",r).replace("{tokenAmount}",g.toString()):g<0?z("switchingPoint.simplifiedLimitExplanation",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(g).toString()):z("switchingPoint.choseLimitOverZero",a).replace("{app}",r):g<0?z("switchingPoint.simplifiedPayExplanation",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(g).toString()):g>0?z("switchingPoint.simplifiedReceiveExplanation",a).replace("{app}",r).replace("{tokenAmount}",g.toString()):z("switchingPoint.choseZeroOverLimit",a).replace("{app}",r),re=()=>{h(r),t()};return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsx("div",{className:"mb-6 flex justify-center",children:E.jsx("img",{src:v,alt:r,className:"w-20 h-20"})}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("switchingPoint.title",a)}),E.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[E.jsx("p",{className:"text-gray-700 mb-4",children:ee}),E.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:E.jsxs("p",{className:"text-sm text-gray-700",children:["[",z("switchingPoint.autoFillNotice",a).replace("{count}",V.length.toString()).replace("{app}",r),"]"]})})]}),E.jsx("div",{className:"mb-4",children:E.jsx("p",{className:"text-center text-gray-600",children:z("switchingPoint.confirmQuestion",a)})}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:i,className:"flex-1",children:z("switchingPoint.goBack",a)}),E.jsx(He,{onClick:re,className:"flex-1 bg-green-600 hover:bg-green-700",children:z("switchingPoint.confirm",a)})]})]})})]})},OC=({app:r,onNext:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:o}=kn(),h=o.switchingPoints[r];if(!h||!h.confirmed)return t(),null;const d=r==="WhatsApp"?oh:lh,g=o.choices.filter(_=>_.app===r&&_.autoFilled);return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsx("div",{className:"mb-6 flex justify-center",children:E.jsx("img",{src:d,alt:r,className:"w-20 h-20"})}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("autoFilled.title",a).replace("{app}",r)}),E.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:[E.jsx("p",{className:"text-lg text-gray-700 mb-4",children:z("autoFilled.explanation",a).replace("{app}",r).replace("{count}",g.length.toString())}),E.jsxs("div",{className:"bg-white rounded-lg p-4 max-h-64 overflow-y-auto",children:[E.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:z("autoFilled.filledAnswers",a)}),E.jsx("div",{className:"space-y-3",children:g.map((_,v)=>{const C=_.tokenAmount>0?`${z("choiceQuestion.receive",a).toLowerCase()} ${_.tokenAmount} ${z("choiceQuestion.tokens",a)}`:_.tokenAmount<0?`${z("choiceQuestion.pay",a).toLowerCase()} ${Math.abs(_.tokenAmount)} ${z("choiceQuestion.tokens",a)}`:`${z("choiceQuestion.doNotLimit",a).toLowerCase()} ${r}`,w=_.selectedOption==="tokens"?C:`${z("choiceQuestion.limit",a)} ${r}`,Q=`${`${z("choiceQuestion.limit",a)} ${r}`} vs ${C}`;return E.jsx("div",{className:"py-2 px-3 bg-gray-50 rounded",children:E.jsxs("div",{className:"text-sm text-gray-700",children:[E.jsxs("span",{className:"text-gray-600",children:[z("autoFilled.question",a)," ",v+1,":"]})," ",Q,"  ",z("autoFilled.decision",a),": ",E.jsx("span",{className:"font-bold text-gray-900",children:w})]})},_.id)})})]})]}),E.jsx("div",{className:"mb-6",children:E.jsx("p",{className:"text-center text-gray-600",children:z("autoFilled.canGoBack",a)})}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx(He,{onClick:i,className:"flex-1",children:z("common.back",a)}),E.jsx(He,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},MC="/wtp-survey/assets/w9-Bv8rJAAG.mp3",kC=({onNext:r})=>{const{language:t}=Vt(),[i,a]=Ue.useState(!1),[o,h]=Ue.useState(null),[d,g]=Ue.useState(-1),[_,v]=Ue.useState(!1),{surveyData:C,selectRandomChoice:w,updateTokenBalance:V}=kn(),Q=()=>{a(!0),g(0);let Z=0;const W=setInterval(()=>{Z=(Z+1)%C.choices.length,g(Z)},150);setTimeout(()=>{clearInterval(W);const se=w();se.selectedOption==="tokens"&&!_&&(V(se.tokenAmount),v(!0));const he=C.choices.findIndex(we=>we.id===se.id);g(he),h(se),a(!1)},3e3)},ee=(Z,W)=>W==="tokens"?Z.tokenAmount>=0?`${z("choicesSummary.receive",t)} ${Z.tokenAmount} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.pay",t)} ${Math.abs(Z.tokenAmount)} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.limit",t)} ${Z.app} ${z("choicesSummary.limitDuration",t)}`,re=({choice:Z,option:W})=>{const se=Z.selectedOption===W;return E.jsx("div",{className:`
        flex-1 p-3 rounded-lg border-2 transition-all
        ${se?"border-blue-500 bg-blue-50 font-semibold":"border-gray-200 bg-white"}
      `,children:E.jsxs("div",{className:"flex items-center gap-2",children:[se&&E.jsx("span",{className:"text-blue-600",children:""}),E.jsx("span",{className:se?"text-gray-900":"text-gray-600",children:ee(Z,W)})]})})};return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:z("choicesSummary.title",t)}),E.jsx(Ri,{audioSrc:MC})]}),!o&&E.jsx("p",{className:"text-center text-gray-600 mb-6",children:z(i?"choicesSummary.selecting":"choicesSummary.instruction",t)}),E.jsx("div",{className:"space-y-3 mb-8",children:C.choices.map((Z,W)=>E.jsx("div",{className:`
                p-4 rounded-lg transition-all duration-200
                ${d===W&&i?"bg-yellow-100 border-2 border-yellow-400 shadow-lg scale-105":d===W&&o?"bg-green-100 border-2 border-green-500 shadow-lg":"bg-gray-50 border border-gray-200"}
              `,children:E.jsxs("div",{className:"flex gap-3 items-center",children:[E.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:E.jsx("span",{className:"text-sm font-semibold text-gray-500",children:W+1})}),E.jsxs("div",{className:"flex-1 flex gap-3",children:[E.jsx(re,{choice:Z,option:"tokens"}),E.jsx("div",{className:"flex items-center text-gray-400",children:E.jsx("span",{children:z("common.or",t)})}),E.jsx(re,{choice:Z,option:"limit"})]})]})},Z.id))}),!i&&!o&&E.jsx(He,{onClick:Q,className:"w-full",children:z("choicesSummary.selectButton",t)}),i&&E.jsx("div",{className:"text-center",children:E.jsxs("div",{className:"inline-flex items-center gap-2 text-lg font-semibold text-gray-900",children:[E.jsx("span",{className:"animate-pulse text-3xl",children:""}),E.jsx("span",{children:z("choicesSummary.selectingLabel",t)})]})}),!i&&o&&E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"mb-4",children:E.jsx("span",{className:"text-5xl",children:""})}),E.jsxs("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:[z("choicesSummary.choice",t),d+1," ",z("choicesSummary.selectedMessage",t)]}),E.jsx("p",{className:"text-gray-600 mb-6",children:z("choicesSummary.selectedDescription",t)}),E.jsx(He,{onClick:r,className:"w-full",children:z("choicesSummary.continueToResults",t)})]})]})})]})},VC=({onNext:r})=>{const{language:t}=Vt(),{surveyData:i,completeSurvey:a}=kn(),[o,h]=xd.useState(!1);Ue.useEffect(()=>{!i.completedAt&&!o&&(h(!0),a())},[i.completedAt,a,o]);const d=i.selectedChoice;if(!d)return null;const g=d.selectedOption==="limit";return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[E.jsx("div",{className:"w-full flex justify-end mb-4",children:E.jsx(Ii,{})}),E.jsx("div",{className:"flex-1 flex items-center justify-center",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"text-6xl mb-4",children:g?"":""}),E.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:z("results.title",t)})]}),E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:z("results.whatWillHappen",t)}),g?E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{className:"text-gray-700",children:[E.jsx("strong",{children:d.app})," ",z("results.limitMessage1",t)," ",z("results.limitMessage2",t)]}),E.jsxs("p",{className:"text-gray-700",children:[z("results.limitMessage3",t)," ",z("results.limitMessage4",t)]})]}):E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{className:"text-gray-700",children:[z("results.tokenMessage1",t)," ",E.jsx("strong",{children:d.tokenAmount>=0?`${z("results.receive",t)} ${d.tokenAmount} ${z("results.tokens",t)}`:`${z("results.pay",t)} ${Math.abs(d.tokenAmount)} ${z("results.tokens",t)}`}),"."]}),E.jsxs("p",{className:"text-gray-700",children:[z("results.thisIsWorth",t)," ",E.jsxs("strong",{children:["$",Math.abs(d.tokenAmount*ts).toLocaleString()," COP"]}),"."]}),E.jsxs("p",{className:"text-gray-700",children:[d.app," ",z("results.willNotBeLimited",t)]})]})]}),E.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("results.finalTokenBalance",t)}),E.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i.tokenBalance," ",z("results.tokens",t)]}),E.jsxs("p",{className:"text-gray-600 mt-1",children:["($",(i.tokenBalance*ts).toLocaleString()," COP)"]}),E.jsx(ME,{tokenCount:i.tokenBalance})]}),E.jsx(He,{onClick:r,className:"w-full",children:z("results.finishSurvey",t)})]})})]})},jC="/wtp-survey/assets/w10-5W8Bx6AZ.mp3",UC=({onStartNewSurvey:r})=>{const{language:t}=Vt(),{surveyData:i}=kn(),a=()=>{const g=JSON.stringify(i,null,2),_=new Blob([g],{type:"application/json"}),v=URL.createObjectURL(_),C=document.createElement("a");C.href=v,C.download=`survey-${i.participantId}-${Date.now()}.json`,C.click(),URL.revokeObjectURL(v)},o=async()=>{r()},h=i.selectedChoice,d=h?.selectedOption==="limit";return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[E.jsx("div",{className:"text-6xl mb-6",children:""}),E.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[E.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:z("thankYou.title",t)}),E.jsx(Ri,{audioSrc:jC})]}),E.jsx("p",{className:"text-xl text-gray-700 mb-6",children:z("thankYou.completed",t)}),h&&E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6 text-left",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3 text-center",children:z("results.title",t)}),d?E.jsx("div",{className:"space-y-2",children:E.jsxs("p",{className:"text-gray-700",children:[E.jsx("strong",{children:h.app})," ",z("results.limitMessage1",t)," ",z("results.limitMessage2",t)]})}):E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{className:"text-gray-700",children:[z("results.tokenMessage1",t)," ",E.jsx("strong",{children:h.tokenAmount>=0?`${z("results.receive",t)} ${h.tokenAmount} ${z("results.tokens",t)}`:`${z("results.pay",t)} ${Math.abs(h.tokenAmount)} ${z("results.tokens",t)}`}),"."]}),E.jsxs("p",{className:"text-gray-700",children:[h.app," ",z("results.willNotBeLimited",t)]})]}),E.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[E.jsxs("p",{className:"text-gray-700",children:[E.jsxs("strong",{children:[z("results.finalTokenBalance",t),":"]})," ",i.tokenBalance," ",z("results.tokens",t)]}),E.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["($",(i.tokenBalance*ts).toLocaleString()," COP)"]})]})]}),E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[E.jsx("p",{className:"text-gray-700 mb-2",children:z("thankYou.recorded",t)}),E.jsx("p",{className:"text-gray-700",children:z("thankYou.contactInfo",t)})]}),E.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[z("thankYou.participantId",t)," ",i.participantId]}),E.jsx("button",{onClick:a,className:"text-blue-600 hover:text-blue-700 underline text-sm mb-6",children:z("thankYou.downloadData",t)}),E.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:E.jsx(He,{onClick:o,className:"w-full",children:z("thankYou.startNew",t)})})]})})},LC=()=>{const{language:r,setLanguage:t}=Vt();return E.jsxs("div",{className:"fixed top-4 left-4 flex items-center gap-1 text-sm bg-white rounded-lg shadow-md px-3 py-2 z-50",children:[E.jsx("button",{onClick:()=>t("es"),className:`px-2 py-1 rounded transition-colors ${r==="es"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"ES"}),E.jsx("span",{className:"text-gray-400",children:"|"}),E.jsx("button",{onClick:()=>t("en"),className:`px-2 py-1 rounded transition-colors ${r==="en"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"EN"})]})},PC=()=>{const{syncStatus:r,exportAllData:t,triggerManualSync:i}=kn(),[a,o]=Ue.useState(!1),[h,d]=Ue.useState(!1),g=navigator.onLine,_=r.synced+r.pending,v=async()=>{o(!0);try{await t(),alert("Data exported successfully! Check your downloads folder.")}catch(V){console.error("Export error:",V),alert("Failed to export data. Please try again.")}finally{o(!1)}},C=async()=>{d(!0);try{await i(),alert("Sync completed successfully!")}catch(V){console.error("Sync error:",V),alert("Sync failed. Please check internet connection and try again.")}finally{d(!1)}},w=(V=!1)=>h?"Syncing...":r.pending===0?"All Synced":V?`Sync (${r.pending})`:`Sync Now (${r.pending})`;return E.jsx("footer",{className:"bg-white border-t border-gray-200 py-3 px-4",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"flex flex-col gap-3 sm:hidden",children:[E.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),E.jsx("span",{className:"font-medium",children:g?"Online":"Offline"})]}),E.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[E.jsxs("span",{className:"text-green-600",children:[" ",r.synced]}),r.pending>0&&E.jsxs("span",{className:"text-yellow-600",children:[" ",r.pending]}),r.failed>0&&E.jsxs("span",{className:"text-red-600",children:[" ",r.failed]})]}),E.jsx("span",{className:"text-xs text-gray-400",children:Kd})]}),E.jsxs("div",{className:"flex gap-2 justify-between",children:[E.jsx(He,{onClick:C,disabled:h||!g,variant:"primary",className:"flex-1 text-sm py-2",children:w(!0)}),E.jsx(He,{onClick:v,disabled:a||_===0,variant:"secondary",className:"flex-1 text-sm py-2",children:a?"Exporting...":`Export (${_})`})]}),!g&&r.pending>0&&E.jsx("div",{className:"text-xs text-red-600 text-center",children:"Connect to internet to sync"})]}),E.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),E.jsx("span",{className:"font-medium",children:g?"Online":"Offline"})]}),E.jsx("div",{className:"h-4 w-px bg-gray-300"}),E.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[E.jsxs("span",{className:"text-green-600",children:["Synced: ",r.synced]}),E.jsxs("span",{className:"text-yellow-600",children:["Pending: ",r.pending]}),r.failed>0&&E.jsxs("span",{className:"text-red-600",children:["Failed: ",r.failed]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(He,{onClick:C,disabled:h||!g,variant:"primary",className:"text-sm",children:w(!1)}),E.jsx(He,{onClick:v,disabled:a||_===0,variant:"secondary",className:"text-sm",children:a?"Exporting...":`Export Data (${_})`})]}),E.jsx("div",{className:"text-sm text-gray-400",children:Kd})]}),!g&&r.pending>0&&E.jsx("div",{className:"hidden sm:block text-xs text-red-600 text-center mt-2",children:"Connect to internet to sync"})]})})},zC=()=>{const[r,t]=Ue.useState(()=>localStorage.getItem("currentScreen")||"participantId"),[i,a]=Ue.useState(()=>{const W=localStorage.getItem("currentChoiceIndex");return W?parseInt(W,10):0}),{surveyData:o,autoFillChoices:h,hasSwitchingPoint:d,clearAutoFilledChoices:g,removeChoice:_,resetSurvey:v}=kn();xd.useEffect(()=>{localStorage.setItem("currentScreen",r)},[r]),xd.useEffect(()=>{localStorage.setItem("currentChoiceIndex",i.toString())},[i]);const C=o.tokenOrder==="ascending"?[...bi].reverse():bi,w=o.appOrder.flatMap(W=>C.map(se=>({app:W,tokenAmount:se}))),V=()=>{switch(r){case"participantId":t("instructions");break;case"instructions":t("comprehension");break;case"comprehension":t("tokenAllocation");break;case"reinstructions":t("comprehension");break;case"tokenAllocation":t("choiceInstructions1");break;case"choiceInstructions1":t("choiceInstructions2");break;case"choiceInstructions2":t("appIntroduction1");break;case"appIntroduction1":t("choices"),a(0);break;case"appIntroduction2":t("choices"),a(6);break;case"choices":{const W=w[i].app;if(d(W)){let se=i+1;for(;se<w.length&&w[se].app===W;)se++;if(se>i+1){t("autoFilledExplanation"),a(se);break}}i===0?t("choiceComprehension"):i===5?t("appIntroduction2"):i<w.length-1?a(i+1):t("choicesSummary");break}case"choiceComprehension":a(1),t("choices");break;case"switchingPointConfirmation":{const W=w[i].app;h(W);let se=i+1;for(;se<w.length&&w[se].app===W;)se++;a(se),t("autoFilledExplanation");break}case"autoFilledExplanation":{i===6?t("appIntroduction2"):i<w.length?t("choices"):t("choicesSummary");break}case"choicesSummary":t("results");break;case"results":t("thankYou");break}},Q=()=>{t("reinstructions")},ee=()=>{t("switchingPointConfirmation")},re=async()=>{localStorage.removeItem("currentScreen"),localStorage.removeItem("currentChoiceIndex"),t("participantId"),a(0),await v()},Z=()=>{switch(r){case"instructions":t("participantId");break;case"comprehension":t("instructions");break;case"tokenAllocation":t("comprehension");break;case"choiceInstructions1":t("tokenAllocation");break;case"choiceInstructions2":t("choiceInstructions1");break;case"appIntroduction1":t("choiceInstructions2");break;case"appIntroduction2":t("choices"),a(5);break;case"choiceComprehension":a(0),t("choices");break;case"switchingPointConfirmation":{const W=w[i].app,se=w[i].tokenAmount;_(W,se),g(W),t("choices");break}case"autoFilledExplanation":{const W=w[i-1]?.app||w[0].app,se=o.switchingPoints[W];se&&_(W,se.tokenAmount),g(W);let he=0;se&&(he=w.findIndex(we=>we.app===W&&we.tokenAmount===se.tokenAmount)),he===-1&&(he=w.findIndex(we=>we.app===W)),a(he),t("choices");break}case"choices":{const W=w[i].app;if(d(W)){const se=i-1;if(se>=0&&w[se].app!==W){const he=w.findIndex(we=>we.app===W);a(he+1),t("autoFilledExplanation");break}}i===6?t("appIntroduction2"):i===1?t("choiceComprehension"):i>0?a(i-1):t("appIntroduction1");break}}};return E.jsxs(E.Fragment,{children:[r==="participantId"&&E.jsx(dC,{onNext:V}),r==="instructions"&&E.jsx(pC,{onNext:V,onBack:Z}),r==="comprehension"&&E.jsx(yC,{onNext:V,onBack:Z,onFailed:Q}),r==="reinstructions"&&E.jsx(_C,{onNext:V}),r==="tokenAllocation"&&E.jsx(SC,{onNext:V,onBack:Z}),r==="choiceInstructions1"&&E.jsx(AC,{onNext:V,onBack:Z}),r==="choiceInstructions2"&&E.jsx(xC,{onNext:V,onBack:Z}),r==="appIntroduction1"&&E.jsx(N_,{app:o.appOrder[0],onNext:V,onBack:Z}),r==="appIntroduction2"&&E.jsx(N_,{app:o.appOrder[1],onNext:V,onBack:Z}),r==="choices"&&E.jsx(IC,{app:w[i].app,tokenAmount:w[i].tokenAmount,questionNumber:i+1,totalQuestions:w.length,onNext:V,onSwitchingPointDetected:ee,onBack:Z}),r==="choiceComprehension"&&E.jsx(NC,{onNext:V,onBack:Z}),r==="switchingPointConfirmation"&&E.jsx(DC,{app:w[i].app,onConfirm:V,onGoBack:Z}),r==="autoFilledExplanation"&&E.jsx(OC,{app:w[i-1]?.app||w[0].app,onNext:V,onGoBack:Z}),r==="choicesSummary"&&E.jsx(kC,{onNext:V}),r==="results"&&E.jsx(VC,{onNext:V}),r==="thankYou"&&E.jsx(UC,{onStartNewSurvey:re})]})};function BC(){return E.jsx(cC,{children:E.jsx(uC,{children:E.jsxs("div",{className:"flex flex-col min-h-screen",children:[E.jsx("div",{className:"flex-1",children:E.jsx(zC,{})}),E.jsx(PC,{}),E.jsx(LC,{})]})})})}ES.createRoot(document.getElementById("root")).render(E.jsx(BC,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/wtp-survey/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
