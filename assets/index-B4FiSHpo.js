(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function cS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ld={exports:{}},ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function uS(){if(Zy)return ro;Zy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ro.Fragment=t,ro.jsx=i,ro.jsxs=i,ro}var Jy;function hS(){return Jy||(Jy=1,ld.exports=uS()),ld.exports}var T=hS(),od={exports:{}},ao={},cd={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function fS(){return Wy||(Wy=1,(function(r){function t(G,ne){var de=G.length;G.push(ne);e:for(;0<de;){var Ue=de-1>>>1,Fe=G[Ue];if(0<o(Fe,ne))G[Ue]=ne,G[de]=Fe,de=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],de=G.pop();if(de!==ne){G[0]=de;e:for(var Ue=0,Fe=G.length,k=Fe>>>1;Ue<k;){var K=2*(Ue+1)-1,ie=G[K],ae=K+1,ye=G[ae];if(0>o(ie,de))ae<Fe&&0>o(ye,ie)?(G[Ue]=ye,G[ae]=de,Ue=ae):(G[Ue]=ie,G[K]=de,Ue=K);else if(ae<Fe&&0>o(ye,de))G[Ue]=ye,G[ae]=de,Ue=ae;else break e}}return ne}function o(G,ne){var de=G.sortIndex-ne.sortIndex;return de!==0?de:G.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],C=1,w=null,V=3,X=!1,ee=!1,se=!1,Z=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function xe(G){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=G)a(_),ne.sortIndex=ne.expirationTime,t(v,ne);else break;ne=i(_)}}function Be(G){if(se=!1,xe(G),!ee)if(i(v)!==null)ee=!0,_e||(_e=!0,O());else{var ne=i(_);ne!==null&&Ie(Be,ne.startTime-G)}}var _e=!1,I=-1,b=5,A=-1;function D(){return Z?!0:!(r.unstable_now()-A<b)}function R(){if(Z=!1,_e){var G=r.unstable_now();A=G;var ne=!0;try{e:{ee=!1,se&&(se=!1,re(I),I=-1),X=!0;var de=V;try{t:{for(xe(G),w=i(v);w!==null&&!(w.expirationTime>G&&D());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,V=w.priorityLevel;var Fe=Ue(w.expirationTime<=G);if(G=r.unstable_now(),typeof Fe=="function"){w.callback=Fe,xe(G),ne=!0;break t}w===i(v)&&a(v),xe(G)}else a(v);w=i(v)}if(w!==null)ne=!0;else{var k=i(_);k!==null&&Ie(Be,k.startTime-G),ne=!1}}break e}finally{w=null,V=de,X=!1}ne=void 0}}finally{ne?O():_e=!1}}}var O;if(typeof ue=="function")O=function(){ue(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ge=x.port2;x.port1.onmessage=R,O=function(){ge.postMessage(null)}}else O=function(){W(R,0)};function Ie(G,ne){I=W(function(){G(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var ne=3;break;default:ne=V}var de=V;V=ne;try{return G()}finally{V=de}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=V;V=G;try{return ne()}finally{V=de}},r.unstable_scheduleCallback=function(G,ne,de){var Ue=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=de+Fe,G={id:C++,callback:ne,priorityLevel:G,startTime:de,expirationTime:Fe,sortIndex:-1},de>Ue?(G.sortIndex=de,t(_,G),i(v)===null&&G===i(_)&&(se?(re(I),I=-1):se=!0,Ie(Be,de-Ue))):(G.sortIndex=Fe,t(v,G),ee||X||(ee=!0,_e||(_e=!0,O()))),G},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(G){var ne=V;return function(){var de=V;V=ne;try{return G.apply(this,arguments)}finally{V=de}}}})(ud)),ud}var ev;function dS(){return ev||(ev=1,cd.exports=fS()),cd.exports}var hd={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function mS(){if(tv)return ve;tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function X(k){return k===null||typeof k!="object"?null:(k=V&&k[V]||k["@@iterator"],typeof k=="function"?k:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,Z={};function W(k,K,ie){this.props=k,this.context=K,this.refs=Z,this.updater=ie||ee}W.prototype.isReactComponent={},W.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function re(){}re.prototype=W.prototype;function ue(k,K,ie){this.props=k,this.context=K,this.refs=Z,this.updater=ie||ee}var xe=ue.prototype=new re;xe.constructor=ue,se(xe,W.prototype),xe.isPureReactComponent=!0;var Be=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(k,K,ie){var ae=ie.ref;return{$$typeof:r,type:k,key:K,ref:ae!==void 0?ae:null,props:ie}}function D(k,K){return A(k.type,K,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return K[ie]})}var x=/\/+/g;function ge(k,K){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):K.toString(36)}function Ie(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_e,_e):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,K,ie,ae,ye){var Se=typeof k;(Se==="undefined"||Se==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case r:case t:ke=!0;break;case C:return ke=k._init,G(ke(k._payload),K,ie,ae,ye)}}if(ke)return ye=ye(k),ke=ae===""?"."+ge(k,0):ae,Be(ye)?(ie="",ke!=null&&(ie=ke.replace(x,"$&/")+"/"),G(ye,K,ie,"",function(tr){return tr})):ye!=null&&(R(ye)&&(ye=D(ye,ie+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(x,"$&/")+"/")+ke)),K.push(ye)),1;ke=0;var Ct=ae===""?".":ae+":";if(Be(k))for(var it=0;it<k.length;it++)ae=k[it],Se=Ct+ge(ae,it),ke+=G(ae,K,ie,Se,ye);else if(it=X(k),typeof it=="function")for(k=it.call(k),it=0;!(ae=k.next()).done;)ae=ae.value,Se=Ct+ge(ae,it++),ke+=G(ae,K,ie,Se,ye);else if(Se==="object"){if(typeof k.then=="function")return G(Ie(k),K,ie,ae,ye);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(k,K,ie){if(k==null)return k;var ae=[],ye=0;return G(k,ae,"","",function(Se){return K.call(ie,Se,ye++)}),ae}function de(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Fe={map:ne,forEach:function(k,K,ie){ne(k,function(){K.apply(this,arguments)},ie)},count:function(k){var K=0;return ne(k,function(){K++}),K},toArray:function(k){return ne(k,function(K){return K})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ve.Activity=w,ve.Children=Fe,ve.Component=W,ve.Fragment=i,ve.Profiler=o,ve.PureComponent=ue,ve.StrictMode=a,ve.Suspense=v,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ve.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},ve.cache=function(k){return function(){return k.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(k,K,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=se({},k.props),ye=k.key;if(K!=null)for(Se in K.key!==void 0&&(ye=""+K.key),K)!b.call(K,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&K.ref===void 0||(ae[Se]=K[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ie;else if(1<Se){for(var ke=Array(Se),Ct=0;Ct<Se;Ct++)ke[Ct]=arguments[Ct+2];ae.children=ke}return A(k.type,ye,ae)},ve.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},ve.createElement=function(k,K,ie){var ae,ye={},Se=null;if(K!=null)for(ae in K.key!==void 0&&(Se=""+K.key),K)b.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=K[ae]);var ke=arguments.length-2;if(ke===1)ye.children=ie;else if(1<ke){for(var Ct=Array(ke),it=0;it<ke;it++)Ct[it]=arguments[it+2];ye.children=Ct}if(k&&k.defaultProps)for(ae in ke=k.defaultProps,ke)ye[ae]===void 0&&(ye[ae]=ke[ae]);return A(k,Se,ye)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(k){return{$$typeof:g,render:k}},ve.isValidElement=R,ve.lazy=function(k){return{$$typeof:C,_payload:{_status:-1,_result:k},_init:de}},ve.memo=function(k,K){return{$$typeof:_,type:k,compare:K===void 0?null:K}},ve.startTransition=function(k){var K=I.T,ie={};I.T=ie;try{var ae=k(),ye=I.S;ye!==null&&ye(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_e,Ue)}catch(Se){Ue(Se)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),I.T=K}},ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ve.use=function(k){return I.H.use(k)},ve.useActionState=function(k,K,ie){return I.H.useActionState(k,K,ie)},ve.useCallback=function(k,K){return I.H.useCallback(k,K)},ve.useContext=function(k){return I.H.useContext(k)},ve.useDebugValue=function(){},ve.useDeferredValue=function(k,K){return I.H.useDeferredValue(k,K)},ve.useEffect=function(k,K){return I.H.useEffect(k,K)},ve.useEffectEvent=function(k){return I.H.useEffectEvent(k)},ve.useId=function(){return I.H.useId()},ve.useImperativeHandle=function(k,K,ie){return I.H.useImperativeHandle(k,K,ie)},ve.useInsertionEffect=function(k,K){return I.H.useInsertionEffect(k,K)},ve.useLayoutEffect=function(k,K){return I.H.useLayoutEffect(k,K)},ve.useMemo=function(k,K){return I.H.useMemo(k,K)},ve.useOptimistic=function(k,K){return I.H.useOptimistic(k,K)},ve.useReducer=function(k,K,ie){return I.H.useReducer(k,K,ie)},ve.useRef=function(k){return I.H.useRef(k)},ve.useState=function(k){return I.H.useState(k)},ve.useSyncExternalStore=function(k,K,ie){return I.H.useSyncExternalStore(k,K,ie)},ve.useTransition=function(){return I.H.useTransition()},ve.version="19.2.0",ve}var nv;function Kd(){return nv||(nv=1,hd.exports=mS()),hd.exports}var fd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function pS(){if(iv)return Kt;iv=1;var r=Kd();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)_+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:C}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(v,_){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,C)},Kt.flushSync=function(v){var _=d.T,C=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=C,a.d.f()}},Kt.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Kt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Kt.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var C=_.as,w=g(C,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;C==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:X}):C==="script"&&a.d.X(v,{crossOrigin:w,integrity:V,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Kt.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var C=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Kt.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var C=_.as,w=g(C,_.crossOrigin);a.d.L(v,C,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Kt.preloadModule=function(v,_){if(typeof v=="string")if(_){var C=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Kt.requestFormReset=function(v){a.d.r(v)},Kt.unstable_batchedUpdates=function(v,_){return v(_)},Kt.useFormState=function(v,_,C){return d.H.useFormState(v,_,C)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var sv;function gS(){if(sv)return fd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=pS(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function yS(){if(rv)return ao;rv=1;var r=dS(),t=Kd(),i=gS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return v(u),e;if(f===l)return v(u),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=u,l=f;else{for(var p=!1,E=u.child;E;){if(E===s){p=!0,s=u,l=f;break}if(E===l){p=!0,l=u,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=u;break}if(E===l){p=!0,l=f,s=u;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case W:return"Profiler";case Z:return"StrictMode";case Be:return"Suspense";case _e:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ee:return"Portal";case ue:return e.displayName||"Context";case re:return(e._context.displayName||"Context")+".Consumer";case xe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],Fe=-1;function k(e){return{current:e}}function K(e){0>Fe||(e.current=Ue[Fe],Ue[Fe]=null,Fe--)}function ie(e,n){Fe++,Ue[Fe]=e.current,e.current=n}var ae=k(null),ye=k(null),Se=k(null),ke=k(null);function Ct(e,n){switch(ie(Se,n),ie(ye,e),ie(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ey(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ey(n),e=Ty(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ae),ie(ae,e)}function it(){K(ae),K(ye),K(Se)}function tr(e){e.memoizedState!==null&&ie(ke,e);var n=ae.current,s=Ty(n,e.type);n!==s&&(ie(ye,e),ie(ae,s))}function Qr(e){ye.current===e&&(K(ae),K(ye)),ke.current===e&&(K(ke),to._currentValue=de)}var Yr,Kr;function ti(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Kr}var tl=!1;function nr(e,n){if(!e||tl)return"";tl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),P=E.split(`
`);for(u=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;if(l===N.length||u===P.length)for(l=N.length-1,u=P.length-1;1<=l&&0<=u&&N[l]!==P[u];)u--;for(;1<=l&&0<=u;l--,u--)if(N[l]!==P[u]){if(l!==1||u!==1)do if(l--,u--,0>u||N[l]!==P[u]){var F=`
`+N[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=u);break}}}finally{tl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function nl(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return ti("Activity");default:return""}}function il(e){try{var n="",s=null;do n+=nl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,oh=r.unstable_shouldYield,Vo=r.unstable_requestPaint,Wt=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,sl=r.unstable_ImmediatePriority,rl=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,ch=r.unstable_LowPriority,Uo=r.unstable_IdlePriority,jo=r.log,Lo=r.unstable_setDisableYieldValue,Un=null,Vt=null;function Tn(e){if(typeof jo=="function"&&Lo(e),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Un,e)}catch{}}var ft=Math.clz32?Math.clz32:zo,Po=Math.log,Xr=Math.LN2;function zo(e){return e>>>=0,e===0?32:31-(Po(e)/Xr|0)|0}var ni=256,sr=262144,yt=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?u=ii(l):(p&=E,p!==0?u=ii(p):s||(s=E&~e,s!==0&&(u=ii(s))))):(E=l&~f,E!==0?u=ii(E):p!==0?u=ii(p):s||(s=l&~e,s!==0&&(u=ii(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hh(e,n,s,l,u,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ft(s),Y=1<<F;E[F]=0,N[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&ar(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ft(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ft(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}function ll(e,n){var s=n&-n;return s=(s&42)!==0?1:lr(s),(s&(e.suspendedLanes|n))!==0?0:s}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qo(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Gy(e.type))}function Ln(e,n){var s=ne.p;try{return ne.p=e,n()}finally{ne.p=s}}var Pn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Pn,Nt="__reactProps$"+Pn,ai="__reactContainer$"+Pn,$r="__reactEvents$"+Pn,fh="__reactListeners$"+Pn,Ho="__reactHandles$"+Pn,Go="__reactResources$"+Pn,li="__reactMarker$"+Pn;function Zr(e){delete e[vt],delete e[Nt],delete e[$r],delete e[fh],delete e[Ho]}function oi(e){var n=e[vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ry(e);e!==null;){if(s=e[vt])return s;e=Ry(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[vt]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[Go];return n||(n=e[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[li]=!0}var ol=new Set,cl={};function ui(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(cl[e]=n,e=0;e<n.length;e++)ol.add(n[e])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function Fo(e){return gt.call(fl,e)?!0:gt.call(hl,e)?!1:ul.test(e)?fl[e]=!0:(hl[e]=!0,!1)}function Jr(e,n,s){if(Fo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Et(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qe(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=dl(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ls(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cr=/[\n"\\]/g;function nn(e){return e.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,l,u,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?ml(e,p,Dt(n)):s!=null?ml(e,p,Dt(s)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Dt(E):e.removeAttribute("name")}function Qo(e,n,s,l,u,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(e);return}s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qe(e)}function ml(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Yo(e,n,s){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Dt(s):""}function cs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Dt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qe(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Ko.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function gl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&pl(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&pl(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var yl=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,di=null;function ur(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=l[Nt]||null;if(!u)throw Error(a(90));Wr(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&or(l)}break e;case"textarea":Yo(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var na=!1;function fs(e,n,s){if(na)return e(n,s);na=!0;try{var l=e(n);return l}finally{if(na=!1,(hs!==null||di!==null)&&(qc(),hs&&(n=hs,e=di,di=hs=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Nt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(An)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{hr=!1}var mi=null,vl=null,fr=null;function _l(){if(fr)return fr;var e,n=vl,s=n.length,l,u="value"in mi?mi.value:mi.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===u[f-l];l++);return fr=u.slice(e,1<l?1-l:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function qn(){return!1}function Ut(e){function n(s,l,u,f,p){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ut(Oi),ds=w({},Oi,{view:0,detail:0}),El=Ut(ds),ms,ia,gi,sa=w({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ms=e.screenX-gi.screenX,ia=e.screenY-gi.screenY):ia=ms=0,gi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Tl=Ut(sa),mr=w({},sa,{dataTransfer:0}),$o=Ut(mr),Zo=w({},ds,{relatedTarget:0}),pr=Ut(Zo),Sl=w({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=Ut(Sl),ra=w({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wo=Ut(ra),ec=w({},Oi,{data:0}),yi=Ut(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ic[e])?!!n[e]:!1}function ps(){return sc}var en=w({},ds,{key:function(e){if(e.key){var n=tc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rc=Ut(en),ac=w({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Ut(ac),c=w({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=Ut(c),y=w({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ut(y),j=w({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ut(j),te=w({},Oi,{newState:0,oldState:0}),Ee=Ut(te),dt=[9,13,27,32],Pe=An&&"CompositionEvent"in window,st=null;An&&"documentMode"in document&&(st=document.documentMode);var wn=An&&"TextEvent"in window&&!st,vi=An&&(!Pe||st&&8<st&&11>=st),Hn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function ME(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function kE(e,n){if(la)return e==="compositionend"||!Pe&&gr(e,n)?(e=_l(),fr=vl=mi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VE[e.type]:n==="textarea"}function Om(e,n,s,l){hs?di?di.push(l):di=[l]:hs=l,n=Xc(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var bl=null,Al=null;function UE(e){my(e,0)}function lc(e){var n=fn(e);if(or(n))return e}function Mm(e,n){if(e==="change")return n}var km=!1;if(An){var dh;if(An){var mh="oninput"in document;if(!mh){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),mh=typeof Vm.oninput=="function"}dh=mh}else dh=!1;km=dh&&(!document.documentMode||9<document.documentMode)}function Um(){bl&&(bl.detachEvent("onpropertychange",jm),Al=bl=null)}function jm(e){if(e.propertyName==="value"&&lc(Al)){var n=[];Om(n,Al,e,bn(e)),fs(UE,n)}}function jE(e,n,s){e==="focusin"?(Um(),bl=n,Al=s,bl.attachEvent("onpropertychange",jm)):e==="focusout"&&Um()}function LE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(Al)}function PE(e,n){if(e==="click")return lc(n)}function zE(e,n){if(e==="input"||e==="change")return lc(n)}function BE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:BE;function wl(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!gt.call(n,u)||!mn(e[u],n[u]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,n){var s=Lm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lm(s)}}function zm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var qE=An&&"documentMode"in document&&11>=document.documentMode,oa=null,gh=null,xl=null,yh=!1;function qm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||oa==null||oa!==fi(l)||(l=oa,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&wl(xl,l)||(xl=l,l=Xc(gh,"onSelect"),0<l.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=oa)))}function yr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},vh={},Hm={};An&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(e){if(vh[e])return vh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Hm)return vh[e]=n[s];return e}var Gm=vr("animationend"),Fm=vr("animationiteration"),Qm=vr("animationstart"),HE=vr("transitionrun"),GE=vr("transitionstart"),FE=vr("transitioncancel"),Ym=vr("transitionend"),Km=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Fn(e,n){Km.set(e,n),ui(n,[e])}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ua=0,Eh=0;function cc(){for(var e=ua,n=Eh=ua=0;n<e;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var u=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}f!==0&&Xm(s,u,f)}}function uc(e,n,s,l){xn[ua++]=e,xn[ua++]=n,xn[ua++]=s,xn[ua++]=l,Eh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Th(e,n,s,l){return uc(e,n,s,l),hc(e)}function _r(e,n){return uc(e,null,null,n),hc(e)}function Xm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-ft(s),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function hc(e){if(50<Kl)throw Kl=0,Df=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function QE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,l){return new QE(e,n,s,l)}function Sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function $m(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function fc(e,n,s,l,u,f){var p=0;if(l=e,typeof e=="function")Sh(e)&&(p=1);else if(typeof e=="string")p=ZT(e,s,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=pn(31,s,n,u),e.elementType=A,e.lanes=f,e;case se:return Er(s.children,u,f,n);case Z:p=8,u|=24;break;case W:return e=pn(12,s,n,u|2),e.elementType=W,e.lanes=f,e;case Be:return e=pn(13,s,n,u),e.elementType=Be,e.lanes=f,e;case _e:return e=pn(19,s,n,u),e.elementType=_e,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:p=10;break e;case re:p=9;break e;case xe:p=11;break e;case I:p=14;break e;case b:p=16,l=null;break e}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=pn(p,s,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function Er(e,n,s,l){return e=pn(7,e,l,n),e.lanes=s,e}function bh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Zm(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Ah(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jm=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=Jm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:il(n)},Jm.set(e,n),n)}return{value:e,source:n,stack:il(n)}}var fa=[],da=0,dc=null,Cl=0,Rn=[],In=0,gs=null,_i=1,Ei="";function Vi(e,n){fa[da++]=Cl,fa[da++]=dc,dc=e,Cl=n}function Wm(e,n,s){Rn[In++]=_i,Rn[In++]=Ei,Rn[In++]=gs,gs=e;var l=_i;e=Ei;var u=32-ft(l)-1;l&=~(1<<u),s+=1;var f=32-ft(n)+u;if(30<f){var p=u-u%5;f=(l&(1<<p)-1).toString(32),l>>=p,u-=p,_i=1<<32-ft(n)+u|s<<u|l,Ei=f+e}else _i=1<<f|s<<u|l,Ei=e}function wh(e){e.return!==null&&(Vi(e,1),Wm(e,1,0))}function xh(e){for(;e===dc;)dc=fa[--da],fa[da]=null,Cl=fa[--da],fa[da]=null;for(;e===gs;)gs=Rn[--In],Rn[In]=null,Ei=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null}function ep(e,n){Rn[In++]=_i,Rn[In++]=Ei,Rn[In++]=gs,_i=n.id,Ei=n.overflow,gs=e}var jt=null,tt=null,Me=!1,ys=null,Nn=!1,Ch=Error(a(519));function vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Cn(n,e)),Ch}function tp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[vt]=e,n[Nt]=l,s){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<$l.length;s++)Re($l[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),cs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||vy(n.textContent,s)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||vs(e,!0)}function np(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:jt=jt.return}}function ma(e){if(e!==jt)return!1;if(!Me)return np(e),Me=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qf(e.type,e.memoizedProps)),s=!s),s&&tt&&vs(e),np(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=Cy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=Cy(e)}else n===27?(n=tt,Os(e.type)?(e=Zf,Zf=null,tt=e):tt=n):tt=jt?On(e.stateNode.nextSibling):null;return!0}function Tr(){tt=jt=null,Me=!1}function Rh(){var e=ys;return e!==null&&(on===null?on=e:on.push.apply(on,e),ys=null),e}function Rl(e){ys===null?ys=[e]:ys.push(e)}var Ih=k(null),Sr=null,Ui=null;function _s(e,n,s){ie(Ih,n._currentValue),n._currentValue=s}function ji(e){e._currentValue=Ih.current,K(Ih)}function Nh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Dh(e,n,s,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=u;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Nh(f.return,s,e),l||(p=null);break e}f=E.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Nh(p,s,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function pa(e,n,s,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=u.type;mn(u.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(u===ke.current){if(p=u.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}u=u.return}e!==null&&Dh(n,e,s,l),n.flags|=262144}function mc(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Sr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return ip(Sr,e)}function pc(e,n){return Sr===null&&br(e),ip(e,n)}function ip(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var YE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},KE=r.unstable_scheduleCallback,XE=r.unstable_NormalPriority,Tt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new YE,data:new Map,refCount:0}}function Il(e){e.refCount--,e.refCount===0&&KE(XE,function(){e.controller.abort()})}var Nl=null,Mh=0,ga=0,ya=null;function $E(e,n){if(Nl===null){var s=Nl=[];Mh=0,ga=jf(),ya={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mh++,n.then(sp,sp),n}function sp(){if(--Mh===0&&Nl!==null){ya!==null&&(ya.status="fulfilled");var e=Nl;Nl=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ZE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var rp=G.S;G.S=function(e,n){qg=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$E(e,n),rp!==null&&rp(e,n)};var Ar=k(null);function kh(){var e=Ar.current;return e!==null?e:We.pooledCache}function gc(e,n){n===null?ie(Ar,Ar.current):ie(Ar,n.pool)}function ap(){var e=kh();return e===null?null:{parent:Tt._currentValue,pool:e}}var va=Error(a(460)),Vh=Error(a(474)),yc=Error(a(542)),vc={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function op(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw xr=n,va}}function wr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xr=s,va):s}}var xr=null;function cp(){if(xr===null)throw Error(a(459));var e=xr;return xr=null,e}function up(e){if(e===va||e===yc)throw Error(a(483))}var _a=null,Dl=0;function _c(e){var n=Dl;return Dl+=1,_a===null&&(_a=[]),op(_a,e,n)}function Ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ec(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){function n(U,M){if(e){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function u(U,M){return U=ki(U,M),U.index=0,U.sibling=null,U}function f(U,M,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,L,Q){return M===null||M.tag!==6?(M=bh(L,U.mode,Q),M.return=U,M):(M=u(M,L),M.return=U,M)}function N(U,M,L,Q){var he=L.type;return he===se?F(U,M,L.props.children,Q,L.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&wr(he)===M.type)?(M=u(M,L.props),Ol(M,L),M.return=U,M):(M=fc(L.type,L.key,L.props,null,U.mode,Q),Ol(M,L),M.return=U,M)}function P(U,M,L,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Ah(L,U.mode,Q),M.return=U,M):(M=u(M,L.children||[]),M.return=U,M)}function F(U,M,L,Q,he){return M===null||M.tag!==7?(M=Er(L,U.mode,Q,he),M.return=U,M):(M=u(M,L),M.return=U,M)}function Y(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=bh(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case X:return L=fc(M.type,M.key,M.props,null,U.mode,L),Ol(L,M),L.return=U,L;case ee:return M=Ah(M,U.mode,L),M.return=U,M;case b:return M=wr(M),Y(U,M,L)}if(Ie(M)||O(M))return M=Er(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return Y(U,_c(M),L);if(M.$$typeof===ue)return Y(U,pc(U,M),L);Ec(U,M)}return null}function B(U,M,L,Q){var he=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:E(U,M,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case X:return L.key===he?N(U,M,L,Q):null;case ee:return L.key===he?P(U,M,L,Q):null;case b:return L=wr(L),B(U,M,L,Q)}if(Ie(L)||O(L))return he!==null?null:F(U,M,L,Q,null);if(typeof L.then=="function")return B(U,M,_c(L),Q);if(L.$$typeof===ue)return B(U,M,pc(U,L),Q);Ec(U,L)}return null}function H(U,M,L,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(M,U,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return U=U.get(Q.key===null?L:Q.key)||null,N(M,U,Q,he);case ee:return U=U.get(Q.key===null?L:Q.key)||null,P(M,U,Q,he);case b:return Q=wr(Q),H(U,M,L,Q,he)}if(Ie(Q)||O(Q))return U=U.get(L)||null,F(M,U,Q,he,null);if(typeof Q.then=="function")return H(U,M,L,_c(Q),he);if(Q.$$typeof===ue)return H(U,M,L,pc(M,Q),he);Ec(M,Q)}return null}function le(U,M,L,Q){for(var he=null,je=null,oe=M,be=M=0,De=null;oe!==null&&be<L.length;be++){oe.index>be?(De=oe,oe=null):De=oe.sibling;var Le=B(U,oe,L[be],Q);if(Le===null){oe===null&&(oe=De);break}e&&oe&&Le.alternate===null&&n(U,oe),M=f(Le,M,be),je===null?he=Le:je.sibling=Le,je=Le,oe=De}if(be===L.length)return s(U,oe),Me&&Vi(U,be),he;if(oe===null){for(;be<L.length;be++)oe=Y(U,L[be],Q),oe!==null&&(M=f(oe,M,be),je===null?he=oe:je.sibling=oe,je=oe);return Me&&Vi(U,be),he}for(oe=l(oe);be<L.length;be++)De=H(oe,U,be,L[be],Q),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?be:De.key),M=f(De,M,be),je===null?he=De:je.sibling=De,je=De);return e&&oe.forEach(function(js){return n(U,js)}),Me&&Vi(U,be),he}function me(U,M,L,Q){if(L==null)throw Error(a(151));for(var he=null,je=null,oe=M,be=M=0,De=null,Le=L.next();oe!==null&&!Le.done;be++,Le=L.next()){oe.index>be?(De=oe,oe=null):De=oe.sibling;var js=B(U,oe,Le.value,Q);if(js===null){oe===null&&(oe=De);break}e&&oe&&js.alternate===null&&n(U,oe),M=f(js,M,be),je===null?he=js:je.sibling=js,je=js,oe=De}if(Le.done)return s(U,oe),Me&&Vi(U,be),he;if(oe===null){for(;!Le.done;be++,Le=L.next())Le=Y(U,Le.value,Q),Le!==null&&(M=f(Le,M,be),je===null?he=Le:je.sibling=Le,je=Le);return Me&&Vi(U,be),he}for(oe=l(oe);!Le.done;be++,Le=L.next())Le=H(oe,U,be,Le.value,Q),Le!==null&&(e&&Le.alternate!==null&&oe.delete(Le.key===null?be:Le.key),M=f(Le,M,be),je===null?he=Le:je.sibling=Le,je=Le);return e&&oe.forEach(function(oS){return n(U,oS)}),Me&&Vi(U,be),he}function Je(U,M,L,Q){if(typeof L=="object"&&L!==null&&L.type===se&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case X:e:{for(var he=L.key;M!==null;){if(M.key===he){if(he=L.type,he===se){if(M.tag===7){s(U,M.sibling),Q=u(M,L.props.children),Q.return=U,U=Q;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&wr(he)===M.type){s(U,M.sibling),Q=u(M,L.props),Ol(Q,L),Q.return=U,U=Q;break e}s(U,M);break}else n(U,M);M=M.sibling}L.type===se?(Q=Er(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=fc(L.type,L.key,L.props,null,U.mode,Q),Ol(Q,L),Q.return=U,U=Q)}return p(U);case ee:e:{for(he=L.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(U,M.sibling),Q=u(M,L.children||[]),Q.return=U,U=Q;break e}else{s(U,M);break}else n(U,M);M=M.sibling}Q=Ah(L,U.mode,Q),Q.return=U,U=Q}return p(U);case b:return L=wr(L),Je(U,M,L,Q)}if(Ie(L))return le(U,M,L,Q);if(O(L)){if(he=O(L),typeof he!="function")throw Error(a(150));return L=he.call(L),me(U,M,L,Q)}if(typeof L.then=="function")return Je(U,M,_c(L),Q);if(L.$$typeof===ue)return Je(U,M,pc(U,L),Q);Ec(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(U,M.sibling),Q=u(M,L),Q.return=U,U=Q):(s(U,M),Q=bh(L,U.mode,Q),Q.return=U,U=Q),p(U)):s(U,M)}return function(U,M,L,Q){try{Dl=0;var he=Je(U,M,L,Q);return _a=null,he}catch(oe){if(oe===va||oe===yc)throw oe;var je=pn(29,oe,null,U.mode);return je.lanes=Q,je.return=U,je}finally{}}}var Cr=hp(!0),fp=hp(!1),Es=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ze&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=hc(e),Xm(e,null,s),n}return uc(e,l,n,s),hc(e)}function Ml(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}function Lh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ph=!1;function kl(){if(Ph){var e=ya;if(e!==null)throw e}}function Vl(e,n,s,l){Ph=!1;var u=e.updateQueue;Es=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var N=E,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=N))}if(f!==null){var Y=u.baseState;p=0,F=P=N=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ne&B)===B:(l&B)===B){B!==0&&B===ga&&(Ph=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=e,me=E;B=n;var Je=s;switch(me.tag){case 1:if(le=me.payload,typeof le=="function"){Y=le.call(Je,Y,B);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=me.payload,B=typeof le=="function"?le.call(Je,Y,B):le,B==null)break e;Y=w({},Y,B);break e;case 2:Es=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=u.callbacks,H===null?u.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=H,N=Y):F=F.next=H,p|=B;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;H=E,E=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);F===null&&(N=Y),u.baseState=N,u.firstBaseUpdate=P,u.lastBaseUpdate=F,f===null&&(u.shared.lanes=0),Cs|=p,e.lanes=p,e.memoizedState=Y}}function dp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function mp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)dp(s[e],n)}var Ea=k(null),Tc=k(0);function pp(e,n){e=Qi,ie(Tc,e),ie(Ea,n),Qi=e|n.baseLanes}function zh(){ie(Tc,Qi),ie(Ea,Ea.current)}function Bh(){Qi=Tc.current,K(Ea),K(Tc)}var gn=k(null),Dn=null;function bs(e){var n=e.alternate;ie(mt,mt.current&1),ie(gn,e),Dn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Dn=e)}function qh(e){ie(mt,mt.current),ie(gn,e),Dn===null&&(Dn=e)}function gp(e){e.tag===22?(ie(mt,mt.current),ie(gn,e),Dn===null&&(Dn=e)):As()}function As(){ie(mt,mt.current),ie(gn,gn.current)}function yn(e){K(gn),Dn===e&&(Dn=null),K(mt)}var mt=k(0);function Sc(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xf(s)||$f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Te=null,$e=null,St=null,bc=!1,Ta=!1,Rr=!1,Ac=0,Ul=0,Sa=null,JE=0;function ct(){throw Error(a(321))}function Hh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function Gh(e,n,s,l,u,f){return Li=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Wp:af,Rr=!1,f=s(l,u),Rr=!1,Ta&&(f=vp(n,s,l,u)),yp(e),f}function yp(e){G.H=Pl;var n=$e!==null&&$e.next!==null;if(Li=0,St=$e=Te=null,bc=!1,Ul=0,Sa=null,n)throw Error(a(300));e===null||bt||(e=e.dependencies,e!==null&&mc(e)&&(bt=!0))}function vp(e,n,s,l){Te=e;var u=0;do{if(Ta&&(Sa=null),Ul=0,Ta=!1,25<=u)throw Error(a(301));if(u+=1,St=$e=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=eg,f=n(s,l)}while(Ta);return f}function WE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?jl(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Te.flags|=1024),n}function Fh(){var e=Ac!==0;return Ac=0,e}function Qh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Yh(e){if(bc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bc=!1}Li=0,St=$e=Te=null,Ta=!1,Ul=Ac=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Te.memoizedState=St=e:St=St.next=e,St}function pt(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=St===null?Te.memoizedState:St.next;if(n!==null)St=n,$e=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?Te.memoizedState=St=e:St=St.next=e}return St}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var n=Ul;return Ul+=1,Sa===null&&(Sa=[]),e=op(Sa,e,n),n=Te,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Wp:af),e}function xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===ue)return Lt(e)}throw Error(a(438,String(e)))}function Kh(e){var n=null,s=Te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wc(),Te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=D;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function Cc(e){var n=pt();return Xh(n,$e,e)}function Xh(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var E=p=null,N=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ne&Y)===Y:(Li&Y)===Y){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ga&&(F=!0);else if((Li&B)===B){P=P.next,B===ga&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=Y,p=f):N=N.next=Y,Te.lanes|=B,Cs|=B;Y=P.action,Rr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else B={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=B,p=f):N=N.next=B,Te.lanes|=Y,Cs|=Y;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=E,!mn(f,e.memoizedState)&&(bt=!0,F&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=N,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $h(e){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);mn(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function _p(e,n,s){var l=Te,u=pt(),f=Me;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!mn(($e||u).memoizedState,s);if(p&&(u.memoizedState=s,bt=!0),u=u.queue,Wh(Sp.bind(null,l,u,e),[e]),u.getSnapshot!==n||p||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,ba(9,{destroy:void 0},Tp.bind(null,l,u,s,n),null),We===null)throw Error(a(349));f||(Li&127)!==0||Ep(l,n,s)}return s}function Ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n=wc(),Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Tp(e,n,s,l){n.value=s,n.getSnapshot=l,bp(n)&&Ap(e)}function Sp(e,n,s){return s(function(){bp(n)&&Ap(e)})}function bp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Ap(e){var n=_r(e,2);n!==null&&cn(n,e,2)}function Zh(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Rr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function wp(e,n,s,l){return e.baseState=s,Xh(e,$e,typeof l=="function"?l:Pi)}function eT(e,n,s,l,u){if(Nc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,xp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function xp(e,n){var s=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(u,l),N=G.S;N!==null&&N(p,E),Cp(e,n,E)}catch(P){Jh(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(u,l),Cp(e,n,f)}catch(P){Jh(e,n,P)}}function Cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Rp(e,n,l)},function(l){return Jh(e,n,l)}):Rp(e,n,s)}function Rp(e,n,s){n.status="fulfilled",n.value=s,Ip(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,xp(e,s)))}function Jh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ip(n),n=n.next;while(n!==l)}e.action=null}function Ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Dp(e,n){if(Me){var s=We.formState;if(s!==null){e:{var l=Te;if(Me){if(tt){t:{for(var u=tt,f=Nn;u.nodeType!==8;){if(!f){u=null;break t}if(u=On(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){tt=On(u.nextSibling),l=u.data==="F!";break e}}vs(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},s.queue=l,s=$p.bind(null,Te,l),l.dispatch=s,l=Zh(!1),f=rf.bind(null,Te,!1,l.queue),l=tn(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,s=eT.bind(null,Te,u,f,s),u.dispatch=s,l.memoizedState=e,[n,s,!1]}function Op(e){var n=pt();return Mp(n,$e,e)}function Mp(e,n,s){if(n=Xh(e,n,Np)[0],e=Cc(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=jl(n)}catch(p){throw p===va?yc:p}else l=n;n=pt();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(Te.flags|=2048,ba(9,{destroy:void 0},tT.bind(null,u,s),null)),[l,f,e]}function tT(e,n){e.action=n}function kp(e){var n=pt(),s=$e;if(s!==null)return Mp(n,s,e);pt(),n=n.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ba(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=wc(),Te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Vp(){return pt().memoizedState}function Rc(e,n,s,l){var u=tn();Te.flags|=e,u.memoizedState=ba(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ic(e,n,s,l){var u=pt();l=l===void 0?null:l;var f=u.memoizedState.inst;$e!==null&&l!==null&&Hh(l,$e.memoizedState.deps)?u.memoizedState=ba(n,f,s,l):(Te.flags|=e,u.memoizedState=ba(1|n,f,s,l))}function Up(e,n){Rc(8390656,8,e,n)}function Wh(e,n){Ic(2048,8,e,n)}function nT(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=wc(),Te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function jp(e){var n=pt().memoizedState;return nT({ref:n,nextImpl:e}),function(){if((ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lp(e,n){return Ic(4,2,e,n)}function Pp(e,n){return Ic(4,4,e,n)}function zp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,s){s=s!=null?s.concat([e]):null,Ic(4,4,zp.bind(null,n,e),s)}function ef(){}function qp(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Hh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Hp(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Hh(n,l[1]))return l[0];if(l=e(),Rr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function tf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Gg(),Te.lanes|=e,Cs|=e,s)}function Gp(e,n,s,l){return mn(s,n)?s:Ea.current!==null?(e=tf(e,s,l),mn(e,n)||(bt=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Ne&261930)===0?(bt=!0,e.memoizedState=s):(e=Gg(),Te.lanes|=e,Cs|=e,n)}function Fp(e,n,s,l,u){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,rf(e,!1,n,s);try{var N=u(),P=G.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=ZE(N,l);Ll(e,n,F,En(e))}else Ll(e,n,l,En(e))}catch(Y){Ll(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function iT(){}function nf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var u=Qp(e).queue;Fp(e,u,n,de,s===null?iT:function(){return Yp(e),s(l)})}function Qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yp(e){var n=Qp(e);n.next===null&&(n=e.alternate.memoizedState),Ll(e,n.next.queue,{},En())}function sf(){return Lt(to)}function Kp(){return pt().memoizedState}function Xp(){return pt().memoizedState}function sT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Ts(s);var l=Ss(n,e,s);l!==null&&(cn(l,n,s),Ml(l,n,s)),n={cache:Oh()},e.payload=n;return}n=n.return}}function rT(e,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Nc(e)?Zp(n,s):(s=Th(e,n,s,l),s!==null&&(cn(s,e,l),Jp(s,n,l)))}function $p(e,n,s){var l=En();Ll(e,n,s,l)}function Ll(e,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))Zp(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(u.hasEagerState=!0,u.eagerState=E,mn(E,p))return uc(e,n,u,0),We===null&&cc(),!1}catch{}finally{}if(s=Th(e,n,u,l),s!==null)return cn(s,e,l),Jp(s,n,l),!0}return!1}function rf(e,n,s,l){if(l={lane:2,revertLane:jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(n)throw Error(a(479))}else n=Th(e,s,l,2),n!==null&&cn(n,e,2)}function Nc(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Zp(e,n){Ta=bc=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Jp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}var Pl={readContext:Lt,use:xc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Pl.useEffectEvent=ct;var Wp={readContext:Lt,use:xc,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Lt,useEffect:Up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Rc(4194308,4,zp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Rc(4194308,4,e,n)},useInsertionEffect:function(e,n){Rc(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var l=e();if(Rr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=tn();if(s!==void 0){var u=s(n);if(Rr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=rT.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,s=$p.bind(null,Te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(e,n){var s=tn();return tf(s,e,n)},useTransition:function(){var e=Zh(!1);return e=Fp.bind(null,Te,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Te,u=tn();if(Me){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),We===null)throw Error(a(349));(Ne&127)!==0||Ep(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Up(Sp.bind(null,l,f,e),[e]),l.flags|=2048,ba(9,{destroy:void 0},Tp.bind(null,l,f,s,n),null),s},useId:function(){var e=tn(),n=We.identifierPrefix;if(Me){var s=Ei,l=_i;s=(l&~(1<<32-ft(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ac++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=JE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=rf.bind(null,Te,!0,s),s.dispatch=n,[e,n]},useMemoCache:Kh,useCacheRefresh:function(){return tn().memoizedState=sT.bind(null,Te)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((ze&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},af={readContext:Lt,use:xc,useCallback:qp,useContext:Lt,useEffect:Wh,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:Hp,useReducer:Cc,useRef:Vp,useState:function(){return Cc(Pi)},useDebugValue:ef,useDeferredValue:function(e,n){var s=pt();return Gp(s,$e.memoizedState,e,n)},useTransition:function(){var e=Cc(Pi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:_p,useId:Kp,useHostTransitionStatus:sf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var s=pt();return wp(s,$e,e,n)},useMemoCache:Kh,useCacheRefresh:Xp};af.useEffectEvent=jp;var eg={readContext:Lt,use:xc,useCallback:qp,useContext:Lt,useEffect:Wh,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:Hp,useReducer:$h,useRef:Vp,useState:function(){return $h(Pi)},useDebugValue:ef,useDeferredValue:function(e,n){var s=pt();return $e===null?tf(s,e,n):Gp(s,$e.memoizedState,e,n)},useTransition:function(){var e=$h(Pi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:_p,useId:Kp,useHostTransitionStatus:sf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var s=pt();return $e!==null?wp(s,$e,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Xp};eg.useEffectEvent=jp;function lf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var of={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=En(),u=Ts(l);u.payload=n,s!=null&&(u.callback=s),n=Ss(e,u,l),n!==null&&(cn(n,e,l),Ml(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=En(),u=Ts(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Ss(e,u,l),n!==null&&(cn(n,e,l),Ml(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=Ss(e,l,s),n!==null&&(cn(n,e,s),Ml(n,e,s))}};function tg(e,n,s,l,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!wl(s,l)||!wl(u,f):!0}function ng(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&of.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function ig(e){oc(e)}function sg(e){console.error(e)}function rg(e){oc(e)}function Dc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function cf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Dc(e,n)},s}function lg(e){return e=Ts(e),e.tag=3,e}function og(e,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){ag(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ag(n,s,l),typeof u!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function aT(e,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,u,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Hc():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===vc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),kf(e,l,u)),!1;case 22:return s.flags|=65536,l===vc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),kf(e,l,u)),!1}throw Error(a(435,s.tag))}return kf(e,l,u),Hc(),!1}if(Me)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ch&&(e=Error(a(422),{cause:l}),Rl(Cn(e,s)))):(l!==Ch&&(n=Error(a(423),{cause:l}),Rl(Cn(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Cn(l,s),u=cf(e.stateNode,l,u),Lh(e,u),ut!==4&&(ut=2)),!1;var f=Error(a(520),{cause:l});if(f=Cn(f,s),Yl===null?Yl=[f]:Yl.push(f),ut!==4&&(ut=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=cf(s.stateNode,l,e),Lh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=lg(u),og(u,e,s,l),Lh(s,u),!1}s=s.return}while(s!==null);return!1}var uf=Error(a(461)),bt=!1;function Pt(e,n,s,l){n.child=e===null?fp(n,null,s,l):Cr(n,e.child,s,l)}function cg(e,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return br(n),l=Gh(e,n,s,p,f,u),E=Fh(),e!==null&&!bt?(Qh(e,n,u),zi(e,n,u)):(Me&&E&&wh(n),n.flags|=1,Pt(e,n,l,u),n.child)}function ug(e,n,s,l,u){if(e===null){var f=s.type;return typeof f=="function"&&!Sh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,hg(e,n,f,l,u)):(e=fc(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,u)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(p,l)&&e.ref===n.ref)return zi(e,n,u)}return n.flags|=1,e=ki(f,l),e.ref=n.ref,e.return=n,n.child=e}function hg(e,n,s,l,u){if(e!==null){var f=e.memoizedProps;if(wl(f,l)&&e.ref===n.ref)if(bt=!1,n.pendingProps=l=f,vf(e,u))(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,zi(e,n,u)}return hf(e,n,s,l,u)}function fg(e,n,s,l){var u=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return dg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gc(n,f!==null?f.cachePool:null),f!==null?pp(n,f):zh(),gp(n);else return l=n.lanes=536870912,dg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(gc(n,f.cachePool),pp(n,f),As(),n.memoizedState=null):(e!==null&&gc(n,null),zh(),As());return Pt(e,n,u,s),n.child}function zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dg(e,n,s,l,u){var f=kh();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&gc(n,null),zh(),gp(n),e!==null&&pa(e,n,l,!0),n.childLanes=u,null}function Oc(e,n){return n=kc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function mg(e,n,s){return Cr(n,e.child,null,s),e=Oc(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function lT(e,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Me){if(l.mode==="hidden")return e=Oc(n,l),n.lanes=536870912,zl(null,e);if(qh(n),(e=tt)?(e=xy(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Zm(e),s.return=n,n.child=s,jt=n,tt=null)):e=null,e===null)throw vs(n);return n.lanes=536870912,null}return Oc(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(qh(n),u)if(n.flags&256)n.flags&=-257,n=mg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(bt||pa(e,n,s,!1),u=(s&e.childLanes)!==0,bt||u){if(l=We,l!==null&&(p=ll(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,_r(e,p),cn(l,e,p),uf;Hc(),n=mg(e,n,s)}else e=f.treeContext,tt=On(p.nextSibling),jt=n,Me=!0,ys=null,Nn=!1,e!==null&&ep(n,e),n=Oc(n,l),n.flags|=4096;return n}return e=ki(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Mc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function hf(e,n,s,l,u){return br(n),s=Gh(e,n,s,l,void 0,u),l=Fh(),e!==null&&!bt?(Qh(e,n,u),zi(e,n,u)):(Me&&l&&wh(n),n.flags|=1,Pt(e,n,s,u),n.child)}function pg(e,n,s,l,u,f){return br(n),n.updateQueue=null,s=vp(n,l,s,u),yp(e),l=Fh(),e!==null&&!bt?(Qh(e,n,f),zi(e,n,f)):(Me&&l&&wh(n),n.flags|=1,Pt(e,n,s,f),n.child)}function gg(e,n,s,l,u){if(br(n),n.stateNode===null){var f=ha,p=s.contextType;typeof p=="object"&&p!==null&&(f=Lt(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Uh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Lt(p):ha,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(lf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&of.enqueueReplaceState(f,f.state,null),Vl(n,l,f,u),kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Ir(s,E);f.props=N;var P=f.context,F=s.contextType;p=ha,typeof F=="object"&&F!==null&&(p=Lt(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&ng(n,f,l,p),Es=!1;var B=n.memoizedState;f.state=B,Vl(n,l,f,u),kl(),P=n.memoizedState,E||B!==P||Es?(typeof Y=="function"&&(lf(n,s,Y,l),P=n.memoizedState),(N=Es||tg(n,s,N,l,B,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,jh(e,n),p=n.memoizedProps,F=Ir(s,p),f.props=F,Y=n.pendingProps,B=f.context,P=s.contextType,N=ha,typeof P=="object"&&P!==null&&(N=Lt(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==N)&&ng(n,f,l,N),Es=!1,B=n.memoizedState,f.state=B,Vl(n,l,f,u),kl();var H=n.memoizedState;p!==Y||B!==H||Es||e!==null&&e.dependencies!==null&&mc(e.dependencies)?(typeof E=="function"&&(lf(n,s,E,l),H=n.memoizedState),(F=Es||tg(n,s,F,l,B,H,N)||e!==null&&e.dependencies!==null&&mc(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Mc(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Cr(n,e.child,null,u),n.child=Cr(n,null,s,u)):Pt(e,n,s,u),n.memoizedState=f.state,e=n.child):e=zi(e,n,u),e}function yg(e,n,s,l){return Tr(),n.flags|=256,Pt(e,n,s,l),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(e){return{baseLanes:e,cachePool:ap()}}function mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function vg(e,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),p&&(u=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Me){if(u?bs(n):As(),(e=tt)?(e=xy(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Zm(e),s.return=n,n.child=s,jt=n,tt=null)):e=null,e===null)throw vs(n);return $f(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,u?(As(),u=n.mode,E=kc({mode:"hidden",children:E},u),l=Er(l,u,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=df(s),l.childLanes=mf(e,p,s),n.memoizedState=ff,zl(null,l)):(bs(n),pf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=gf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=l.fallback,u=n.mode,l=kc({mode:"visible",children:l.children},u),E=Er(E,u,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Cr(n,e.child,null,s),l=n.child,l.memoizedState=df(s),l.childLanes=mf(e,p,s),n.memoizedState=ff,n=zl(null,l));else if(bs(n),$f(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Rl({value:l,source:null,stack:null}),n=gf(e,n,s)}else if(bt||pa(e,n,s,!1),p=(s&e.childLanes)!==0,bt||p){if(p=We,p!==null&&(l=ll(p,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,_r(e,l),cn(p,e,l),uf;Xf(E)||Hc(),n=gf(e,n,s)}else Xf(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,tt=On(E.nextSibling),jt=n,Me=!0,ys=null,Nn=!1,e!==null&&ep(n,e),n=pf(n,l.children),n.flags|=4096);return n}return u?(As(),E=l.fallback,u=n.mode,N=e.child,P=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=ki(P,E):(E=Er(E,u,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,zl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=df(s):(u=E.cachePool,u!==null?(N=Tt._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=ap(),E={baseLanes:E.baseLanes|s,cachePool:u}),l.memoizedState=E,l.childLanes=mf(e,p,s),n.memoizedState=ff,zl(e.child,l)):(bs(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function pf(e,n){return n=kc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function kc(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function gf(e,n,s){return Cr(n,e.child,null,s),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _g(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Nh(e.return,n,s)}function yf(e,n,s,l,u,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=u,p.treeForkCount=f)}function Eg(e,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var p=mt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(mt,p),Pt(e,n,l,s),l=Me?Cl:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_g(e,s,n);else if(e.tag===19)_g(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Sc(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),yf(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Sc(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}yf(n,!0,s,null,f,l);break;case"together":yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mc(e)))}function oT(e,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),_s(n,Tt,e.memoizedState.cache),Tr();break;case 27:case 5:tr(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?vg(e,n,s):(bs(n),e=zi(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var u=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(pa(e,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return Eg(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ie(mt,mt.current),l)break;return null;case 22:return n.lanes=0,fg(e,n,s,n.pendingProps);case 24:_s(n,Tt,e.memoizedState.cache)}return zi(e,n,s)}function Tg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)bt=!0;else{if(!vf(e,s)&&(n.flags&128)===0)return bt=!1,oT(e,n,s);bt=(e.flags&131072)!==0}else bt=!1,Me&&(n.flags&1048576)!==0&&Wm(n,Cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")Sh(e)?(l=Ir(e,l),n.tag=1,n=gg(null,n,e,l,s)):(n.tag=0,n=hf(null,n,e,l,s));else{if(e!=null){var u=e.$$typeof;if(u===xe){n.tag=11,n=cg(null,n,e,l,s);break e}else if(u===I){n.tag=14,n=ug(null,n,e,l,s);break e}}throw n=ge(e)||e,Error(a(306,n,""))}}return n;case 0:return hf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=Ir(l,n.pendingProps),gg(e,n,l,u,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,jh(e,n),Vl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,_s(n,Tt,l),l!==f.cache&&Dh(n,[Tt],s,!0),kl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yg(e,n,l,s);break e}else if(l!==u){u=Cn(Error(a(424)),n),Rl(u),n=yg(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=On(e.firstChild),jt=n,Me=!0,ys=null,Nn=!0,s=fp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Tr(),l===u){n=zi(e,n,s);break e}Pt(e,n,l,s)}n=n.child}return n;case 26:return Mc(e,n),e===null?(s=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Me||(s=n.type,e=n.pendingProps,l=$c(Se.current).createElement(s),l[vt]=n,l[Nt]=e,zt(l,s,e),_t(l),n.stateNode=l):n.memoizedState=Oy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Me&&(l=n.stateNode=Iy(n.type,n.pendingProps,Se.current),jt=n,Nn=!0,u=tt,Os(n.type)?(Zf=u,tt=On(l.firstChild)):tt=u),Pt(e,n,n.pendingProps.children,s),Mc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Me&&((u=l=tt)&&(l=LT(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,jt=n,tt=On(l.firstChild),Nn=!1,u=!0):u=!1),u||vs(n)),tr(n),u=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,Qf(u,f)?l=null:p!==null&&Qf(u,p)&&(n.flags|=32),n.memoizedState!==null&&(u=Gh(e,n,WE,null,null,s),to._currentValue=u),Mc(e,n),Pt(e,n,l,s),n.child;case 6:return e===null&&Me&&((e=s=tt)&&(s=PT(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,jt=n,tt=null,e=!0):e=!1),e||vs(n)),null;case 13:return vg(e,n,s);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Cr(n,null,l,s):Pt(e,n,l,s),n.child;case 11:return cg(e,n,n.type,n.pendingProps,s);case 7:return Pt(e,n,n.pendingProps,s),n.child;case 8:return Pt(e,n,n.pendingProps.children,s),n.child;case 12:return Pt(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,_s(n,n.type,l.value),Pt(e,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,br(n),u=Lt(u),l=l(u),n.flags|=1,Pt(e,n,l,s),n.child;case 14:return ug(e,n,n.type,n.pendingProps,s);case 15:return hg(e,n,n.type,n.pendingProps,s);case 19:return Eg(e,n,s);case 31:return lT(e,n,s);case 22:return fg(e,n,s,n.pendingProps);case 24:return br(n),l=Lt(Tt),e===null?(u=kh(),u===null&&(u=We,f=Oh(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},Uh(n),_s(n,Tt,u)):((e.lanes&s)!==0&&(jh(e,n),Vl(n,null,null,s),kl()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),_s(n,Tt,l)):(l=f.cache,_s(n,Tt,l),l!==u.cache&&Dh(n,[Tt],s,!0))),Pt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function _f(e,n,s,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Kg())e.flags|=8192;else throw xr=vc,Vh}else e.flags&=-16777217}function Sg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jy(n))if(Kg())e.flags|=8192;else throw xr=vc,Vh}function Vc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bo():536870912,e.lanes|=n,Ca|=n)}function Bl(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function cT(e,n,s){var l=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ji(Tt),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),nt(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(nt(n),Sg(n,f)):(nt(n),_f(n,u,null,l,s))):f?f!==e.memoizedState?(Bi(n),nt(n),Sg(n,f)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Bi(n),nt(n),_f(n,u,e,l,s)),null;case 27:if(Qr(n),s=Se.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}e=ae.current,ma(n)?tp(n):(e=Iy(u,l,s),n.stateNode=e,Bi(n))}return nt(n),null;case 5:if(Qr(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(f=ae.current,ma(n))tp(n);else{var p=$c(Se.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}f[vt]=n,f[Nt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(zt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bi(n)}}return nt(n),_f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Se.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,u=jt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[vt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||vy(e.nodeValue,s)),e||vs(n,!0)}else e=$c(e).createTextNode(l),e[vt]=n,n.stateNode=e}return nt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ma(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[vt]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else s=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return nt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ma(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[vt]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),u=!1}else u=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Vc(n,n.updateQueue),nt(n),null);case 4:return it(),e===null&&Bf(n.stateNode.containerInfo),nt(n),null;case 10:return ji(n.type),nt(n),null;case 19:if(K(mt),l=n.memoizedState,l===null)return nt(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)Bl(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Sc(e),f!==null){for(n.flags|=128,Bl(l,!1),e=f.updateQueue,n.updateQueue=e,Vc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)$m(s,e),s=s.sibling;return ie(mt,mt.current&1|2),Me&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Wt()>zc&&(n.flags|=128,u=!0,Bl(l,!1),n.lanes=4194304)}else{if(!u)if(e=Sc(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Vc(n,e),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Me)return nt(n),null}else 2*Wt()-l.renderingStartTime>zc&&s!==536870912&&(n.flags|=128,u=!0,Bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Wt(),e.sibling=null,s=mt.current,ie(mt,u?s&1|2:s&1),Me&&Vi(n,l.treeForkCount),e):(nt(n),null);case 22:case 23:return yn(n),Bh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&Vc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(Ar),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ji(Tt),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uT(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Tt),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(mt),null;case 4:return it(),null;case 10:return ji(n.type),null;case 22:case 23:return yn(n),Bh(),e!==null&&K(Ar),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Tt),null;case 25:return null;default:return null}}function bg(e,n){switch(xh(n),n.tag){case 3:ji(Tt),it();break;case 26:case 27:case 5:Qr(n);break;case 4:it();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(mt);break;case 10:ji(n.type);break;case 22:case 23:yn(n),Bh(),e!==null&&K(Ar);break;case 24:ji(Tt)}}function ql(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==u)}}catch(E){Ke(n,n.return,E)}}function ws(e,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,u=n;var N=s,P=E;try{P()}catch(F){Ke(u,N,F)}}}l=l.next}while(l!==f)}}catch(F){Ke(n,n.return,F)}}function Ag(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{mp(n,s)}catch(l){Ke(e,e.return,l)}}}function wg(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ke(e,n,l)}}function Hl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(u){Ke(e,n,u)}}function Ti(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Ke(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ke(e,n,u)}else s.current=null}function xg(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Ke(e,e.return,u)}}function Ef(e,n,s){try{var l=e.stateNode;OT(l,e.type,s,n),l[Nt]=n}catch(u){Ke(e,e.return,u)}}function Cg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Sf(e,n,s),e=e.sibling;e!==null;)Sf(e,n,s),e=e.sibling}function Uc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uc(e,n,s),e=e.sibling;e!==null;)Uc(e,n,s),e=e.sibling}function Rg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);zt(n,l,s),n[vt]=e,n[Nt]=s}catch(f){Ke(e,e.return,f)}}var qi=!1,At=!1,bf=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function hT(e,n){if(e=e.containerInfo,Gf=iu,e=Bm(e),ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,N=-1,P=0,F=0,Y=e,B=null;t:for(;;){for(var H;Y!==s||u!==0&&Y.nodeType!==3||(E=p+u),Y!==f||l!==0&&Y.nodeType!==3||(N=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break t;if(B===s&&++P===u&&(E=p),B===f&&++F===l&&(N=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ff={focusedElem:e,selectionRange:s},iu=!1,Ot=n;Ot!==null;)if(n=Ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ot=e;else for(;Ot!==null;){switch(n=Ot,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var le=Ir(s.type,u);e=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ke(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Kf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ot=e;break}Ot=n.return}}function Ng(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),l&4&&ql(5,s);break;case 1:if(Gi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Ke(s,s.return,p)}else{var u=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ke(s,s.return,p)}}l&64&&Ag(s),l&512&&Hl(s,s.return);break;case 3:if(Gi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{mp(e,n)}catch(p){Ke(s,s.return,p)}}break;case 27:n===null&&l&4&&Rg(s);case 26:case 5:Gi(e,s),n===null&&l&4&&xg(s),l&512&&Hl(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),l&4&&Mg(e,s);break;case 13:Gi(e,s),l&4&&kg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ET.bind(null,s),zT(e,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||At,u=qi;var f=At;qi=l,(At=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=u,At=f}break;case 30:break;default:Gi(e,s)}}function Dg(e){var n=e.alternate;n!==null&&(e.alternate=null,Dg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,rn=!1;function Hi(e,n,s){for(s=s.child;s!==null;)Og(e,n,s),s=s.sibling}function Og(e,n,s){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:At||Ti(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Ti(s,n);var l=rt,u=rn;Os(s.type)&&(rt=s.stateNode,rn=!1),Hi(e,n,s),Jl(s.stateNode),rt=l,rn=u;break;case 5:At||Ti(s,n);case 6:if(l=rt,u=rn,rt=null,Hi(e,n,s),rt=l,rn=u,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(s.stateNode)}catch(f){Ke(s,n,f)}else try{rt.removeChild(s.stateNode)}catch(f){Ke(s,n,f)}break;case 18:rt!==null&&(rn?(e=rt,Ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):Ay(rt,s.stateNode));break;case 4:l=rt,u=rn,rt=s.stateNode.containerInfo,rn=!0,Hi(e,n,s),rt=l,rn=u;break;case 0:case 11:case 14:case 15:ws(2,s,n),At||ws(4,s,n),Hi(e,n,s);break;case 1:At||(Ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&wg(s,n,l)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:At=(l=At)||s.memoizedState!==null,Hi(e,n,s),At=l;break;default:Hi(e,n,s)}}function Mg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Ke(n,n.return,s)}}}function kg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Ke(n,n.return,s)}}function fT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ig),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ig),n;default:throw Error(a(435,e.tag))}}function jc(e,n){var s=fT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=TT.bind(null,e,l);l.then(u,u)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){rt=E.stateNode,rn=!1;break e}break;case 5:rt=E.stateNode,rn=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(a(160));Og(f,p,u),rt=null,rn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vg(n,e),n=n.sibling}var Qn=null;function Vg(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),ln(e),l&4&&(ws(3,e,e.return),ql(3,e),ws(5,e,e.return));break;case 1:an(n,e),ln(e),l&512&&(At||s===null||Ti(s,s.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=Qn;if(an(n,e),ln(e),l&512&&(At||s===null||Ti(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[li]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),zt(f,l,s),f[vt]=e,_t(f),l=f;break e;case"link":var p=Vy("link","href",u).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=u.createElement(l),zt(f,l,s),u.head.appendChild(f);break;case"meta":if(p=Vy("meta","content",u).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=u.createElement(l),zt(f,l,s),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[vt]=e,_t(f),l=f}e.stateNode=l}else Uy(u,e.type,e.stateNode);else e.stateNode=ky(u,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Uy(u,e.type,e.stateNode):ky(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),ln(e),l&512&&(At||s===null||Ti(s,s.return)),s!==null&&l&4&&Ef(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),ln(e),l&512&&(At||s===null||Ti(s,s.return)),e.flags&32){u=e.stateNode;try{sn(u,"")}catch(le){Ke(e,e.return,le)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Ef(e,u,s!==null?s.memoizedProps:u)),l&1024&&(bf=!0);break;case 6:if(an(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(le){Ke(e,e.return,le)}}break;case 3:if(Wc=null,u=Qn,Qn=Zc(n.containerInfo),an(n,e),Qn=u,ln(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(le){Ke(e,e.return,le)}bf&&(bf=!1,Ug(e));break;case 4:l=Qn,Qn=Zc(e.stateNode.containerInfo),an(n,e),ln(e),Qn=l;break;case 12:an(n,e),ln(e);break;case 31:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jc(e,l)));break;case 13:an(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pc=Wt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jc(e,l)));break;case 22:u=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,P=qi,F=At;if(qi=P||u,At=F||N,an(n,e),At=F,qi=P,ln(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||N||qi||At||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){Ke(N,N.return,le)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(le){Ke(N,N.return,le)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;u?wy(H,!0):wy(N.stateNode,!1)}catch(le){Ke(N,N.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,jc(e,s))));break;case 19:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,jc(e,l)));break;case 30:break;case 21:break;default:an(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Cg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var u=s.stateNode,f=Tf(e);Uc(e,f,u);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Tf(e);Uc(e,E,p);break;case 3:case 4:var N=s.stateNode.containerInfo,P=Tf(e);Sf(e,P,N);break;default:throw Error(a(161))}}catch(F){Ke(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Nr(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&wg(n,n.return,s),Nr(n);break;case 27:Jl(n.stateNode);case 26:case 5:Ti(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(u,f,s),ql(4,f);break;case 1:if(Fi(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(P){Ke(l,l.return,P)}if(l=f,u=l.updateQueue,u!==null){var E=l.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)dp(N[u],E)}catch(P){Ke(l,l.return,P)}}s&&p&64&&Ag(f),Hl(f,f.return);break;case 27:Rg(f);case 26:case 5:Fi(u,f,s),s&&l===null&&p&4&&xg(f),Hl(f,f.return);break;case 12:Fi(u,f,s);break;case 31:Fi(u,f,s),s&&p&4&&Mg(u,f);break;case 13:Fi(u,f,s),s&&p&4&&kg(u,f);break;case 22:f.memoizedState===null&&Fi(u,f,s),Hl(f,f.return);break;case 30:break;default:Fi(u,f,s)}n=n.sibling}}function Af(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Il(s))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Il(e))}function Yn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(e,n,s,l),n=n.sibling}function jg(e,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,l),u&2048&&ql(9,n);break;case 1:Yn(e,n,s,l);break;case 3:Yn(e,n,s,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Il(e)));break;case 12:if(u&2048){Yn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ke(n,n.return,N)}}else Yn(e,n,s,l);break;case 31:Yn(e,n,s,l);break;case 13:Yn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,l):Gl(e,n):f._visibility&2?Yn(e,n,s,l):(f._visibility|=2,Aa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Af(p,n);break;case 24:Yn(e,n,s,l),u&2048&&wf(n.alternate,n);break;default:Yn(e,n,s,l)}}function Aa(e,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,N=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Aa(f,p,E,N,u),ql(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Aa(f,p,E,N,u):Gl(f,p):(F._visibility|=2,Aa(f,p,E,N,u)),u&&P&2048&&Af(p.alternate,p);break;case 24:Aa(f,p,E,N,u),u&&P&2048&&wf(p.alternate,p);break;default:Aa(f,p,E,N,u)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,u=l.flags;switch(l.tag){case 22:Gl(s,l),u&2048&&Af(l.alternate,l);break;case 24:Gl(s,l),u&2048&&wf(l.alternate,l);break;default:Gl(s,l)}n=n.sibling}}var Fl=8192;function wa(e,n,s){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)Lg(e,n,s),e=e.sibling}function Lg(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Fl&&e.memoizedState!==null&&JT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var l=Qn;Qn=Zc(e.stateNode.containerInfo),wa(e,n,s),Qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,wa(e,n,s),Fl=l):wa(e,n,s));break;default:wa(e,n,s)}}function Pg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,Bg(l,e)}Pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zg(e),e=e.sibling}function zg(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&ws(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lc(e)):Ql(e);break;default:Ql(e)}}function Lc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ot=l,Bg(l,e)}Pg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Lc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Lc(n));break;default:Lc(n)}e=e.sibling}}function Bg(e,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ot=l;else e:for(s=e;Ot!==null;){l=Ot;var u=l.sibling,f=l.return;if(Dg(l),l===s){Ot=null;break e}if(u!==null){u.return=f,Ot=u;break e}Ot=f}}}var dT={getCacheForType:function(e){var n=Lt(Tt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Lt(Tt).controller.signal}},mT=typeof WeakMap=="function"?WeakMap:Map,ze=0,We=null,Ce=null,Ne=0,Ye=0,vn=null,xs=!1,xa=!1,xf=!1,Qi=0,ut=0,Cs=0,Dr=0,Cf=0,_n=0,Ca=0,Yl=null,on=null,Rf=!1,Pc=0,qg=0,zc=1/0,Bc=null,Rs=null,It=0,Is=null,Ra=null,Yi=0,If=0,Nf=null,Hg=null,Kl=0,Df=null;function En(){return(ze&2)!==0&&Ne!==0?Ne&-Ne:G.T!==null?jf():qo()}function Gg(){if(_n===0)if((Ne&536870912)===0||Me){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function cn(e,n,s){(e===We&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ns(e,Ne,_n,!1)),rr(e,s),((ze&2)===0||e!==We)&&(e===We&&((ze&2)===0&&(Dr|=s),ut===4&&Ns(e,Ne,_n,!1)),Si(e))}function Fg(e,n,s){if((ze&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),u=l?yT(e,n):Mf(e,n,!0),f=l;do{if(u===0){xa&&!l&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!pT(s)){u=Mf(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=e;u=Yl;var N=E.current.memoizedState.isDehydrated;if(N&&(Ia(E,p).flags|=256),p=Mf(E,p,!1),p!==2){if(xf&&!N){E.errorRecoveryDisabledLanes|=f,Dr|=f,u=4;break e}f=on,on=u,f!==null&&(on===null?on=f:on.push.apply(on,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){Ia(e,0),Ns(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,_n,!xs);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Pc+300-Wt(),10<u)){if(Ns(l,n,_n,!xs),si(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=Sy(Qg.bind(null,l,s,on,Bc,Rf,n,_n,Dr,Ca,xs,f,"Throttled",-0,0),u);break e}Qg(l,s,on,Bc,Rf,n,_n,Dr,Ca,xs,f,null,-0,0)}}break}while(!0);Si(e)}function Qg(e,n,s,l,u,f,p,E,N,P,F,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Lg(n,f,Y);var le=(f&62914560)===f?Pc-Wt():(f&4194048)===f?qg-Wt():0;if(le=WT(Y,le),le!==null){Yi=f,e.cancelPendingCommit=le(ey.bind(null,e,n,f,s,l,u,p,E,N,F,Y,null,B,H)),Ns(e,f,p,!P);return}}ey(e,n,f,s,l,u,p,E,N)}function pT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!mn(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,l){n&=~Cf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-ft(u),p=1<<f;l[f]=-1,u&=~p}s!==0&&ar(e,s,n)}function qc(){return(ze&6)===0?(Xl(0),!1):!0}function Of(){if(Ce!==null){if(Ye===0)var e=Ce.return;else e=Ce,Ui=Sr=null,Yh(e),_a=null,Dl=0,e=Ce;for(;e!==null;)bg(e.alternate,e),e=e.return;Ce=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,VT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Of(),We=e,Ce=s=ki(e.current,null),Ne=n,Ye=0,vn=null,xs=!1,xa=jn(e,n),xf=!1,Ca=_n=Cf=Dr=Cs=ut=0,on=Yl=null,Rf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-ft(l),f=1<<u;n|=e[u],l&=~f}return Qi=n,cc(),s}function Yg(e,n){Te=null,G.H=Pl,n===va||n===yc?(n=cp(),Ye=3):n===Vh?(n=cp(),Ye=4):Ye=n===uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ce===null&&(ut=1,Dc(e,Cn(n,e.current)))}function Kg(){var e=gn.current;return e===null?!0:(Ne&4194048)===Ne?Dn===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Dn:!1}function Xg(){var e=G.H;return G.H=Pl,e===null?Pl:e}function $g(){var e=G.A;return G.A=dT,e}function Hc(){ut=4,xs||(Ne&4194048)!==Ne&&gn.current!==null||(xa=!0),(Cs&134217727)===0&&(Dr&134217727)===0||We===null||Ns(We,Ne,_n,!1)}function Mf(e,n,s){var l=ze;ze|=2;var u=Xg(),f=$g();(We!==e||Ne!==n)&&(Bc=null,Ia(e,n)),n=!1;var p=ut;e:do try{if(Ye!==0&&Ce!==null){var E=Ce,N=vn;switch(Ye){case 8:Of(),p=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Ye;if(Ye=0,vn=null,Na(e,E,N,P),s&&xa){p=0;break e}break;default:P=Ye,Ye=0,vn=null,Na(e,E,N,P)}}gT(),p=ut;break}catch(F){Yg(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ui=Sr=null,ze=l,G.H=u,G.A=f,Ce===null&&(We=null,Ne=0,cc()),p}function gT(){for(;Ce!==null;)Zg(Ce)}function yT(e,n){var s=ze;ze|=2;var l=Xg(),u=$g();We!==e||Ne!==n?(Bc=null,zc=Wt()+500,Ia(e,n)):xa=jn(e,n);e:do try{if(Ye!==0&&Ce!==null){n=Ce;var f=vn;t:switch(Ye){case 1:Ye=0,vn=null,Na(e,n,f,1);break;case 2:case 9:if(lp(f)){Ye=0,vn=null,Jg(n);break}n=function(){Ye!==2&&Ye!==9||We!==e||(Ye=7),Si(e)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:lp(f)?(Ye=0,vn=null,Jg(n)):(Ye=0,vn=null,Na(e,n,f,7));break;case 5:var p=null;switch(Ce.tag){case 26:p=Ce.memoizedState;case 5:case 27:var E=Ce;if(p?jy(p):E.stateNode.complete){Ye=0,vn=null;var N=E.sibling;if(N!==null)Ce=N;else{var P=E.return;P!==null?(Ce=P,Gc(P)):Ce=null}break t}}Ye=0,vn=null,Na(e,n,f,5);break;case 6:Ye=0,vn=null,Na(e,n,f,6);break;case 8:Of(),ut=6;break e;default:throw Error(a(462))}}vT();break}catch(F){Yg(e,F)}while(!0);return Ui=Sr=null,G.H=l,G.A=u,ze=s,Ce!==null?0:(We=null,Ne=0,cc(),ut)}function vT(){for(;Ce!==null&&!oh();)Zg(Ce)}function Zg(e){var n=Tg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?Gc(e):Ce=n}function Jg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=pg(s,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=pg(s,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:Yh(n);default:bg(s,n),n=Ce=$m(n,Qi),n=Tg(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?Gc(e):Ce=n}function Na(e,n,s,l){Ui=Sr=null,Yh(n),_a=null,Dl=0;var u=n.return;try{if(aT(e,u,n,s,Ne)){ut=1,Dc(e,Cn(s,e.current)),Ce=null;return}}catch(f){if(u!==null)throw Ce=u,f;ut=1,Dc(e,Cn(s,e.current)),Ce=null;return}n.flags&32768?(Me||l===1?e=!0:xa||(Ne&536870912)!==0?e=!1:(xs=e=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wg(n,e)):Gc(n)}function Gc(e){var n=e;do{if((n.flags&32768)!==0){Wg(n,xs);return}e=n.return;var s=cT(n.alternate,n,Qi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);ut===0&&(ut=5)}function Wg(e,n){do{var s=uT(e.alternate,e);if(s!==null){s.flags&=32767,Ce=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=s}while(e!==null);ut=6,Ce=null}function ey(e,n,s,l,u,f,p,E,N){e.cancelPendingCommit=null;do Fc();while(It!==0);if((ze&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,hh(e,s,f,p,E,N),e===We&&(Ce=We=null,Ne=0),Ra=n,Is=e,Yi=s,If=f,Nf=u,Hg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ST(as,function(){return ry(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,u=ne.p,ne.p=2,p=ze,ze|=4;try{hT(e,n,s)}finally{ze=p,ne.p=u,G.T=l}}It=1,ty(),ny(),iy()}}function ty(){if(It===1){It=0;var e=Is,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var u=ze;ze|=4;try{Vg(n,e);var f=Ff,p=Bm(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&zm(E.ownerDocument.documentElement,E)){if(N!==null&&ph(E)){var P=N.start,F=N.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=E.textContent.length,me=Math.min(N.start,le),Je=N.end===void 0?me:Math.min(N.end,le);!H.extend&&me>Je&&(p=Je,Je=me,me=p);var U=Pm(E,me),M=Pm(E,Je);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),me>Je?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}iu=!!Gf,Ff=Gf=null}finally{ze=u,ne.p=l,G.T=s}}e.current=n,It=2}}function ny(){if(It===2){It=0;var e=Is,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ne.p;ne.p=2;var u=ze;ze|=4;try{Ng(e,n.alternate,n)}finally{ze=u,ne.p=l,G.T=s}}It=3}}function iy(){if(It===4||It===3){It=0,Vo();var e=Is,n=Ra,s=Yi,l=Hg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,Ra=Is=null,sy(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Rs=null),Ni(s),n=n.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,u=ne.p,ne.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ne.p=u}}(Yi&3)!==0&&Fc(),Si(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Df?Kl++:(Kl=0,Df=e):Kl=0,Xl(0)}}function sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Il(n)))}function Fc(){return ty(),ny(),iy(),ry()}function ry(){if(It!==5)return!1;var e=Is,n=If;If=0;var s=Ni(Yi),l=G.T,u=ne.p;try{ne.p=32>s?32:s,G.T=null,s=Nf,Nf=null;var f=Is,p=Yi;if(It=0,Ra=Is=null,Yi=0,(ze&6)!==0)throw Error(a(331));var E=ze;if(ze|=4,zg(f.current),jg(f,f.current,p,s),ze=E,Xl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{ne.p=u,G.T=l,sy(e,n)}}function ay(e,n,s){n=Cn(s,n),n=cf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(rr(e,2),Si(e))}function Ke(e,n,s){if(e.tag===3)ay(e,e,s);else for(;n!==null;){if(n.tag===3){ay(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rs===null||!Rs.has(l))){e=Cn(s,e),s=lg(2),l=Ss(n,s,2),l!==null&&(og(s,l,n,e),rr(l,2),Si(l));break}}n=n.return}}function kf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new mT;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(xf=!0,u.add(s),e=_T.bind(null,e,n,s),n.then(e,e))}function _T(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,We===e&&(Ne&s)===s&&(ut===4||ut===3&&(Ne&62914560)===Ne&&300>Wt()-Pc?(ze&2)===0&&Ia(e,0):Cf|=s,Ca===Ne&&(Ca=0)),Si(e)}function ly(e,n){n===0&&(n=Bo()),e=_r(e,n),e!==null&&(rr(e,n),Si(e))}function ET(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ly(e,s)}function TT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ly(e,s)}function ST(e,n){return Rt(e,n)}var Qc=null,Da=null,Vf=!1,Yc=!1,Uf=!1,Ds=0;function Si(e){e!==Da&&e.next===null&&(Da===null?Qc=Da=e:Da=Da.next=e),Yc=!0,Vf||(Vf=!0,AT())}function Xl(e,n){if(!Uf&&Yc){Uf=!0;do for(var s=!1,l=Qc;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ft(42|e)+1)-1,f&=u&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,hy(l,f))}else f=Ne,f=si(l,l===We?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,hy(l,f));l=l.next}while(s);Uf=!1}}function bT(){oy()}function oy(){Yc=Vf=!1;var e=0;Ds!==0&&kT()&&(e=Ds);for(var n=Wt(),s=null,l=Qc;l!==null;){var u=l.next,f=cy(l,n);f===0?(l.next=null,s===null?Qc=u:s.next=u,u===null&&(Da=s)):(s=l,(e!==0||(f&3)!==0)&&(Yc=!0)),l=u}It!==0&&It!==5||Xl(e),Ds!==0&&(Ds=0)}function cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ft(f),E=1<<p,N=u[p];N===-1?((E&s)===0||(E&l)!==0)&&(u[p]=uh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=We,s=Ne,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&rs(l),Ni(s)){case 2:case 8:s=rl;break;case 32:s=as;break;case 268435456:s=Uo;break;default:s=as}return l=uy.bind(null,e),s=Rt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function uy(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fc()&&e.callbackNode!==s)return null;var l=Ne;return l=si(e,e===We?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Fg(e,l,n),cy(e,Wt()),e.callbackNode!=null&&e.callbackNode===s?uy.bind(null,e):null)}function hy(e,n){if(Fc())return null;Fg(e,n,!0)}function AT(){UT(function(){(ze&6)!==0?Rt(sl,bT):oy()})}function jf(){if(Ds===0){var e=ga;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ds=e}return Ds}function fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function dy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function wT(e,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=fy((u[Nt]||null).action),p=l.submitter;p&&(n=(n=p[Nt]||null)?fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,l,u);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var N=p?dy(u,p):new FormData(u);nf(s,{pending:!0,data:N,method:u.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?dy(u,p):new FormData(u),nf(s,{pending:!0,data:N,method:u.method,action:f},f,N))},currentTarget:u}]})}}for(var Lf=0;Lf<_h.length;Lf++){var Pf=_h[Lf],xT=Pf.toLowerCase(),CT=Pf[0].toUpperCase()+Pf.slice(1);Fn(xT,"on"+CT)}Fn(Gm,"onAnimationEnd"),Fn(Fm,"onAnimationIteration"),Fn(Qm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(HE,"onTransitionRun"),Fn(GE,"onTransitionStart"),Fn(FE,"onTransitionCancel"),Fn(Ym,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function my(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&u.isPropagationStopped())break e;f=E,u.currentTarget=P;try{f(u)}catch(F){oc(F)}u.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(E=l[p],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&u.isPropagationStopped())break e;f=E,u.currentTarget=P;try{f(u)}catch(F){oc(F)}u.currentTarget=null,f=N}}}}function Re(e,n){var s=n[$r];s===void 0&&(s=n[$r]=new Set);var l=e+"__bubble";s.has(l)||(py(n,e,2,!1),s.add(l))}function zf(e,n,s){var l=0;n&&(l|=4),py(s,e,l,n)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Kc]){e[Kc]=!0,ol.forEach(function(s){s!=="selectionchange"&&(RT.has(s)||zf(s,!1,e),zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Kc]||(n[Kc]=!0,zf("selectionchange",!1,n))}}function py(e,n,s,l){switch(Gy(n)){case 2:var u=nS;break;case 8:u=iS;break;default:u=nd}s=u.bind(null,n,s,e),u=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function qf(e,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===u)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}E=E.parentNode}}l=l.return}fs(function(){var P=f,F=bn(s),Y=[];e:{var B=Km.get(e);if(B!==void 0){var H=pi,le=e;switch(e){case"keypress":if(dr(s)===0)break e;case"keydown":case"keyup":H=rc;break;case"focusin":le="focus",H=pr;break;case"focusout":le="blur",H=pr;break;case"beforeblur":case"afterblur":H=pr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gm:case Fm:case Qm:H=Jo;break;case Ym:H=S;break;case"scroll":case"scrollend":H=El;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=Ee}var me=(n&4)!==0,Je=!me&&(e==="scroll"||e==="scrollend"),U=me?B!==null?B+"Capture":null:B;me=[];for(var M=P,L;M!==null;){var Q=M;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Bn(M,U),Q!=null&&me.push(Zl(M,Q,L))),Je)break;M=M.return}0<me.length&&(B=new H(B,le,null,s,F),Y.push({event:B,listeners:me}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==yl&&(le=s.relatedTarget||s.fromElement)&&(oi(le)||le[ai]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=s.relatedTarget||s.toElement,H=P,le=le?oi(le):null,le!==null&&(Je=h(le),me=le.tag,le!==Je||me!==5&&me!==27&&me!==6)&&(le=null)):(H=null,le=P),H!==le)){if(me=Tl,Q="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(me=Mi,Q="onPointerLeave",U="onPointerEnter",M="pointer"),Je=H==null?B:fn(H),L=le==null?B:fn(le),B=new me(Q,M+"leave",H,s,F),B.target=Je,B.relatedTarget=L,Q=null,oi(F)===P&&(me=new me(U,M+"enter",le,s,F),me.target=L,me.relatedTarget=Je,Q=me),Je=Q,H&&le)t:{for(me=IT,U=H,M=le,L=0,Q=U;Q;Q=me(Q))L++;Q=0;for(var he=M;he;he=me(he))Q++;for(;0<L-Q;)U=me(U),L--;for(;0<Q-L;)M=me(M),Q--;for(;L--;){if(U===M||M!==null&&U===M.alternate){me=U;break t}U=me(U),M=me(M)}me=null}else me=null;H!==null&&gy(Y,B,H,me,!1),le!==null&&Je!==null&&gy(Y,Je,le,me,!0)}}e:{if(B=P?fn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var je=Mm;else if(Dm(B))if(km)je=zE;else{je=LE;var oe=jE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ea(P.elementType)&&(je=Mm):je=PE;if(je&&(je=je(e,P))){Om(Y,je,s,F);break e}oe&&oe(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ml(B,"number",B.value)}switch(oe=P?fn(P):window,e){case"focusin":(Dm(oe)||oe.contentEditable==="true")&&(oa=oe,gh=P,xl=null);break;case"focusout":xl=gh=oa=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,qm(Y,s,F);break;case"selectionchange":if(qE)break;case"keydown":case"keyup":qm(Y,s,F)}var be;if(Pe)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else la?gr(e,s)&&(De="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(vi&&s.locale!=="ko"&&(la||De!=="onCompositionStart"?De==="onCompositionEnd"&&la&&(be=_l()):(mi=F,vl="value"in mi?mi.value:mi.textContent,la=!0)),oe=Xc(P,De),0<oe.length&&(De=new yi(De,e,null,s,F),Y.push({event:De,listeners:oe}),be?De.data=be:(be=aa(s),be!==null&&(De.data=be)))),(be=wn?ME(e,s):kE(e,s))&&(De=Xc(P,"onBeforeInput"),0<De.length&&(oe=new yi("onBeforeInput","beforeinput",null,s,F),Y.push({event:oe,listeners:De}),oe.data=be)),wT(Y,e,P,s,F)}my(Y,n)})}function Zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xc(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Bn(e,s),u!=null&&l.unshift(Zl(e,u,f)),u=Bn(e,n),u!=null&&l.push(Zl(e,u,f))),e.tag===3)return l;e=e.return}return[]}function IT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gy(e,n,s,l,u){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||P===null||(N=P,u?(P=Bn(s,f),P!=null&&p.unshift(Zl(s,P,N))):u||(P=Bn(s,f),P!=null&&p.push(Zl(s,P,N)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var NT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(NT,`
`).replace(DT,"")}function vy(e,n){return n=yy(n),yy(e)===n}function Ze(e,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,l);break;case"style":gl(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ta(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ze(e,n,"name",u.name,u,null),Ze(e,n,"formEncType",u.formEncType,u,null),Ze(e,n,"formMethod",u.formMethod,u,null),Ze(e,n,"formTarget",u.formTarget,u,null)):(Ze(e,n,"encType",u.encType,u,null),Ze(e,n,"method",u.method,u,null),Ze(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ta(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=zn);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Jr(e,"popover",l);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xo.get(s)||s,Jr(e,s,l))}}function Hf(e,n,s,l,u,f){switch(s){case"style":gl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=e[Nt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,u);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Jr(e,s,l)}}}function zt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(e,n,f,p,s,null)}}u&&Ze(e,n,"srcSet",s.srcSet,s,null),l&&Ze(e,n,"src",s.src,s,null);return;case"input":Re("invalid",e);var E=f=p=u=null,N=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":u=F;break;case"type":p=F;break;case"checked":N=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Ze(e,n,l,F,s,null)}}Qo(e,f,E,N,P,p,u,!1);return;case"select":Re("invalid",e),l=p=f=null;for(u in s)if(s.hasOwnProperty(u)&&(E=s[u],E!=null))switch(u){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ze(e,n,u,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?os(e,!!l,n,!1):s!=null&&os(e,!!l,s,!0);return;case"textarea":Re("invalid",e),f=u=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":u=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ze(e,n,p,E,s,null)}cs(e,l,u,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(e,n,N,l,s,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Re($l[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(e,n,P,l,s,null)}return;default:if(ea(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&Hf(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Ze(e,n,E,l,s,null))}function OT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,E=null,N=null,P=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Y;default:l.hasOwnProperty(H)||Ze(e,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=s[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":u=H;break;case"checked":P=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Ze(e,n,B,H,l,Y)}}Wr(e,p,E,N,P,F,f,u);return;case"select":H=p=E=B=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||Ze(e,n,f,null,l,N)}for(u in l)if(f=l[u],N=s[u],l.hasOwnProperty(u)&&(f!=null||N!=null))switch(u){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&Ze(e,n,u,f,l,N)}n=E,s=p,l=H,B!=null?os(e,!!s,B,!1):!!l!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(u=s[E],s.hasOwnProperty(E)&&u!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(e,n,E,null,l,u)}for(p in l)if(u=l[p],f=s[p],l.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":B=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Ze(e,n,p,u,l,f)}Yo(e,B,H);return;case"option":for(var le in s)if(B=s[le],s.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Ze(e,n,le,null,l,B)}for(N in l)if(B=l[N],H=s[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ze(e,n,N,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)B=s[me],s.hasOwnProperty(me)&&B!=null&&!l.hasOwnProperty(me)&&Ze(e,n,me,null,l,B);for(P in l)if(B=l[P],H=s[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ze(e,n,P,B,l,H)}return;default:if(ea(n)){for(var Je in s)B=s[Je],s.hasOwnProperty(Je)&&B!==void 0&&!l.hasOwnProperty(Je)&&Hf(e,n,Je,void 0,l,B);for(F in l)B=l[F],H=s[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Hf(e,n,F,B,l,H);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Ze(e,n,U,null,l,B);for(Y in l)B=l[Y],H=s[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Ze(e,n,Y,B,l,H)}function _y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,p=u.initiatorType,E=u.duration;if(f&&E&&_y(p)){for(p=0,E=u.responseEnd,l+=1;l<s.length;l++){var N=s[l],P=N.startTime;if(P>E)break;var F=N.transferSize,Y=N.initiatorType;F&&_y(Y)&&(N=N.responseEnd,p+=F*(N<E?1:(E-P)/(N-P)))}if(--l,n+=8*(f+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gf=null,Ff=null;function $c(e){return e.nodeType===9?e:e.ownerDocument}function Ey(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function kT(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(jT)}:Sy;function jT(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Ay(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(u),Va(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Jl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Jl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Jl(e.ownerDocument.body);s=u}while(s);Va(n)}function wy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kf(s),Zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function LT(e,n,s,l){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function PT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=On(e.nextSibling),e===null))return null;return e}function xy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$?"||e.data==="$~"}function $f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zf=null;function Cy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return On(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Iy(e,n,s){switch(n=$c(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zr(e)}var Mn=new Map,Ny=new Set;function Zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=ne.d;ne.d={f:BT,r:qT,D:HT,C:GT,L:FT,m:QT,X:KT,S:YT,M:XT};function BT(){var e=Ki.f(),n=qc();return e||n}function qT(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Yp(n):Ki.r(e)}var Oa=typeof document>"u"?null:document;function Dy(e,n,s){var l=Oa;if(l&&typeof n=="string"&&n){var u=nn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Ny.has(u)||(Ny.add(u),e={rel:e,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),zt(n,"link",e),_t(n),l.head.appendChild(n)))}}function HT(e){Ki.D(e),Dy("dns-prefetch",e,null)}function GT(e,n){Ki.C(e,n),Dy("preconnect",e,n)}function FT(e,n,s){Ki.L(e,n,s);var l=Oa;if(l&&e&&n){var u='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+nn(s.imageSizes)+'"]')):u+='[href="'+nn(e)+'"]';var f=u;switch(n){case"style":f=Ma(e);break;case"script":f=ka(e)}Mn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(Wl(f))||n==="script"&&l.querySelector(eo(f))||(n=l.createElement("link"),zt(n,"link",e),_t(n),l.head.appendChild(n)))}}function QT(e,n){Ki.m(e,n);var s=Oa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(f)))return}l=s.createElement("link"),zt(l,"link",e),_t(l),s.head.appendChild(l)}}}function YT(e,n,s){Ki.S(e,n,s);var l=Oa;if(l&&e){var u=ci(l).hoistableStyles,f=Ma(e);n=n||"default";var p=u.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Wl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&Jf(e,s);var N=p=l.createElement("link");_t(N),zt(N,"link",e),N._p=new Promise(function(P,F){N.onload=P,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Jc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},u.set(f,p)}}}function KT(e,n){Ki.X(e,n);var s=Oa;if(s&&e){var l=ci(s).hoistableScripts,u=ka(e),f=l.get(u);f||(f=s.querySelector(eo(u)),f||(e=w({src:e,async:!0},n),(n=Mn.get(u))&&Wf(e,n),f=s.createElement("script"),_t(f),zt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function XT(e,n){Ki.M(e,n);var s=Oa;if(s&&e){var l=ci(s).hoistableScripts,u=ka(e),f=l.get(u);f||(f=s.querySelector(eo(u)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Mn.get(u))&&Wf(e,n),f=s.createElement("script"),_t(f),zt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Oy(e,n,s,l){var u=(u=Se.current)?Zc(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=ci(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=ci(u).hoistableStyles,p=f.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=u.querySelector(Wl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||$T(u,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=ci(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function My(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function $T(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),zt(n,"link",s),_t(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function eo(e){return"script[async]"+e}function ky(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,_t(l),l;var u=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_t(l),zt(l,"style",u),Jc(l,s.precedence,e),n.instance=l;case"stylesheet":u=Ma(s.href);var f=e.querySelector(Wl(u));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;l=My(s),(u=Mn.get(u))&&Jf(l,u),f=(e.ownerDocument||e).createElement("link"),_t(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),zt(f,"link",l),n.state.loading|=4,Jc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(u=e.querySelector(eo(f)))?(n.instance=u,_t(u),u):(l=s,(u=Mn.get(f))&&(l=w({},s),Wf(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),_t(u),zt(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Jc(l,s.precedence,e));return n.instance}function Jc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wc=null;function Vy(e,n,s){if(Wc===null){var l=new Map,u=Wc=new Map;u.set(s,l)}else u=Wc,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var f=s[u];if(!(f[li]||f[vt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Uy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ZT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JT(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Ma(l.href),f=n.querySelector(Wl(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=eu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_t(f);return}f=n.ownerDocument||n,l=My(l),(u=Mn.get(u))&&Jf(l,u),f=f.createElement("link"),_t(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),zt(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=eu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ed=0;function WT(e,n){return e.stylesheets&&e.count===0&&nu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ed===0&&(ed=62500*MT());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tu=null;function nu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tu=new Map,n.forEach(eS,e),tu=null,eu.call(e))}function eS(e,n){if(!(n.state.loading&4)){var s=tu.get(e);if(s)var l=s.get(null);else{s=new Map,tu.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}u=n.instance,p=u.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,u),s.set(p,u),this.count++,l=eu.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var to={$$typeof:ue,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function tS(e,n,s,l,u,f,p,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ly(e,n,s,l,u,f,p,E,N,P,F,Y){return e=new tS(e,n,s,p,N,P,F,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Oh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Uh(f),e}function Py(e){return e?(e=ha,e):ha}function zy(e,n,s,l,u,f){u=Py(u),l.context===null?l.context=u:l.pendingContext=u,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ss(e,l,n),s!==null&&(cn(s,e,n),Ml(s,e,n))}function By(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function td(e,n){By(e,n),(e=e.alternate)&&By(e,n)}function qy(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&cn(n,e,67108864),td(e,67108864)}}function Hy(e){if(e.tag===13||e.tag===31){var n=En();n=lr(n);var s=_r(e,n);s!==null&&cn(s,e,n),td(e,n)}}var iu=!0;function nS(e,n,s,l){var u=G.T;G.T=null;var f=ne.p;try{ne.p=2,nd(e,n,s,l)}finally{ne.p=f,G.T=u}}function iS(e,n,s,l){var u=G.T;G.T=null;var f=ne.p;try{ne.p=8,nd(e,n,s,l)}finally{ne.p=f,G.T=u}}function nd(e,n,s,l){if(iu){var u=id(l);if(u===null)qf(e,n,l,su,s),Fy(e,l);else if(rS(u,e,n,s,l))l.stopPropagation();else if(Fy(e,l),n&4&&-1<sS.indexOf(e)){for(;u!==null;){var f=Sn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ii(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-ft(p);E.entanglements[1]|=N,p&=~N}Si(f),(ze&6)===0&&(zc=Wt()+500,Xl(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&cn(E,f,2),qc(),td(f,2)}if(f=id(l),f===null&&qf(e,n,l,su,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else qf(e,n,l,null,s)}}function id(e){return e=bn(e),sd(e)}var su=null;function sd(e){if(su=null,e=oi(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return su=e,null}function Gy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case sl:return 2;case rl:return 8;case as:case ch:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var rd=!1,Ms=null,ks=null,Vs=null,no=new Map,io=new Map,Us=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(n.pointerId)}}function so(e,n,s,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Sn(n),n!==null&&qy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function rS(e,n,s,l,u){switch(n){case"focusin":return Ms=so(Ms,e,n,s,l,u),!0;case"dragenter":return ks=so(ks,e,n,s,l,u),!0;case"mouseover":return Vs=so(Vs,e,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return no.set(f,so(no.get(f)||null,e,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,io.set(f,so(io.get(f)||null,e,n,s,l,u)),!0}return!1}function Qy(e){var n=oi(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){Hy(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){Hy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ru(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=id(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);yl=l,s.target.dispatchEvent(l),yl=null}else return n=Sn(s),n!==null&&qy(n),e.blockedOn=s,!1;n.shift()}return!0}function Yy(e,n,s){ru(e)&&s.delete(n)}function aS(){rd=!1,Ms!==null&&ru(Ms)&&(Ms=null),ks!==null&&ru(ks)&&(ks=null),Vs!==null&&ru(Vs)&&(Vs=null),no.forEach(Yy),io.forEach(Yy)}function au(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aS)))}var lu=null;function Ky(e){lu!==e&&(lu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lu===e&&(lu=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(sd(l||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function Va(e){function n(N){return au(N,e)}Ms!==null&&au(Ms,e),ks!==null&&au(ks,e),Vs!==null&&au(Vs,e),no.forEach(n),io.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)Qy(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],p=u[Nt]||null;if(typeof f=="function")p||Ky(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[Nt]||null)E=p.formAction;else if(sd(u)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ky(s)}}}function Xy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function ad(e){this._internalRoot=e}ou.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();zy(s,l,e,n,null,null)},ou.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zy(e.current,2,null,e,null,null),qc(),n[ai]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var n=qo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&Qy(e)}};var $y=t.version;if($y!=="19.2.0")throw Error(a(527,$y,"19.2.0"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var lS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Un=cu.inject(lS),Vt=cu}catch{}}return ao.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",u=ig,f=sg,p=rg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ly(e,1,!1,null,null,s,l,null,u,f,p,Xy),e[ai]=n.current,Bf(e),new ad(n)},ao.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,u="",f=ig,p=sg,E=rg,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=Ly(e,1,!0,n,s??null,l,u,N,f,p,E,Xy),n.context=Py(null),s=n.current,l=En(),l=lr(l),u=Ts(l),u.callback=null,Ss(s,u,l),s=l,n.current.lanes=s,rr(n,s),Si(n),e[ai]=n.current,Bf(e),new ou(n)},ao.version="19.2.0",ao}var av;function vS(){if(av)return od.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),od.exports=yS(),od.exports}var _S=vS(),He=Kd();const wd=cS(He),Ai=[0,-2,-3,-5,-8,-10],ES=["TikTok","WhatsApp"],kn=1e3,Hs=10,TS="WTPSurveyDB",SS=1,Xs="surveys",Xd=()=>new Promise((r,t)=>{const i=indexedDB.open(TS,SS);i.onerror=()=>t(i.error),i.onsuccess=()=>r(i.result),i.onupgradeneeded=a=>{const o=a.target.result;if(!o.objectStoreNames.contains(Xs)){const h=o.createObjectStore(Xs,{keyPath:"id"});h.createIndex("participantId","surveyData.participantId",{unique:!1}),h.createIndex("synced","synced",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}}}),lv=async r=>{try{const i=(await Xd()).transaction([Xs],"readwrite"),a=i.objectStore(Xs),o=a.get(r.id);return new Promise((h,d)=>{o.onsuccess=()=>{const g=o.result;g&&g.synced&&!r.synced&&console.warn(`WARNING: Attempting to overwrite synced survey ${r.id}. This might indicate a bug with survey ID generation.`),a.put(r)},o.onerror=()=>d(o.error),i.oncomplete=()=>h(),i.onerror=()=>d(i.error)})}catch(t){throw console.error("IndexedDB save error:",t),t}},Or=async()=>{try{const i=(await Xd()).transaction([Xs],"readonly").objectStore(Xs);return new Promise((a,o)=>{const h=i.getAll();h.onsuccess=()=>a(h.result),h.onerror=()=>o(h.error)})}catch(r){return console.error("IndexedDB get all error:",r),[]}},ov=async(r,t)=>{try{const a=(await Xd()).transaction([Xs],"readwrite"),o=a.objectStore(Xs),h=o.get(r);return new Promise((d,g)=>{h.onsuccess=()=>{const v=h.result;v&&(v.synced=t,v.syncedAt=t?new Date().toISOString():null,o.put(v))},a.oncomplete=()=>d(),a.onerror=()=>g(a.error)})}catch(i){throw console.error("IndexedDB update sync status error:",i),i}},bS=()=>{try{return"indexedDB"in window&&indexedDB!==null}catch{return!1}},Xi=async(r,t)=>{if(!bS())return console.warn("IndexedDB not available, using fallback"),t;try{return await r()}catch(i){return console.error("IndexedDB operation failed:",i),t}},AS=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},wS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];t[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,C=h>>2,w=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,X=_&63;v||(X=64,d||(V=64)),a.push(i[C],i[w],i[V],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(N_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||w==null)throw new xS;const V=h<<2|g>>4;if(a.push(V),_!==64){const X=g<<4&240|_>>2;if(a.push(X),w!==64){const ee=_<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(r){const t=N_(r);return D_.encodeByteArray(t,!0)},Cu=function(r){return CS(r).replace(/\./g,"")},O_=function(r){try{return D_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>RS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&O_(r[1]);return t&&JSON.parse(t)},Qu=()=>{try{return AS()||IS()||NS()||DS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M_=r=>Qu()?.emulatorHosts?.[r],OS=r=>{const t=M_(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},k_=()=>Qu()?.config,V_=r=>Qu()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cu(JSON.stringify(i)),Cu(JSON.stringify(d)),""].join(".")}const co={};function VS(){const r={prod:[],emulator:[]};for(const t of Object.keys(co))co[t]?r.emulator.push(t):r.prod.push(t);return r}function US(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let uv=!1;function j_(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||co[r]===t||co[r]||uv)return;co[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=VS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,X){V.setAttribute("width","24"),V.setAttribute("id",X),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{uv=!0,d()},V}function C(V,X){V.setAttribute("id",X),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=US(a),X=i("text"),ee=document.getElementById(X)||document.createElement("span"),se=i("learnmore"),Z=document.getElementById(se)||document.createElement("a"),W=i("preprendIcon"),re=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ue=V.element;g(ue),C(Z,se);const xe=_();v(re,W),ue.append(re,ee,Z,xe),document.body.appendChild(ue)}h?(ee.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function LS(){const r=Qu()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=QS,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?YS(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ss(o,g,a)}}function YS(r,t){return r.replace(KS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const KS=/\{\$([^}]+)}/g;function XS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function jr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=t[o];if(hv(h)&&hv(d)){if(!jr(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function hv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $S(r,t){const i=new ZS(r,t);return i.subscribe.bind(i)}class ZS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=dd),o.error===void 0&&(o.error=dd),o.complete===void 0&&(o.complete=dd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r){return r&&r._delegate?r._delegate:r}class Lr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new MS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tb(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(t=Mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mr){return this.instances.has(t)}getOptions(t=Mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&t(h,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mr){return this.component?this.component.multipleInstances?t:Mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eb(r){return r===Mr?void 0:r}function tb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const ib={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},sb=Oe.INFO,rb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},ab=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=rb[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $d{constructor(t){this.name=t,this._logLevel=sb,this._logHandler=ab,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ib[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...t),this._logHandler(this,Oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...t),this._logHandler(this,Oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...t),this._logHandler(this,Oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...t),this._logHandler(this,Oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...t),this._logHandler(this,Oe.ERROR,...t)}}const lb=(r,t)=>t.some(i=>r instanceof i);let fv,dv;function ob(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cb(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,xd=new WeakMap,P_=new WeakMap,md=new WeakMap,Zd=new WeakMap;function ub(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Gs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&L_.set(i,r)}).catch(()=>{}),Zd.set(t,r),t}function hb(r){if(xd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});xd.set(r,t)}let Cd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||P_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fb(r){Cd=r(Cd)}function db(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(pd(this),t,...i);return P_.set(a,t.sort?t.sort():[t]),Gs(a)}:cb().includes(r)?function(...t){return r.apply(pd(this),t),Gs(L_.get(this))}:function(...t){return Gs(r.apply(pd(this),t))}}function mb(r){return typeof r=="function"?db(r):(r instanceof IDBTransaction&&hb(r),lb(r,ob())?new Proxy(r,Cd):r)}function Gs(r){if(r instanceof IDBRequest)return ub(r);if(md.has(r))return md.get(r);const t=mb(r);return t!==r&&(md.set(r,t),Zd.set(t,r)),t}const pd=r=>Zd.get(r);function pb(r,t,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,t),g=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const gb=["get","getKey","getAll","getAllKeys","count"],yb=["put","add","delete","clear"],gd=new Map;function mv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=yb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||gb.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return gd.set(t,h),h}fb(r=>({...r,get:(t,i,a)=>mv(t,i)||r.get(t,i,a),has:(t,i)=>!!mv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_b(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _b(r){return r.getComponent()?.type==="VERSION"}const Rd="@firebase/app",pv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new $d("@firebase/app"),Eb="@firebase/app-compat",Tb="@firebase/analytics-compat",Sb="@firebase/analytics",bb="@firebase/app-check-compat",Ab="@firebase/app-check",wb="@firebase/auth",xb="@firebase/auth-compat",Cb="@firebase/database",Rb="@firebase/data-connect",Ib="@firebase/database-compat",Nb="@firebase/functions",Db="@firebase/functions-compat",Ob="@firebase/installations",Mb="@firebase/installations-compat",kb="@firebase/messaging",Vb="@firebase/messaging-compat",Ub="@firebase/performance",jb="@firebase/performance-compat",Lb="@firebase/remote-config",Pb="@firebase/remote-config-compat",zb="@firebase/storage",Bb="@firebase/storage-compat",qb="@firebase/firestore",Hb="@firebase/ai",Gb="@firebase/firestore-compat",Fb="firebase",Qb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",Yb={[Rd]:"fire-core",[Eb]:"fire-core-compat",[Sb]:"fire-analytics",[Tb]:"fire-analytics-compat",[Ab]:"fire-app-check",[bb]:"fire-app-check-compat",[wb]:"fire-auth",[xb]:"fire-auth-compat",[Cb]:"fire-rtdb",[Rb]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Nb]:"fire-fn",[Db]:"fire-fn-compat",[Ob]:"fire-iid",[Mb]:"fire-iid-compat",[kb]:"fire-fcm",[Vb]:"fire-fcm-compat",[Ub]:"fire-perf",[jb]:"fire-perf-compat",[Lb]:"fire-rc",[Pb]:"fire-rc-compat",[zb]:"fire-gcs",[Bb]:"fire-gcs-compat",[qb]:"fire-fst",[Gb]:"fire-fst-compat",[Hb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Map,Kb=new Map,Nd=new Map;function gv(r,t){try{r.container.addComponent(t)}catch(i){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ga(r){const t=r.name;if(Nd.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const i of Ru.values())gv(i,r);for(const i of Kb.values())gv(i,r);return!0}function Jd(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ao("app","Firebase",Xb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=Qb;function z_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Id,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(i||(i=k_()),!i)throw Fs.create("no-options");const h=Ru.get(o);if(h){if(jr(i,h.options)&&jr(a,h.config))return h;throw Fs.create("duplicate-app",{appName:o})}const d=new nb(o);for(const v of Nd.values())d.addComponent(v);const g=new $b(i,a,d);return Ru.set(o,g),g}function B_(r=Id){const t=Ru.get(r);if(!t&&r===Id&&k_())return z_();if(!t)throw Fs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=Yb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}Ga(new Lr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebase-heartbeat-database",Jb=1,yo="firebase-heartbeat-store";let yd=null;function q_(){return yd||(yd=pb(Zb,Jb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),yd}async function Wb(r){try{const i=(await q_()).transaction(yo),a=await i.objectStore(yo).get(H_(r));return await i.done,a}catch(t){if(t instanceof ss)ts.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});ts.warn(i.message)}}}async function yv(r,t){try{const a=(await q_()).transaction(yo,"readwrite");await a.objectStore(yo).put(t,H_(r)),await a.done}catch(i){if(i instanceof ss)ts.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});ts.warn(a.message)}}}function H_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1024,tA=30;class nA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tA){const o=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:i,unsentEntries:a}=iA(this._heartbeatsCache.heartbeats),o=Cu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ts.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function iA(r,t=eA){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),_v(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),_v(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Wb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function _v(r){return Cu(JSON.stringify({version:2,heartbeats:r})).length}function rA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){Ga(new Lr("platform-logger",t=>new vb(t),"PRIVATE")),Ga(new Lr("heartbeat",t=>new nA(t),"PRIVATE")),Qs(Rd,pv,r),Qs(Rd,pv,"esm2020"),Qs("fire-js","")}aA("");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wd;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function A(){}A.prototype=b.prototype,I.F=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(D,R,O){for(var x=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)x[ge-2]=arguments[ge];return b.prototype[R].apply(D,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,A){A||(A=0);const D=Array(16);if(typeof b=="string")for(var R=0;R<16;++R)D[R]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(R=0;R<16;++R)D[R]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],R=I.g[2];let O=I.g[3],x;x=b+(O^A&(R^O))+D[0]+3614090360&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[1]+3905402710&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[2]+606105819&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[3]+3250441966&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[4]+4118548399&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[5]+1200080426&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[6]+2821735955&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[7]+4249261313&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[8]+1770035416&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[9]+2336552879&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[10]+4294925233&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[11]+2304563134&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(O^A&(R^O))+D[12]+1804603682&4294967295,b=A+(x<<7&4294967295|x>>>25),x=O+(R^b&(A^R))+D[13]+4254626195&4294967295,O=b+(x<<12&4294967295|x>>>20),x=R+(A^O&(b^A))+D[14]+2792965006&4294967295,R=O+(x<<17&4294967295|x>>>15),x=A+(b^R&(O^b))+D[15]+1236535329&4294967295,A=R+(x<<22&4294967295|x>>>10),x=b+(R^O&(A^R))+D[1]+4129170786&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[6]+3225465664&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[11]+643717713&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[0]+3921069994&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[5]+3593408605&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[10]+38016083&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[15]+3634488961&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[4]+3889429448&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[9]+568446438&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[14]+3275163606&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[3]+4107603335&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[8]+1163531501&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(R^O&(A^R))+D[13]+2850285829&4294967295,b=A+(x<<5&4294967295|x>>>27),x=O+(A^R&(b^A))+D[2]+4243563512&4294967295,O=b+(x<<9&4294967295|x>>>23),x=R+(b^A&(O^b))+D[7]+1735328473&4294967295,R=O+(x<<14&4294967295|x>>>18),x=A+(O^b&(R^O))+D[12]+2368359562&4294967295,A=R+(x<<20&4294967295|x>>>12),x=b+(A^R^O)+D[5]+4294588738&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[8]+2272392833&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[11]+1839030562&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[14]+4259657740&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[1]+2763975236&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[4]+1272893353&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[7]+4139469664&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[10]+3200236656&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[13]+681279174&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[0]+3936430074&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[3]+3572445317&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[6]+76029189&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(A^R^O)+D[9]+3654602809&4294967295,b=A+(x<<4&4294967295|x>>>28),x=O+(b^A^R)+D[12]+3873151461&4294967295,O=b+(x<<11&4294967295|x>>>21),x=R+(O^b^A)+D[15]+530742520&4294967295,R=O+(x<<16&4294967295|x>>>16),x=A+(R^O^b)+D[2]+3299628645&4294967295,A=R+(x<<23&4294967295|x>>>9),x=b+(R^(A|~O))+D[0]+4096336452&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[7]+1126891415&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[14]+2878612391&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[5]+4237533241&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[12]+1700485571&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[3]+2399980690&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[10]+4293915773&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[1]+2240044497&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[8]+1873313359&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[15]+4264355552&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[6]+2734768916&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[13]+1309151649&4294967295,A=R+(x<<21&4294967295|x>>>11),x=b+(R^(A|~O))+D[4]+4149444226&4294967295,b=A+(x<<6&4294967295|x>>>26),x=O+(A^(b|~R))+D[11]+3174756917&4294967295,O=b+(x<<10&4294967295|x>>>22),x=R+(b^(O|~A))+D[2]+718787259&4294967295,R=O+(x<<15&4294967295|x>>>17),x=A+(O^(R|~b))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+O&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const A=b-this.blockSize,D=this.C;let R=this.h,O=0;for(;O<b;){if(R==0)for(;O<=A;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(D[R++]=I.charCodeAt(O++),R==this.blockSize){o(this,D),R=0;break}}else for(;O<b;)if(D[R++]=I[O++],R==this.blockSize){o(this,D),R=0;break}}this.h=R,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)I[b++]=this.g[A]>>>D&255;return I};function h(I,b){var A=g;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function d(I,b){this.h=b;const A=[];let D=!0;for(let R=I.length-1;R>=0;R--){const O=I[R]|0;D&&O==b||(A[R]=O,D=!1)}this.g=A}var g={};function v(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return Z(_(-I));const b=[];let A=1;for(let D=0;I>=A;D++)b[D]=I/A|0,A*=4294967296;return new d(b,0)}function C(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(C(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(b,8));let D=w;for(let O=0;O<I.length;O+=8){var R=Math.min(8,I.length-O);const x=parseInt(I.substring(O,O+R),b);R<8?(R=_(Math.pow(b,R)),D=D.j(R).add(_(x))):(D=D.j(A),D=D.add(_(x)))}return D}var w=v(0),V=v(1),X=v(16777216);r=d.prototype,r.m=function(){if(se(this))return-Z(this).m();let I=0,b=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);I+=(D>=0?D:4294967296+D)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(se(this))return"-"+Z(this).toString(I);const b=_(Math.pow(I,6));var A=this;let D="";for(;;){const R=xe(A,b).g;A=W(A,R.j(b));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=R,ee(A))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function se(I){return I.h==-1}r.l=function(I){return I=W(this,I),se(I)?-1:ee(I)?0:1};function Z(I){const b=I.g.length,A=[];for(let D=0;D<b;D++)A[D]=~I.g[D];return new d(A,~I.h).add(V)}r.abs=function(){return se(this)?Z(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),A=[];let D=0;for(let R=0;R<=b;R++){let O=D+(this.i(R)&65535)+(I.i(R)&65535),x=(O>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);D=x>>>16,O&=65535,x&=65535,A[R]=x<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function W(I,b){return I.add(Z(b))}r.j=function(I){if(ee(this)||ee(I))return w;if(se(this))return se(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(se(I))return Z(this.j(Z(I)));if(this.l(X)<0&&I.l(X)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,A=[];for(var D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<I.g.length;R++){const O=this.i(D)>>>16,x=this.i(D)&65535,ge=I.i(R)>>>16,Ie=I.i(R)&65535;A[2*D+2*R]+=x*Ie,re(A,2*D+2*R),A[2*D+2*R+1]+=O*Ie,re(A,2*D+2*R+1),A[2*D+2*R+1]+=x*ge,re(A,2*D+2*R+1),A[2*D+2*R+2]+=O*ge,re(A,2*D+2*R+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new d(A,0)};function re(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ue(I,b){this.g=I,this.h=b}function xe(I,b){if(ee(b))throw Error("division by zero");if(ee(I))return new ue(w,w);if(se(I))return b=xe(Z(I),b),new ue(Z(b.g),Z(b.h));if(se(b))return b=xe(I,Z(b)),new ue(Z(b.g),b.h);if(I.g.length>30){if(se(I)||se(b))throw Error("slowDivide_ only works with positive integers.");for(var A=V,D=b;D.l(I)<=0;)A=Be(A),D=Be(D);var R=_e(A,1),O=_e(D,1);for(D=_e(D,2),A=_e(A,2);!ee(D);){var x=O.add(D);x.l(I)<=0&&(R=R.add(A),O=x),D=_e(D,1),A=_e(A,1)}return b=W(I,R.j(b)),new ue(R,b)}for(R=w;I.l(b)>=0;){for(A=Math.max(1,Math.floor(I.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=_(A),x=O.j(b);se(x)||x.l(I)>0;)A-=D,O=_(A),x=O.j(b);ee(O)&&(O=V),R=R.add(O),I=W(I,x)}return new ue(R,I)}r.B=function(I){return xe(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)&I.i(D);return new d(A,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)|I.i(D);return new d(A,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let D=0;D<b;D++)A[D]=this.i(D)^I.i(D);return new d(A,this.h^I.h)};function Be(I){const b=I.g.length+1,A=[];for(let D=0;D<b;D++)A[D]=I.i(D)<<1|I.i(D-1)>>>31;return new d(A,I.h)}function _e(I,b){const A=b>>5;b%=32;const D=I.g.length-A,R=[];for(let O=0;O<D;O++)R[O]=b>0?I.i(O+A)>>>b|I.i(O+A+1)<<32-b:I.i(O+A);return new d(R,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=C,Wd=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G_,oo,F_,vu,Dd,Q_,Y_,K_;(function(){var r,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(c,m){if(m)e:{var y=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in y))break e;y=y[j]}c=c[c.length-1],S=y[c],m=m(S),m!=S&&m!=null&&t(y,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function v(c,m,y){return c.call.apply(c.bind,arguments)}function _(c,m,y){return _=v,_.apply(null,arguments)}function C(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,m){function y(){}y.prototype=m.prototype,c.Z=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Ob=function(S,j,q){for(var te=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)te[Ee-2]=arguments[Ee];return m.prototype[j].apply(S,te)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function X(c){const m=c.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=c[S];return y}return[]}function ee(c,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var y=typeof j;if(y=y!="object"?y:j?Array.isArray(j)?"array":y:"null",y=="array"||y=="object"&&typeof j.length=="number"){y=c.length||0;const q=j.length||0;c.length=y+q;for(let te=0;te<q;te++)c[y+te]=j[te]}else c.push(j)}}class se{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function W(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,y){const S=ue.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var ue=new se(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,_e=!1,I=new re,b=()=>{const c=Promise.resolve(void 0);Be=()=>{c.then(A)}};function A(){for(var c;c=W();){try{c.h.call(c.g)}catch(y){Z(y)}var m=ue;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}_e=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function ge(c,m){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(ge,R),ge.prototype.init=function(c,m){const y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(c,m,y,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=j,this.key=++G,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,m,y){for(const S in c)m.call(y,c[S],S,c)}function Fe(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function k(c){const m={};for(const y in c)m[y]=c[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let y,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(y in S)c[y]=S[y];for(let q=0;q<K.length;q++)y=K[q],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,y,S,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const te=Se(c,m,S,j);return te>-1?(m=c[te],y||(m.fa=!1)):(m=new ne(m,this.src,q,!!S,j),m.fa=y,c.push(m)),m};function ye(c,m){const y=m.type;if(y in c.g){var S=c.g[y],j=Array.prototype.indexOf.call(S,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(S,j,1),q&&(de(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Se(c,m,y,S){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return j}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ct={};function it(c,m,y,S,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)it(c,m[q],y,S,j);return null}return y=il(y),c&&c[Ie]?c.J(m,y,g(S)?!!S.capture:!1,j):tr(c,m,y,!1,S,j)}function tr(c,m,y,S,j,q){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let Ee=nr(c);if(Ee||(c[ke]=Ee=new ae(c)),y=Ee.add(m,y,S,te,q),y.proxy)return y;if(S=Qr(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)O||(j=te),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(ti(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Qr(){function c(y){return m.call(c.src,c.listener,y)}const m=tl;return c}function Yr(c,m,y,S,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Yr(c,m[q],y,S,j);else S=g(S)?!!S.capture:!!S,y=il(y),c&&c[Ie]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],y=Se(m,y,S,j),y>-1&&(de(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=nr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Se(m,y,S,j)),(y=c>-1?m[c]:null)&&Kr(y))}function Kr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])ye(m.i,c);else{var y=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(y,S,c.capture):m.detachEvent?m.detachEvent(ti(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=nr(m))?(ye(y,c),y.h==0&&(y.src=null,m[ke]=null)):de(c)}}}function ti(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function tl(c,m){if(c.da)c=!0;else{m=new ge(m,this);const y=c.listener,S=c.ha||c.src;c.fa&&Kr(c),c=y.call(S,m)}return c}function nr(c){return c=c[ke],c instanceof ae?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(m){return c.handleEvent(m)}),c[nl])}function gt(){D.call(this),this.i=new ae(this),this.M=this,this.G=null}w(gt,D),gt.prototype[Ie]=!0,gt.prototype.removeEventListener=function(c,m,y,S){Yr(this,c,m,y,S)};function Rt(c,m){var y,S=c.G;if(S)for(y=[];S;S=S.G)y.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new R(m,c);else if(m instanceof R)m.target=m.target||c;else{var j=m;m=new R(S,c),ie(m,j)}j=!0;let q,te;if(y)for(te=y.length-1;te>=0;te--)q=m.g=y[te],j=rs(q,S,!0,m)&&j;if(q=m.g=c,j=rs(q,S,!0,m)&&j,j=rs(q,S,!1,m)&&j,y)for(te=0;te<y.length;te++)q=m.g=y[te],j=rs(q,S,!1,m)&&j}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const y=c.g[m];for(let S=0;S<y.length;S++)de(y[S]);delete c.g[m],c.h--}}this.G=null},gt.prototype.J=function(c,m,y,S){return this.i.add(String(c),m,!1,y,S)},gt.prototype.K=function(c,m,y,S){return this.i.add(String(c),m,!0,y,S)};function rs(c,m,y,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==y){const Ee=te.listener,dt=te.ha||te.src;te.fa&&ye(c.i,te),j=Ee.call(dt,S)!==!1&&j}}return j&&!S.defaultPrevented}function oh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function Vo(c){c.g=oh(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Wt extends D{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(c){D.call(this),this.h=c,this.g={}}w(ir,D);var sl=[];function rl(c){Ue(c.g,function(m,y){this.g.hasOwnProperty(y)&&Kr(m)},c),c.g={}}ir.prototype.N=function(){ir.Z.N.call(this),rl(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,ch=d.JSON.parse,Uo=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function jo(){}function Lo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){R.call(this,"d")}w(Vt,R);function Tn(){R.call(this,"c")}w(Tn,R);var ft={},Po=null;function Xr(){return Po=Po||new gt}ft.Ia="serverreachability";function zo(c){R.call(this,ft.Ia,c)}w(zo,R);function ni(c){const m=Xr();Rt(m,new zo(m))}ft.STAT_EVENT="statevent";function sr(c,m){R.call(this,ft.STAT_EVENT,c),this.stat=m}w(sr,R);function yt(c){const m=Xr();Rt(m,new sr(m,c))}ft.Ja="timingevent";function ii(c,m){R.call(this,ft.Ja,c),this.size=m}w(ii,R);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function uh(c,m,y,S,j,q){c.info(function(){if(c.g)if(q){var te="",Ee=q.split("&");for(let Pe=0;Pe<Ee.length;Pe++){var dt=Ee[Pe].split("=");if(dt.length>1){const st=dt[0];dt=dt[1];const wn=st.split("_");te=wn.length>=2&&wn[1]=="type"?te+(st+"="+dt+"&"):te+(st+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+y+`
`+te})}function Bo(c,m,y,S,j,q,te){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+y+`
`+q+" "+te})}function ri(c,m,y,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+hh(c,y)+(S?" "+S:"")})}function rr(c,m){c.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function hh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var y=q[c];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<S.length;te++)S[te]=""}}}}return as(q)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function lr(){}w(lr,jo),lr.prototype.g=function(){return new XMLHttpRequest},ll=new lr;function Ni(c){return encodeURIComponent(String(c))}function qo(c){var m=1;c=c.split(":");const y=[];for(;m>0&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function Ln(c,m,y,S){this.j=c,this.i=m,this.l=y,this.S=S||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var vt={},Nt={};function ai(c,m,y){c.M=1,c.A=or(Et(m)),c.u=y,c.R=!0,$r(c,null)}function $r(c,m){c.F=Date.now(),li(c),c.B=Et(c.A);var y=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ea(y.i,"t",S),c.C=0,y=c.j.L,c.h=new Pn,c.g=ic(c.j,y?m:null,!c.u),c.P>0&&(c.O=new Wt(_(c.Y,c,c.g),c.P)),m=c.V,y=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(sl[0]=j.toString()),j=sl);for(let q=0;q<j.length;q++){const te=it(y,j[q],S||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ni(),uh(c.i,c.v,c.B,c.l,c.S,c.u)}Ln.prototype.ba=function(c){c=c.target;const m=this.O;m&&qn(c)==3?m.j():this.Y(c)},Ln.prototype.Y=function(c){try{if(c==this.g)e:{const Ee=qn(this.g),dt=this.g.ya(),Pe=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||Ee!=4||dt==7||(dt==8||Pe<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var y=fh(this);if(this.o=m==200,Bo(this.i,this.v,this.B,this.l,this.S,Ee,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(c=q)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,yt(12),fn(this),Sn(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<y.length;)if(st=Go(this,y),st==Nt){Ee==4&&(this.m=4,yt(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(st==vt){this.m=4,yt(15),ri(this.i,this.l,y,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,st,null),ci(this,st);if(Ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||y.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,y,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(y.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Sl(te),te.P=!0,yt(11))}}else ri(this.i,this.l,y,null),ci(this,y);Ee==4&&fn(this),this.o&&!this.K&&(Ee==4?Wo(this.j,this):(this.o=!1,li(this)))}else Oi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),fn(this),Sn(this)}}}catch{}finally{}};function fh(c){if(!Ho(c))return c.g.la();const m=Ut(c.g);if(m==="")return"";let y="";const S=m.length,j=qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),Sn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,y+=c.h.i.decode(m[q],{stream:!(j&&q==S-1)});return m.length=0,c.h.g+=y,c.C=0,c.h.g}function Ho(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Go(c,m){var y=c.C,S=m.indexOf(`
`,y);return S==-1?Nt:(y=Number(m.substring(y,S)),isNaN(y)?vt:(S+=1,S+y>m.length?Nt:(m=m.slice(S,S+y),c.C=S+y,m)))}Ln.prototype.cancel=function(){this.K=!0,fn(this)};function li(c){c.T=Date.now()+c.H,Zr(c,c.H)}function Zr(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(_(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Ln.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(rr(this.i,this.B),this.M!=2&&(ni(),yt(17)),fn(this),this.m=2,Sn(this)):Zr(this,this.T-c)};function Sn(c){c.j.I==0||c.K||Wo(c.j,c)}function fn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,rl(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var y=c.j;if(y.I!=0&&(y.g==c||hi(y.h,c))){if(!c.L&&hi(y.h,c)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<c.F)ra(y),ms(y);else break e;pr(y),yt(18)}}else y.xa=j[1],0<y.xa-y.K&&j[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=si(_(y.Va,y),6e3));ui(y.h)<=1&&y.ta&&(y.ta=void 0)}else yi(y,11)}else if((c.L||y.g==c)&&ra(y),!x(m))for(j=y.Ba.g.parse(m),m=0;m<j.length;m++){let Pe=j[m];const st=Pe[0];if(!(st<=y.K))if(y.K=st,Pe=Pe[1],y.I==2)if(Pe[0]=="c"){y.M=Pe[1],y.ba=Pe[2];const wn=Pe[3];wn!=null&&(y.ka=wn,y.j.info("VER="+y.ka));const vi=Pe[4];vi!=null&&(y.za=vi,y.j.info("SVER="+y.za));const Hn=Pe[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Gn=c.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var q=S.h;q.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ul(q,q.h),q.h=null))}if(S.G){const aa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(S.wa=aa,Qe(S.J,S.G,aa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-c.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var te=c;if(S.na=nc(S,S.L?S.ba:null,S.W),te.L){hl(S.h,te);var Ee=te,dt=S.O;dt&&(Ee.H=dt),Ee.D&&(oi(Ee),li(Ee)),S.g=te}else Zo(S);y.i.length>0&&gi(y)}else Pe[0]!="stop"&&Pe[0]!="close"||yi(y,7);else y.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?yi(y,7):El(y):Pe[0]!="noop"&&y.l&&y.l.qa(Pe),y.A=0)}}ni(4)}catch{}}var _t=class{constructor(c,m){this.g=c,this.map=m}};function ol(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function hi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ul(c,m){c.g?c.g.add(m):c.h=m}function hl(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ol.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.G);return m}return X(c.i)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(c,m){if(c){c=c.split("&");for(let y=0;y<c.length;y++){const S=c[y].indexOf("=");let j,q=null;S>=0?(j=c[y].substring(0,S),q=c[y].substring(S+1)):j=c[y],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dn?(this.l=c.l,Dt(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,dl(this,Xo(c.i)),this.m=c.m):c&&(m=String(c).match(Fo))?(this.l=!1,Dt(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ls(this,m[4]),this.h=fi(m[5]||"",!0),dl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}dn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(cr(m,Wr,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(cr(m,Wr,!0),"@"),c.push(Ni(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&c.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(cr(y,y.charAt(0)=="/"?ml:Qo,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",cr(y,Yo)),c.join("")},dn.prototype.resolve=function(c){const m=Et(this);let y=!!c.j;y?Dt(m,c.j):y=!!c.o,y?m.o=c.o:y=!!c.g,y?m.g=c.g:y=c.u!=null;var S=c.h;if(y)ls(m,c.u);else if(y=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let te=0;te<j.length;){const Ee=j[te++];Ee=="."?S&&te==j.length&&q.push(""):Ee==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&te==j.length&&q.push("")):(q.push(Ee),S=!0)}S=q.join("/")}else S=j}return y?m.h=S:y=c.i.toString()!=="",y?dl(m,Xo(c.i)):y=!!c.m,y&&(m.m=c.m),m};function Et(c){return new dn(c)}function Dt(c,m,y){c.j=y?fi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function dl(c,m,y){m instanceof cs?(c.i=m,ta(c.i,c.l)):(y||(m=cr(m,os)),c.i=new cs(m,c.l))}function Qe(c,m,y){c.i.set(m,y)}function or(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cr(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wr=/[#\/\?@]/g,Qo=/[#\?:]/g,ml=/[#\?]/g,os=/[#\?@]/g,Yo=/#/g;function cs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jr(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=cs.prototype,r.add=function(c,m){sn(this),this.i=null,c=us(this,c);let y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function Ko(c,m){sn(c),m=us(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function pl(c,m){return sn(c),m=us(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(y,S){y.forEach(function(j){c.call(m,j,S,this)},this)},this)};function gl(c,m){sn(c);let y=[];if(typeof m=="string")pl(c,m)&&(y=y.concat(c.g.get(us(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)y=y.concat(c[m]);return y}r.set=function(c,m){return sn(this),this.i=null,c=us(this,c),pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=gl(this,c),c.length>0?String(c[0]):m):m};function ea(c,m,y){Ko(c,m),y.length>0&&(c.i=null,c.g.set(us(c,m),X(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const j=Ni(y);y=gl(this,y);for(let q=0;q<y.length;q++){let te=j;y[q]!==""&&(te+="="+Ni(y[q])),c.push(te)}}return this.i=c.join("&")};function Xo(c){const m=new cs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function us(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ta(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(y,S){const j=S.toLowerCase();S!=j&&(Ko(this,S),ea(this,j,y))},c)),c.j=m}function zn(c,m){const y=new jn;if(d.Image){const S=new Image;S.onload=C(bn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=C(bn,y,"TestLoadImage: error",!1,m,S),S.onabort=C(bn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=C(bn,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function yl(c,m){const y=new jn,S=new AbortController,j=setTimeout(()=>{S.abort(),bn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(j),q.ok?bn(y,"TestPingServer: ok",!0,m):bn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),bn(y,"TestPingServer: error",!1,m)})}function bn(c,m,y,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(y)}catch{}}function hs(){this.g=new Uo}function di(c){this.i=c.Sb||null,this.h=c.ab||!1}w(di,jo),di.prototype.g=function(){return new ur(this.i,this.h)};function ur(c,m){gt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ur,gt),r=ur.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Bn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?fs(this):Bn(this),this.readyState==3&&na(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},r.Na=function(c){this.g&&(this.response=c,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function An(c){let m="";return Ue(c,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function hr(c,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=An(y),typeof c=="string"?y!=null&&Ni(y):Qe(c,m,y))}function Xe(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xe,gt);var mi=/^https?$/i,vl=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){fr(this,q);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)y.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(vl,m,void 0)>=0)||S||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of y)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){fr(this,q)}};function fr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,_l(c),Di(c)}function _l(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Rt(this,"complete"),Rt(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(c){if(c.h&&typeof h<"u"){if(c.v&&qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Rt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=q===0){let te=String(c.D).match(Fo)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),S=!mi.test(te?te.toLowerCase():"")}y=S}if(y)Rt(c,"complete"),Rt(c,"success");else{c.o=6;try{var j=qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",_l(c)}}finally{Di(c)}}}}function Di(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const y=c.g;c.g=null,m||Rt(c,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ch(m)}};function Ut(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const m={};c=(c.g&&qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var y=qo(c[S]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[j]||[];m[j]=q,q.push(y)}Fe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function ds(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(c,m,y,S){yt(0),this.W=c,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=nc(this,null,this.W),gi(this)};function El(c){if(ia(c),c.I==3){var m=c.V++,y=Et(c.J);if(Qe(y,"SID",c.M),Qe(y,"RID",m),Qe(y,"TYPE","terminate"),mr(c,y),m=new Ln(c,c.j,m),m.M=2,m.A=or(Et(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=ic(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}tc(c)}function ms(c){c.g&&(Sl(c),c.g.cancel(),c.g=null)}function ia(c){ms(c),c.v&&(d.clearTimeout(c.v),c.v=null),ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gi(c){if(!cl(c.h)&&!c.m){c.m=!0;var m=c.Ea;Be||b(),_e||(Be(),_e=!0),I.add(m,c),c.D=0}}function sa(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(_(c.Ea,c,m),ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Ln(this,this.j,c);let q=this.o;if(this.U&&(q?(q=k(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=$o(this,j,m),y=Et(this.J),Qe(y,"RID",c),Qe(y,"CVER",22),this.G&&Qe(y,"X-HTTP-Session-Id",this.G),mr(this,y),q&&(this.R?m="headers="+Ni(An(q))+"&"+m:this.u&&hr(y,this.u,q)),ul(this.h,j),this.Ra&&Qe(y,"TYPE","init"),this.S?(Qe(y,"$req",m),Qe(y,"SID","null"),j.U=!0,ai(j,y,null)):ai(j,y,m),this.I=2}}else this.I==3&&(c?Tl(this,c):this.i.length==0||cl(this.h)||Tl(this))};function Tl(c,m){var y;m?y=m.l:y=c.V++;const S=Et(c.J);Qe(S,"SID",c.M),Qe(S,"RID",y),Qe(S,"AID",c.K),mr(c,S),c.u&&c.o&&hr(S,c.u,c.o),y=new Ln(c,c.j,y,c.D+1),c.u===null&&(y.J=c.o),m&&(c.i=m.G.concat(c.i)),m=$o(c,y,1e3),y.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ul(c.h,y),ai(y,S,m)}function mr(c,m){c.H&&Ue(c.H,function(y,S){Qe(m,S,y)}),c.l&&Ue({},function(y,S){Qe(m,S,y)})}function $o(c,m,y){y=Math.min(c.i.length,y);const S=c.l?_(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ee=-1;for(;;){const dt=["count="+y];Ee==-1?y>0?(Ee=j[0].g,dt.push("ofs="+Ee)):Ee=0:dt.push("ofs="+Ee);let Pe=!0;for(let st=0;st<y;st++){var q=j[st].g;const wn=j[st].map;if(q-=Ee,q<0)Ee=Math.max(0,j[st].g-100),Pe=!1;else try{q="req"+q+"_"||"";try{var te=wn instanceof Map?wn:Object.entries(wn);for(const[vi,Hn]of te){let Gn=Hn;g(Hn)&&(Gn=as(Hn)),dt.push(q+vi+"="+encodeURIComponent(Gn))}}catch(vi){throw dt.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(wn)}}if(Pe){te=dt.join("&");break e}}te=void 0}return c=c.i.splice(0,y),m.G=c,te}function Zo(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Be||b(),_e||(Be(),_e=!0),I.add(m,c),c.A=0}}function pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(_(c.Da,c),ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),ms(this),Jo(this))};function Sl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Jo(c){c.g=new Ln(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Et(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),mr(c,m),c.u&&c.o&&hr(m,c.u,c.o),c.O&&(c.g.H=c.O);var y=c.g;c=c.ba,y.M=1,y.A=or(Et(m)),y.u=null,y.R=!0,$r(y,c)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),pr(this),yt(19))};function ra(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Wo(c,m){var y=null;if(c.g==m){ra(c),Sl(c),c.g=null;var S=2}else if(hi(c.h,m))y=m.G,hl(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;S=Xr(),Rt(S,new ii(S,y)),gi(c)}else Zo(c);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&sa(c,m)||S==2&&pr(c)))switch(y&&y.length>0&&(m=c.h,m.i=m.i.concat(y)),j){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function ec(c,m){let y=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(y*=2),y*m}function yi(c,m){if(c.j.info("Error code "+m),m==2){var y=_(c.bb,c),S=c.Ua;const j=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dt(S,"https"),or(S),j?zn(S.toString(),y):yl(S.toString(),y)}else yt(2);c.I=0,c.l&&c.l.pa(m),tc(c),ia(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const m=fl(c.h);(m.length!=0||c.i.length!=0)&&(ee(c.ja,m),ee(c.ja,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.oa()}}function nc(c,m,y){var S=y instanceof dn?Et(y):new dn(y);if(S.g!="")m&&(S.g=m+"."+S.g),ls(S,S.u);else{var j=d.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new dn(null);S&&Dt(q,S),m&&(q.g=m),j&&ls(q,j),y&&(q.h=y),S=q}return y=c.G,m=c.wa,y&&m&&Qe(S,y,m),Qe(S,"VER",c.ka),mr(c,S),S}function ic(c,m,y){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new di({ab:y})):new Xe(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ps(){}ps.prototype.g=function(c,m){return new en(c,m)};function en(c,m){gt.call(this),this.g=new ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!x(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Mi(this)}w(en,gt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){El(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.v&&(y={},y.__data__=as(c),c=y);m.i.push(new _t(m.Ya++,c)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,en.Z.N.call(this)};function rc(c){Vt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(rc,Vt);function ac(){Tn.call(this),this.status=1}w(ac,Tn);function Mi(c){this.g=c}w(Mi,sc),Mi.prototype.ra=function(){Rt(this.g,"a")},Mi.prototype.qa=function(c){Rt(this.g,new rc(c))},Mi.prototype.pa=function(c){Rt(this.g,new ac)},Mi.prototype.oa=function(){Rt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,K_=function(){return new ps},Y_=function(){return Xr()},Q_=ft,Dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,vu=ar,al.COMPLETE="complete",F_=al,Lo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",gt.prototype.listen=gt.prototype.J,oo=Lo,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,G_=Xe}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Sv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new $d("@firebase/firestore");function Ua(){return Pr.logLevel}function ce(r,...t){if(Pr.logLevel<=Oe.DEBUG){const i=t.map(em);Pr.debug(`Firestore (${Ja}): ${r}`,...i)}}function zr(r,...t){if(Pr.logLevel<=Oe.ERROR){const i=t.map(em);Pr.error(`Firestore (${Ja}): ${r}`,...i)}}function Yu(r,...t){if(Pr.logLevel<=Oe.WARN){const i=t.map(em);Pr.warn(`Firestore (${Ja}): ${r}`,...i)}}function em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,X_(r,a,i)}function X_(r,t,i){let a=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw zr(a),new Error(a)}function ht(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||X_(t,o,a)}function et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class oA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cA{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ht(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new $_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class uA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new uA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ht(this.o===void 0,3512);const a=h=>{h.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const o=h=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new bv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=dA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=t.charAt(o[h]%62))}return a}}function qe(r,t){return r<t?-1:r>t?1:0}function Od(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=t.charAt(a);if(o!==h)return vd(o)===vd(h)?qe(o,h):vd(o)?1:-1}return qe(r.length,t.length)}const mA=55296,pA=57343;function vd(r){const t=r.charCodeAt(0);return t>=mA&&t<=pA}function Fa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&we(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&we(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const h=bi.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return qe(t.length,i.length)}static compareSegments(t,i){const a=bi.isNumericId(t),o=bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(t).compare(bi.extractNumericId(i)):Od(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wd.fromString(t.substring(4,t.length-2))}}class ot extends bi{construct(t,i,a){return new ot(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends bi{construct(t,i,a){return new Gt(t,i,a)}static isValidIdentifier(t){return gA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new Gt([Av])}static fromServerFormat(t){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gt(i)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.path=t}static fromPath(t){return new Ae(ot.fromString(t))}static fromName(t){return new Ae(ot.fromString(t).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ot.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ae(new ot(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r,t,i){if(!i)throw new fe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function yA(r,t,i,a){if(t===!0&&a===!0)throw new fe(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function wv(r){if(!Ae.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xv(r){if(Ae.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function J_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Md(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=nm(r);throw new fe(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r,t){const i={typeString:r};return t&&(i.value=t),i}function xo(r,t){if(!J_(r))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new fe(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Rv=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(t){return lt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Rv);return new lt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xo(t,lt._jsonSchema))return new lt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:xt("string",lt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new lt(0,0))}static max(){return new at(new lt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function vA(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=at.fromTimestamp(a===1e9?new lt(i+1,0):new lt(i,a));return new $s(o,Ae.empty(),t)}function _A(r){return new $s(r.readTime,r.key,vo)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(at.min(),Ae.empty(),vo)}static max(){return new $s(at.max(),Ae.empty(),vo)}}function EA(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Ae.comparator(r.documentKey,t.documentKey),i!==0?i:qe(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==TA)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,h=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const h=t.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((C=>{d[_]=C,++g,g===h&&a(d)}),(C=>o(C)))}}))}static doWhile(t,i){return new $(((a,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):a()};h()}))}}function bA(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function am(r){return r==null}function Iu(r){return r===0&&1/r==-1/0}function AA(r){return typeof r=="number"&&Number.isInteger(r)&&!Iu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function wA(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Iv(t)),t=xA(r.get(i),t);return Iv(t)}function xA(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case W_:i+="";break;default:i+=h}}return i}function Iv(r){return r+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Wa(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function e0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,i){this.comparator=t,this.root=i||qt.EMPTY}insert(t,i){return new hn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(t){return new hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qt.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hu(this.root,t,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hu(this.root,t,this.comparator,!0)}}class hu{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qt{constructor(t,i,a,o,h){this.key=t,this.value=i,this.color=a??qt.RED,this.left=o??qt.EMPTY,this.right=h??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,h){return new qt(t??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const h=a(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw we(27949);return t+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(t,i,a,o,h){return this}insert(t,i,a){return new qt(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.comparator=t,this.data=new hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Qt(this.comparator);return i.data=t,i}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Gt.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Qt(Gt.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new CA("Invalid base64 string: "+h):h}})(t);return new Ci(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new Ci(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(ht(!!r,39018),typeof r=="string"){let t=0;const i=RA.exec(r);if(ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?Ci.fromBase64String(r):Ci.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="server_timestamp",n0="__type__",i0="__previous_value__",s0="__local_write_time__";function lm(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===t0}function om(r){const t=r.mapValue.fields[i0];return lm(t)?om(t):t}function Nu(r){const t=Br(r.mapValue.fields[s0].timestampValue);return new lt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,i,a,o,h,d,g,v,_,C){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=C}}const Du="(default)";class Ou{constructor(t,i){this.projectId=t,this.database=i||Du}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Du}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__type__",NA="__max__",fu={mapValue:{}},a0="__vector__",kd="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lm(r)?4:OA(r)?9007199254740991:DA(r)?10:11:we(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=qr(r);if(i!==qr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nu(r).isEqual(Nu(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Br(o.timestampValue),g=Br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,h){return Qa(o.bytesValue).isEqual(Qa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,h){return Ht(o.geoPointValue.latitude)===Ht(h.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(h.geoPointValue.longitude)})(r,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ht(o.integerValue)===Ht(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ht(o.doubleValue),g=Ht(h.doubleValue);return d===g?Iu(d)===Iu(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Nv(d)!==Nv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ri(d[v],g[v])))return!1;return!0})(r,t);default:return we(52216,{left:r})}}function _o(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=qr(r),a=qr(t);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=Ht(h.integerValue||h.doubleValue),v=Ht(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Nu(r),Nu(t));case 5:return Od(r.stringValue,t.stringValue);case 6:return(function(h,d){const g=Qa(h),v=Qa(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const C=qe(g[_],v[_]);if(C!==0)return C}return qe(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=qe(Ht(h.latitude),Ht(d.latitude));return g!==0?g:qe(Ht(h.longitude),Ht(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Mv(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[kd]?.arrayValue,C=v[kd]?.arrayValue,w=qe(_?.values?.length||0,C?.values?.length||0);return w!==0?w:Mv(_,C)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fu.mapValue&&d===fu.mapValue)return 0;if(h===fu.mapValue)return 1;if(d===fu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},C=Object.keys(_);v.sort(),C.sort();for(let w=0;w<v.length&&w<C.length;++w){const V=Od(v[w],C[w]);if(V!==0)return V;const X=Ya(g[v[w]],_[C[w]]);if(X!==0)return X}return qe(v.length,C.length)})(r.mapValue,t.mapValue);default:throw we(23264,{he:i})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qe(r,t);const i=Br(r),a=Br(t),o=qe(i.seconds,a.seconds);return o!==0?o:qe(i.nanos,a.nanos)}function Mv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ya(i[o],a[o]);if(h)return h}return qe(i.length,a.length)}function Ka(r){return Vd(r)}function Vd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Br(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Qa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ae.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Vd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Vd(i.fields[d])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function _u(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=om(r);return t?16+_u(t):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+_u(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Wa(a.fields,((h,d)=>{o+=h.length+_u(d)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function Ud(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Eu(r){return!!r&&"mapValue"in r}function DA(r){return(r?.mapValue?.fields||{})[r0]?.stringValue===a0}function uo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Wa(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=uo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uo(r.arrayValue.values[i]);return t}return{...r}}function OA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Eu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uo(i)}setAll(t){let i=Gt.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=uo(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(t){const i=this.field(t.popLast());Eu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Eu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Wa(i,((o,h)=>t[o]=h));for(const o of a)delete t[o]}clone(){return new $n(uo(this.value))}}function l0(r){const t=[];return Wa(r.fields,((i,a)=>{const o=new Gt([i]);if(Eu(a)){const h=l0(a.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,i,a,o,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Kn(t,0,at.min(),at.min(),at.min(),$n.empty(),0)}static newFoundDocument(t,i,a,o){return new Kn(t,1,i,at.min(),a,o,0)}static newNoDocument(t,i){return new Kn(t,2,i,at.min(),at.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new Kn(t,3,i,at.min(),at.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,i){this.position=t,this.inclusive=i}}function kv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const h=t[o],d=r.position[o];if(h.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,i="asc"){this.field=t,this.dir=i}}function MA(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{}class kt extends o0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new VA(t,i,a):i==="array-contains"?new LA(t,a):i==="in"?new PA(t,a):i==="not-in"?new zA(t,a):i==="array-contains-any"?new BA(t,a):new kt(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new UA(t,a):new jA(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zs extends o0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zs(t,i)}matches(t){return c0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function u0(r){return kA(r)&&c0(r)}function kA(r){for(const t of r.filters)if(t instanceof Zs)return!1;return!0}function jd(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(u0(r))return r.filters.map((t=>jd(t))).join(",");{const t=r.filters.map((i=>jd(i))).join(",");return`${r.op}(${t})`}}function h0(r,t){return r instanceof kt?(function(a,o){return o instanceof kt&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(r,t):r instanceof Zs?(function(a,o){return o instanceof Zs&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&h0(d,o.filters[g])),!0):!1})(r,t):void we(19439)}function f0(r){return r instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(r):r instanceof Zs?(function(i){return i.op.toString()+" {"+i.getFilters().map(f0).join(" ,")+"}"})(r):"Filter"}class VA extends kt{constructor(t,i,a){super(t,i,a),this.key=Ae.fromName(a.referenceValue)}matches(t){const i=Ae.comparator(t.key,this.key);return this.matchesComparison(i)}}class UA extends kt{constructor(t,i){super(t,"in",i),this.keys=d0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class jA extends kt{constructor(t,i){super(t,"not-in",i),this.keys=d0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function d0(r,t){return(t.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class LA extends kt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&_o(i.arrayValue,this.value)}}class PA extends kt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class zA extends kt{constructor(t,i){super(t,"not-in",i)}matches(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class BA extends kt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>_o(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,i=null,a=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Uv(r,t=null,i=[],a=[],o=null,h=null,d=null){return new qA(r,t,i,a,o,h,d)}function um(r){const t=et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>jd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),am(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ka(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ka(a))).join(",")),t.Te=i}return t.Te}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!MA(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!h0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Vv(r.startAt,t.startAt)&&Vv(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HA(r,t,i,a,o,h,d,g){return new Ku(r,t,i,a,o,h,d,g)}function GA(r){return new Ku(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FA(r){return r.collectionGroup!==null}function ho(r){const t=et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Qt(Gt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new ku(h,a))})),i.has(Gt.keyField().canonicalString())||t.Ie.push(new ku(Gt.keyField(),a))}return t.Ie}function Ur(r){const t=et(r);return t.Ee||(t.Ee=QA(t,ho(r))),t.Ee}function QA(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ku(o.field,h)}));const i=r.endAt?new Mu(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mu(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ld(r,t,i){return new Ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function m0(r,t){return hm(Ur(r),Ur(t))&&r.limitType===t.limitType}function p0(r){return`${um(Ur(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>f0(o))).join(", ")}]`),am(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Ka(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Ka(o))).join(",")),`Target(${a})`})(Ur(r))}; limitType=${r.limitType})`}function fm(r,t){return t.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ae.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,o){for(const h of ho(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=kv(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,ho(a),o)||a.endAt&&!(function(d,g,v){const _=kv(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,ho(a),o))})(r,t)}function YA(r){return(t,i)=>{let a=!1;for(const o of ho(r)){const h=KA(o,t,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function KA(r,t,i){const a=r.field.isKeyField()?Ae.comparator(t.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ya(v,_):we(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wa(this.inner,((i,a)=>{for(const[o,h]of a)t(o,h)}))}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new hn(Ae.comparator);function Vu(){return XA}const g0=new hn(Ae.comparator);function du(...r){let t=g0;for(const i of r)t=t.insert(i.key,i);return t}function y0(r){let t=g0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function kr(){return fo()}function v0(){return fo()}function fo(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const $A=new hn(Ae.comparator),ZA=new Qt(Ae.comparator);function Zt(...r){let t=ZA;for(const i of r)t=t.add(i);return t}const JA=new Qt(qe);function WA(){return JA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(t)?"-0":t}}function _0(r){return{integerValue:""+r}}function e1(r,t){return AA(t)?_0(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this._=void 0}}function t1(r,t,i){return r instanceof Eo?(function(o,h){const d={fields:{[n0]:{stringValue:t0},[s0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&lm(h)&&(h=om(h)),h&&(d.fields[i0]=h),{mapValue:d}})(i,t):r instanceof To?T0(r,t):r instanceof So?S0(r,t):(function(o,h){const d=E0(o,h),g=Lv(d)+Lv(o.Ae);return Ud(d)&&Ud(o.Ae)?_0(g):dm(o.serializer,g)})(r,t)}function n1(r,t,i){return r instanceof To?T0(r,t):r instanceof So?S0(r,t):i}function E0(r,t){return r instanceof Uu?(function(a){return Ud(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Eo extends Xu{}class To extends Xu{constructor(t){super(),this.elements=t}}function T0(r,t){const i=b0(t);for(const a of r.elements)i.some((o=>Ri(o,a)))||i.push(a);return{arrayValue:{values:i}}}class So extends Xu{constructor(t){super(),this.elements=t}}function S0(r,t){let i=b0(t);for(const a of r.elements)i=i.filter((o=>!Ri(o,a)));return{arrayValue:{values:i}}}class Uu extends Xu{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Lv(r){return Ht(r.integerValue||r.doubleValue)}function b0(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,i){this.field=t,this.transform=i}}function s1(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof To&&o instanceof To||a instanceof So&&o instanceof So?Fa(a.elements,o.elements,Ri):a instanceof Uu&&o instanceof Uu?Ri(a.Ae,o.Ae):a instanceof Eo&&o instanceof Eo})(r.transform,t.transform)}class r1{constructor(t,i){this.version=t,this.transformResults=i}}class Ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class $u{}function A0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new x0(r.key,Ji.none()):new Ro(r.key,r.data,Ji.none());{const i=r.data,a=$n.empty();let o=new Qt(Gt.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Fr(r.key,a,new Jn(o.toArray()),Ji.none())}}function a1(r,t,i){r instanceof Ro?(function(o,h,d){const g=o.value.clone(),v=zv(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Fr?(function(o,h,d){if(!Tu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=zv(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(w0(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function mo(r,t,i,a){return r instanceof Ro?(function(h,d,g,v){if(!Tu(h.precondition,d))return g;const _=h.value.clone(),C=Bv(h.fieldTransforms,v,d);return _.setAll(C),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Fr?(function(h,d,g,v){if(!Tu(h.precondition,d))return g;const _=Bv(h.fieldTransforms,v,d),C=d.data;return C.setAll(w0(h)),C.setAll(_),d.convertToFoundDocument(d.version,C).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(h,d,g){return Tu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function l1(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),h=E0(a.transform,o||null);h!=null&&(i===null&&(i=$n.empty()),i.set(a.field,h))}return i||null}function Pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Fa(a,o,((h,d)=>s1(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ro extends $u{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends $u{constructor(t,i,a,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function zv(r,t,i){const a=new Map;ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=t.data.field(h.field);a.set(h.field,n1(d,g,i[o]))}return a}function Bv(r,t,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,t1(h,d,t))}return a}class x0 extends $u{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o1 extends $u{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&a1(h,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=mo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=mo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=v0();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=A0(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(at.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Zt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,a)=>Pv(i,a)))&&Fa(this.baseMutations,t.baseMutations,((i,a)=>Pv(i,a)))}}class mm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return $A})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new mm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ve;function h1(r){switch(r){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function f1(r){if(r===void 0)return zr("GRPC error has no .code"),J.UNKNOWN;switch(r){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:r})}}(Ve=wt||(wt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wd([4294967295,4294967295],0);class d1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Pd(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function m1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function p1(r,t){return Pd(r,t.toTimestamp())}function Pa(r){return ht(!!r,49232),at.fromTimestamp((function(i){const a=Br(i);return new lt(a.seconds,a.nanos)})(r))}function C0(r,t){return zd(r,t).canonicalString()}function zd(r,t){const i=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function g1(r){const t=ot.fromString(r);return ht(A1(t),10190,{key:t.toString()}),t}function Bd(r,t){return C0(r.databaseId,t.path)}function y1(r){const t=g1(r);return t.length===4?ot.emptyPath():_1(t)}function v1(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _1(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qv(r,t,i){return{name:Bd(r,t),fields:i.value.mapValue.fields}}function E1(r,t){let i;if(t instanceof Ro)i={update:qv(r,t.key,t.value)};else if(t instanceof x0)i={delete:Bd(r,t.key)};else if(t instanceof Fr)i={update:qv(r,t.key,t.data),updateMask:b1(t.fieldMask)};else{if(!(t instanceof o1))return we(16599,{Vt:t.type});i={verify:Bd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof So)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw we(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:p1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:we(27497)})(r,t.precondition)),i}function T1(r,t){return r&&r.length>0?(ht(t!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Pa(o.updateTime):Pa(h);return d.isEqual(at.min())&&(d=Pa(h)),new r1(d,o.transformResults||[])})(i,t)))):[]}function S1(r){let t=y1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ht(a===1,65062);const C=i.from[0];C.allDescendants?o=C.collectionId:t=t.child(C.collectionId)}let h=[];i.where&&(h=(function(w){const V=R0(w);return V instanceof Zs&&u0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(ee){return new ku(ja(ee.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,am(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(w){const V=!!w.before,X=w.values||[];return new Mu(X,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const V=!w.before,X=w.values||[];return new Mu(X,V)})(i.endAt)),HA(t,o,d,h,g,"F",v,_)}function R0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ja(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ja(i.unaryFilter.field);return kt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(i){return kt.create(ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zs.create(i.compositeFilter.filters.map((a=>R0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(r):we(30097,{filter:r})}function ja(r){return Gt.fromServerFormat(r.fieldPath)}function b1(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function A1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.yt=t}}function x1(r){const t=S1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.Cn=new R1}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve($s.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class R1{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Qt(ot.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Qt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(I0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="LruGarbageCollector",I1=1048576;function Fv([r,t],[i,a]){const o=qe(r,i);return o===0?qe(t,a):o}class N1{constructor(t){this.Ir=t,this.buffer=new Qt(Fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class D1{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ce(Gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Co(i)?ce(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await im(i)}await this.Vr(3e5)}))}}class O1{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(sm.ce);const a=new N1(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,h,d,g,v,_;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Ua()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-C}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-C}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function M1(r,t){return new O1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&mo(a.mutation,o,Jn.empty(),lt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Zt()){const o=kr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((h=>{let d=du();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let h=Vu();const d=fo(),g=(function(){return fo()})();return i.forEach(((v,_)=>{const C=a.get(_.key);o.has(_.key)&&(C===void 0||C.mutation instanceof Fr)?h=h.insert(_.key,_):C!==void 0?(d.set(_.key,C.mutation.getFieldMask()),mo(C.mutation,_,C.mutation.getFieldMask(),lt.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,C)=>d.set(_,C))),i.forEach(((_,C)=>g.set(_,new V1(C,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=fo();let o=new hn(((d,g)=>d-g)),h=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let C=a.get(v)||Jn.empty();C=g.applyToLocalView(_,C),a.set(v,C);const w=(o.get(g.batchId)||Zt()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,C=v.value,w=v0();C.forEach((V=>{if(!h.has(V)){const X=A0(i.get(V),a.get(V));X!==null&&w.set(V,X),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FA(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-h.size):$.resolve(kr());let g=vo,v=h;return d.next((_=>$.forEach(_,((C,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),h.get(C)?$.resolve():this.remoteDocumentCache.getEntry(t,C).next((V=>{v=v.insert(C,V)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Zt()))).next((C=>({batchId:g,changes:y0(C)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ae(i)).next((a=>{let o=du();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const h=i.collectionGroup;let d=du();return this.indexManager.getCollectionParents(t,h).next((g=>$.forEach(g,(v=>{const _=(function(w,V){return new Ku(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((C=>{C.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const C=_.getKey();d.get(C)===null&&(d=d.insert(C,Kn.newInvalidDocument(C)))}));let g=du();return d.forEach(((v,_)=>{const C=h.get(v);C!==void 0&&mo(C.mutation,_,Jn.empty(),lt.now()),fm(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pa(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:x1(o.bundledQuery),readTime:Pa(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.overlays=new hn(Ae.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=kr();return $.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,h)=>{this.St(t,i,h)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=kr(),h=i.length+1,d=new Ae(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let h=new hn(((_,C)=>_-C));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let C=h.get(_.largestBatchId);C===null&&(C=kr(),h=h.insert(_.largestBatchId,C)),C.set(_.getKey(),_)}}const g=kr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,C)=>g.set(_,C))),!(g.size()>=o)););return $.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new u1(i,a));let h=this.qr.get(i);h===void 0&&(h=Zt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Qr=new Qt(Mt.$r),this.Ur=new Qt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Mt(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Mt(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Ae(new ot([])),a=new Mt(i,t),o=new Mt(i,t+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Ae(new ot([])),a=new Mt(i,t),o=new Mt(i,t+1);let h=Zt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Mt(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Mt{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Ae.comparator(t.key,i.key)||qe(t.Yr,i.Yr)}static Kr(t,i){return qe(t.Yr,i.Yr)||Ae.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Mt.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new c1(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Mt(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?rm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Qt(qe);return i.forEach((o=>{const h=new Mt(o,0),d=new Mt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let h=a;Ae.isDocumentKey(h)||(h=h.child(""));const d=new Mt(new Ae(h),0);let g=new Qt(qe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Mt(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Mt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.ri=t,this.docs=(function(){return new hn(Ae.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(i))}getEntries(t,i){let a=Vu();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Kn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let h=Vu();const d=i.path,g=new Ae(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:C}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||EA(_A(C),a)<=0||(o.has(C.key)||fm(i,C))&&(h=h.insert(C.key,C.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(t,i,a,o){we(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new q1(this)}getSize(t){return $.resolve(this.size)}}class q1 extends k1{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.persistence=t,this.si=new Gr((i=>um(i)),hm),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new pm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,i){this.ui={},this.overlays={},this.ci=new sm(0),this.li=!1,this.li=!0,this.hi=new P1,this.referenceDelegate=t(this),this.Pi=new H1(this),this.indexManager=new C1,this.remoteDocumentCache=(function(o){return new B1(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new w1(i),this.Ii=new j1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new L1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new z1(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ce("MemoryPersistence","Starting transaction:",t);const o=new G1(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class G1 extends SA{constructor(t){super(),this.currentSequenceNumber=t}}class gm{constructor(t){this.persistence=t,this.Ri=new pm,this.Vi=null}static mi(t){return new gm(t)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=Ae.fromPath(a);return this.gi(t,o).next((h=>{h||i.removeEntry(o,at.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ju{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>wA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=M1(this,i)}static mi(t,i){return new ju(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((h=>h?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,h.removeEntry(d,at.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_u(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Zt(),o=Zt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new ym(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:bA(Jt())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new F1;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ua()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ua()<=Oe.DEBUG&&ce("QueryEngine","Query:",lo(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ua()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ur(i))):$.resolve())}ys(t,i){if(jv(i))return $.resolve(null);let a=Ur(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ld(i,null,"F"),a=Ur(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Zt(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(t,Ld(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,a,o){return jv(i)||o.isEqual(at.min())?$.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(Ua()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(i)),this.vs(t,d,i,vA(o,vo)).next((g=>g)))}))}Ds(t,i){let a=new Qt(YA(t));return i.forEach(((o,h)=>{fm(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,a){return Ua()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="LocalStore";class K1{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new hn(qe),this.xs=new Gr((h=>um(h)),hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function X1(r,t,i,a){return new K1(r,t,i,a)}async function D0(r,t){const i=et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Zt();for(const _ of o){d.push(_.batchId);for(const C of _.mutations)v=v.add(C.key)}for(const _ of h){g.push(_.batchId);for(const C of _.mutations)v=v.add(C.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function $1(r,t){const i=et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,C){const w=_.batch,V=w.keys();let X=$.resolve();return V.forEach((ee=>{X=X.next((()=>C.getEntry(v,ee))).next((se=>{const Z=_.docVersions.get(ee);ht(Z!==null,48541),se.version.compareTo(Z)<0&&(w.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),C.addEntry(se)))}))})),X.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Zt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Z1(r){const t=et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function J1(r,t){const i=et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}class Qv{constructor(){this.activeTargetIds=WA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W1{constructor(){this.Mo=new Qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ce(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function qd(){return mu===null?mu=(function(){return 268435456+Math.round(2147483648*Math.random())})():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",tw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Du?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,h){const d=qd(),g=this.zo(t,i.toUriEncodedString());ce(_d,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),C=$a(_);return this.Jo(t,g,v,a,C).then((w=>(ce(_d,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Yu(_d,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,o,h,d){return this.Go(t,i,a,o,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),a&&a.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const a=tw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class sw extends nw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,h){const d=qd();return new Promise(((g,v)=>{const _=new G_;_.setWithCredentials(!0),_.listenOnce(F_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case vu.NO_ERROR:const w=_.getResponseJson();ce(Xt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case vu.TIMEOUT:ce(Xt,`RPC '${t}' ${d} timed out`),v(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case vu.HTTP_ERROR:const V=_.getStatus();if(ce(Xt,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const ee=X?.error;if(ee&&ee.status&&ee.message){const se=(function(W){const re=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(ee.status);v(new fe(se,ee.message))}else v(new fe(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new fe(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(Xt,`RPC '${t}' ${d} completed.`)}}));const C=JSON.stringify(o);ce(Xt,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",C,a,15)}))}T_(t,i,a){const o=qd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=K_(),g=Y_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const C=h.join("");ce(Xt,`Creating RPC '${t}' stream ${o}: ${C}`,v);const w=d.createWebChannel(C,v);this.I_(w);let V=!1,X=!1;const ee=new iw({Yo:Z=>{X?ce(Xt,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(V||(ce(Xt,`Opening RPC '${t}' stream ${o} transport.`),w.open(),V=!0),ce(Xt,`RPC '${t}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),se=(Z,W,re)=>{Z.listen(W,(ue=>{try{re(ue)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return se(w,oo.EventType.OPEN,(()=>{X||(ce(Xt,`RPC '${t}' stream ${o} transport opened.`),ee.o_())})),se(w,oo.EventType.CLOSE,(()=>{X||(X=!0,ce(Xt,`RPC '${t}' stream ${o} transport closed`),ee.a_(),this.E_(w))})),se(w,oo.EventType.ERROR,(Z=>{X||(X=!0,Yu(Xt,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),ee.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),se(w,oo.EventType.MESSAGE,(Z=>{if(!X){const W=Z.data[0];ht(!!W,16349);const re=W,ue=re?.error||re[0]?.error;if(ue){ce(Xt,`RPC '${t}' stream ${o} received error:`,ue);const xe=ue.status;let Be=(function(b){const A=wt[b];if(A!==void 0)return f1(A)})(xe),_e=ue.message;Be===void 0&&(Be=J.INTERNAL,_e="Unknown error status: "+xe+" with message "+ue.message),X=!0,ee.a_(new fe(Be,_e)),w.close()}else ce(Xt,`RPC '${t}' stream ${o} received:`,W),ee.u_(W)}})),se(g,Q_.STAT_EVENT,(Z=>{Z.stat===Dd.PROXY?ce(Xt,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Dd.NOPROXY&&ce(Xt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(r){return new d1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,i,a=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="PersistentStream";class rw{constructor(t,i,a,o,h,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(zr(i.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ce(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ce(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aw extends rw{constructor(t,i,a,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=T1(t.writeResults,t.commitTime),a=Pa(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=v1(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>E1(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class ow extends lw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,zd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(J.UNKNOWN,h.toString())}))}Ho(t,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,zd(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class uw{constructor(t,i,a,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Do(this)&&(ce(Io,"Restarting streams for network reachability change."),await(async function(v){const _=et(v);_.Ea.add(4),await No(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ju(_)})(this))}))})),this.Ra=new cw(a,o)}}async function Ju(r){if(Do(r))for(const t of r.da)await t(!0)}async function No(r){for(const t of r.da)await t(!1)}function Do(r){return et(r).Ea.size===0}async function M0(r,t,i){if(!Co(t))throw t;r.Ea.add(1),await No(r),r.Ra.set("Offline"),i||(i=()=>Z1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Io,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ju(r)}))}function k0(r,t){return t().catch((i=>M0(r,i,t)))}async function Wu(r){const t=et(r),i=Js(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rm;for(;hw(t);)try{const o=await J1(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,fw(t,o)}catch(o){await M0(t,o)}V0(t)&&U0(t)}function hw(r){return Do(r)&&r.Ta.length<10}function fw(r,t){r.Ta.push(t);const i=Js(r);i.O_()&&i.X_&&i.ea(t.mutations)}function V0(r){return Do(r)&&!Js(r).x_()&&r.Ta.length>0}function U0(r){Js(r).start()}async function dw(r){Js(r).ra()}async function mw(r){const t=Js(r);for(const i of r.Ta)t.ea(i.mutations)}async function pw(r,t,i){const a=r.Ta.shift(),o=mm.from(a,t,i);await k0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Wu(r)}async function gw(r,t){t&&Js(r).X_&&await(async function(a,o){if((function(d){return h1(d)&&d!==J.ABORTED})(o.code)){const h=a.Ta.shift();Js(a).B_(),await k0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Wu(a)}})(r,t),V0(r)&&U0(r)}async function $v(r,t){const i=et(r);i.asyncQueue.verifyOperationInProgress(),ce(Io,"RemoteStore received new credentials");const a=Do(i);i.Ea.add(3),await No(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ju(i)}async function yw(r,t){const i=et(r);t?(i.Ea.delete(2),await Ju(i)):t||(i.Ea.add(2),await No(i),i.Ra.set("Unknown"))}function Js(r){return r.fa||(r.fa=(function(i,a,o){const h=et(i);return h.sa(),new aw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dw.bind(null,r),r_:gw.bind(null,r),ta:mw.bind(null,r),na:pw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Wu(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Io,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i,a,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,h){const d=Date.now()+a,g=new vm(t,i,d,o,h);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j0(r,t){if(zr("AsyncQueue",`${t}: ${r}`),Co(r))return new fe(J.UNAVAILABLE,`${t}: ${r}`);throw r}class vw{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=et(i),h=o.queries;o.queries=Zv(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function Zv(){return new Gr((r=>p0(r)),m0)}function _w(r){r.Ca.forEach((t=>{t.next()}))}var Jv,Wv;(Wv=Jv||(Jv={})).Ma="default",Wv.Cache="cache";const Ew="SyncEngine";class Tw{constructor(t,i,a,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((g=>p0(g)),m0),this.Iu=new Map,this.Eu=new Set,this.du=new hn(Ae.comparator),this.Au=new Map,this.Ru=new pm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sw(r,t,i){const a=xw(r);try{const o=await(function(d,g){const v=et(d),_=lt.now(),C=g.reduce(((X,ee)=>X.add(ee.key)),Zt());let w,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let ee=Vu(),se=Zt();return v.Ns.getEntries(X,C).next((Z=>{ee=Z,ee.forEach(((W,re)=>{re.isValidDocument()||(se=se.add(W))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,ee))).next((Z=>{w=Z;const W=[];for(const re of g){const ue=l1(re,w.get(re.key).overlayedDocument);ue!=null&&W.push(new Fr(re.key,ue,l0(ue.value.mapValue),Ji.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,W,g)})).next((Z=>{V=Z;const W=Z.applyToLocalDocumentSet(w,se);return v.documentOverlayCache.saveOverlays(X,Z.batchId,W)}))})).then((()=>({batchId:V.batchId,changes:y0(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new hn(qe)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await eh(a,o.changes),await Wu(a.remoteStore)}catch(o){const h=j0(o,"Failed to persist write");i.reject(h)}}function e_(r,t,i){const a=et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=et(d);v.onlineState=g;let _=!1;v.queries.forEach(((C,w)=>{for(const V of w.Sa)V.va(g)&&(_=!0)})),_&&_w(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function bw(r,t){const i=et(r),a=t.batch.batchId;try{const o=await $1(i.localStore,t);P0(i,a,null),L0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eh(i,o)}catch(o){await im(o)}}async function Aw(r,t,i){const a=et(r);try{const o=await(function(d,g){const v=et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let C;return v.mutationQueue.lookupMutationBatch(_,g).next((w=>(ht(w!==null,37113),C=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,C,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C))).next((()=>v.localDocuments.getDocuments(_,C)))}))})(a.localStore,t);P0(a,t,i),L0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eh(a,o)}catch(o){await im(o)}}function L0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function P0(r,t,i){const a=et(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}async function eh(r,t,i){const a=et(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const C=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){o.push(_);const C=ym.As(v.targetId,_);h.push(C)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const C=et(v);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(V=>$.forEach(V.Es,(X=>C.persistence.referenceDelegate.addReference(w,V.targetId,X))).next((()=>$.forEach(V.ds,(X=>C.persistence.referenceDelegate.removeReference(w,V.targetId,X)))))))))}catch(w){if(!Co(w))throw w;ce(Y1,"Failed to update sequence numbers: "+w)}for(const w of _){const V=w.targetId;if(!w.fromCache){const X=C.Ms.get(V),ee=X.snapshotVersion,se=X.withLastLimboFreeSnapshotVersion(ee);C.Ms=C.Ms.insert(V,se)}}})(a.localStore,h))}async function ww(r,t){const i=et(r);if(!i.currentUser.isEqual(t)){ce(Ew,"User change. New user:",t.toKey());const a=await D0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new fe(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eh(i,a.Ls)}}function xw(r){const t=et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Aw.bind(null,t),t}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return X1(this.persistence,new Q1,t.initialUser,this.serializer)}Cu(t){return new N0(gm.mi,this.serializer)}Du(t){return new W1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class Cw extends Lu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ht(this.persistence.referenceDelegate instanceof ju,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new D1(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new N0((a=>ju.mi(a,i)),this.serializer)}}class Hd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ww.bind(null,this.syncEngine),await yw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vw})()}createDatastore(t){const i=Zu(t.databaseInfo.databaseId),a=(function(h){return new sw(h)})(t.databaseInfo);return(function(h,d,g,v){return new ow(h,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,h,d,g){return new uw(a,o,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>e_(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new ew})())}createSyncEngine(t,i){return(function(o,h,d,g,v,_,C){const w=new Tw(o,h,d,g,v,_);return C&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=et(i);ce(Io,"RemoteStore shutting down."),a.Ea.add(5),await No(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class Rw{constructor(t,i,a,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ce(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=j0(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Td(r,t){r.asyncQueue.verifyOperationInProgress(),ce(Ws,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await D0(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Iw(r);ce(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$v(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$v(t.remoteStore,o))),r._onlineComponents=t}async function Iw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ws,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Yu("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new Lu)}}else ce(Ws,"Using default OfflineComponentProvider"),await Td(r,new Cw(void 0));return r._offlineComponents}async function Nw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ws,"Using user provided OnlineComponentProvider"),await t_(r,r._uninitializedComponentsProvider._online)):(ce(Ws,"Using default OnlineComponentProvider"),await t_(r,new Hd))),r._onlineComponents}function Dw(r){return Nw(r).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firestore.googleapis.com",i_=!0;class s_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=i_}else this.host=t.host,this.ssl=t.ssl??i_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<I1)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class th{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new lA;switch(a.type){case"firstParty":return new hA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n_.get(i);a&&(ce("ComponentProvider","Removing Datastore"),n_.delete(i),a.terminate())})(this),Promise.resolve()}}function Ow(r,t,i,a={}){r=Md(r,th);const o=$a(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(U_(`https://${g}`),j_("Firestore",!0)),h.host!==B0&&h.host!==g&&Yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!jr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,C;if(typeof a.mockUserToken=="string")_=a.mockUserToken,C=$t.MOCK_USER;else{_=kS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new $t(w)}r._authCredentials=new oA(new $_(_,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _m(this.firestore,t,this._query)}}class Ft{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ft(this.firestore,t,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(xo(i,Ft._jsonSchema))return new Ft(t,a||null,new Ae(ot.fromString(i.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:xt("string",Ft._jsonSchemaVersion),referencePath:xt("string")};class Ys extends _m{constructor(t,i,a){super(t,i,GA(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ft(this.firestore,null,new Ae(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function Mw(r,t,...i){if(r=ei(r),Z_("collection","path",t),r instanceof th){const a=ot.fromString(t,...i);return xv(a),new Ys(r,null,a)}{if(!(r instanceof Ft||r instanceof Ys))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return xv(a),new Ys(r.firestore,null,a)}}function kw(r,t,...i){if(r=ei(r),arguments.length===1&&(t=tm.newId()),Z_("doc","path",t),r instanceof th){const a=ot.fromString(t,...i);return wv(a),new Ft(r,null,new Ae(a))}{if(!(r instanceof Ft||r instanceof Ys))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return wv(a),new Ft(r.firestore,r instanceof Ys?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="AsyncQueue";class a_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O0(this,"async_queue_retry"),this._c=()=>{const a=Ed();a&&ce(r_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Co(t))throw t;ce(r_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",l_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=vm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:l_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class q0 extends th{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new a_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a_(t),this._firestoreClient=void 0,await t}}}function Vw(r,t){const i=typeof r=="object"?r:B_(),a=typeof r=="string"?r:Du,o=Jd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=OS("firestore");h&&Ow(o,...h)}return o}function Uw(r){if(r._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jw(r),r._firestoreClient}function jw(r){const t=r._freezeSettings(),i=(function(o,h,d,g){return new IA(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,z0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Rw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(Ci.fromBase64String(t))}catch(i){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(Ci.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xo(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:xt("string",Zn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qe(this._lat,t._lat)||qe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(t){if(xo(t,Wi._jsonSchema))return new Wi(t.latitude,t.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:xt("string",Wi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xo(t,es._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new es(t.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:xt("string",es._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^__.*__$/;class Pw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(t,this.data,i,this.fieldTransforms)}}function H0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class Sm{constructor(t,i,a,o,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pu(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(H0(this.Ac)&&Lw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class zw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Zu(t)}Cc(t,i,a,o=!1){return new Sm({Ac:t,methodName:i,Dc:a,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bw(r){const t=r._freezeSettings(),i=Zu(r._databaseId);return new zw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function qw(r,t,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,i,o);Y0("Data must be an object, but it was:",d,a);const g=F0(a,d);let v,_;if(h.merge)v=new Jn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const C=[];for(const w of h.mergeFields){const V=Hw(t,w,i);if(!d.contains(V))throw new fe(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Fw(C,V)||C.push(V)}v=new Jn(C),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new Pw(new $n(g),v,_)}class bm extends Tm{_toFieldTransform(t){return new i1(t.path,new Eo)}isEqual(t){return t instanceof bm}}function G0(r,t){if(Q0(r=ei(r)))return Y0("Unsupported field value:",t,r),F0(r,t);if(r instanceof Tm)return(function(a,o){if(!H0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=G0(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,o){if((a=ei(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return e1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=lt.fromDate(a);return{timestampValue:Pd(o.serializer,h)}}if(a instanceof lt){const h=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Pd(o.serializer,h)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:m1(o.serializer,a._byteString)};if(a instanceof Ft){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:C0(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof es)return(function(d,g){return{mapValue:{fields:{[r0]:{stringValue:a0},[kd]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return dm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${nm(a)}`)})(r,t)}function F0(r,t){const i={};return e0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(r,((a,o)=>{const h=G0(o,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Wi||r instanceof Zn||r instanceof Ft||r instanceof Tm||r instanceof es)}function Y0(r,t,i){if(!Q0(i)||!J_(i)){const a=nm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Hw(r,t,i){if((t=ei(t))instanceof Em)return t._internalPath;if(typeof t=="string")return K0(r,t);throw Pu("Field path arguments must be of type string or ",r,!1,void 0,i)}const Gw=new RegExp("[~\\*/\\[\\]]");function K0(r,t,i){if(t.search(Gw)>=0)throw Pu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Em(...t.split("."))._internalPath}catch{throw Pu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Pu(r,t,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new fe(J.INVALID_ARGUMENT,g+r+v)}function Fw(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,i,a,o,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qw extends X0{data(){return super.data()}}function $0(r,t){return typeof t=="string"?K0(r,t):t instanceof Em?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends X0{constructor(t,i,a,o,h,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:xt("string",za._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Su extends za{data(t={}){return super.data(t)}}class po{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Su(this._firestore,this._userDataWriter,a.key,a,new pu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Su(o._firestore,o._userDataWriter,g.doc.key,g.doc,new pu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Su(o._firestore,o._userDataWriter,g.doc.key,g.doc,new pu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,C=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),C=d.indexOf(g.doc.key)),{type:Kw(g.type),doc:v,oldIndex:_,newIndex:C}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Kw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:xt("string",po._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function Xw(r,t,i){r=Md(r,Ft);const a=Md(r.firestore,q0),o=Yw(r.converter,t);return $w(a,[qw(Bw(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ji.none())])}function $w(r,t){return(function(a,o){const h=new Vr;return a.asyncQueue.enqueueAndForget((async()=>Sw(await Dw(a),o,h))),h.promise})(Uw(r),t)}function Zw(){return new bm("serverTimestamp")}(function(t,i=!0){(function(o){Ja=o})(Za),Ga(new Lr("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new q0(new cA(a.getProvider("auth-internal")),new fA(d,a.getProvider("app-check-internal")),(function(_,C){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(_.options.projectId,C)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Qs(Tv,Sv,t),Qs(Tv,Sv,"esm2020")})();var Jw="firebase",Ww="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(Jw,Ww,"app");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ex=Z0,J0=new Ao("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new $d("@firebase/auth");function tx(r,...t){zu.logLevel<=Oe.WARN&&zu.warn(`Auth (${Za}): ${r}`,...t)}function bu(r,...t){zu.logLevel<=Oe.ERROR&&zu.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(r,...t){throw Am(r,...t)}function wi(r,...t){return Am(r,...t)}function W0(r,t,i){const a={...ex(),[t]:i};return new Ao("auth","Firebase",a).create(t,{appName:r.name})}function Ks(r){return W0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return J0.create(r,...t)}function pe(r,t,...i){if(!r)throw Am(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bu(t),new Error(t)}function is(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof self<"u"&&self.location?.href||""}function nx(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nx()||zS()||"connection"in navigator)?navigator.onLine:!0}function sx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=jS()||BS()}get(){return ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lx=new Oo(3e4,6e4);function nh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function el(r,t,i,a,o={}){return tE(r,o,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=wo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...h};return PS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(_.credentials="include"),eE.fetch()(await iE(r,r.config.apiHost,i,g),_)})}async function tE(r,t,i){r._canInitEmulator=!1;const a={...rx,...t};try{const o=new ox(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gu(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw gu(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw gu(r,"user-disabled",d);const C=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw W0(r,C,_);ns(r,C)}}catch(o){if(o instanceof ss)throw o;ns(r,"network-request-failed",{message:String(o)})}}async function nE(r,t,i,a,o={}){const h=await el(r,t,i,a,o);return"mfaPendingCredential"in h&&ns(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function iE(r,t,i,a){const o=`${t}${i}?${a}`,h=r,d=h.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return ax.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(wi(this.auth,"network-request-failed")),lx.get())})}}function gu(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=wi(r,t,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(r,t){return el(r,"POST","/v1/accounts:delete",t)}async function Bu(r,t){return el(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ux(r,t=!1){const i=ei(r),a=await i.getIdToken(t),o=xm(a);pe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:go(Sd(o.auth_time)),issuedAtTime:go(Sd(o.iat)),expirationTime:go(Sd(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Sd(r){return Number(r)*1e3}function xm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return bu("JWT malformed, contained fewer than 3 sections"),null;try{const o=O_(i);return o?JSON.parse(o):(bu("Failed to decode base64 JWT payload"),null)}catch(o){return bu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function c_(r){const t=xm(r);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&hx(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function hx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(r){const t=r.auth,i=await r.getIdToken(),a=await bo(r,Bu(t,{idToken:i}));pe(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?sE(o.providerUserInfo):[],d=mx(r.providerData,h),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,_=g?v:!1,C={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Fd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,C)}async function dx(r){const t=ei(r);await qu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mx(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function sE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,t){const i=await tE(r,{},async()=>{const a=wo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await iE(r,o,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(v.credentials="include"),eE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function gx(r,t){return el(r,"POST","/v2/accounts:revokeToken",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pe(t.length!==0,"internal-error");const i=c_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await px(t,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new Ba;return a&&(pe(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(pe(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(pe(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(r,t){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await bo(this,this.stsTokenManager.getToken(this.auth,t));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ux(this,t)}reload(){return dx(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await qu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ks(this.auth));const t=await this.getIdToken();return await bo(this,cx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,C=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:X,providerData:ee,stsTokenManager:se}=i;pe(w&&se,t,"internal-error");const Z=Ba.fromJSON(this.name,se);pe(typeof w=="string",t,"internal-error"),Ls(a,t.name),Ls(o,t.name),pe(typeof V=="boolean",t,"internal-error"),pe(typeof X=="boolean",t,"internal-error"),Ls(h,t.name),Ls(d,t.name),Ls(g,t.name),Ls(v,t.name),Ls(_,t.name),Ls(C,t.name);const W=new Wn({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:C});return ee&&Array.isArray(ee)&&(W.providerData=ee.map(re=>({...re}))),v&&(W._redirectEventId=v),W}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ba;o.updateFromServerResponse(i);const h=new Wn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await qu(h),h}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];pe(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?sE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,g=new Ba;g.updateFromIdToken(a);const v=new Wn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Fd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;function Zi(r){is(r instanceof Function,"Expected a class definition");let t=u_.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,u_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}rE.type="NONE";const h_=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Au(this.userKey,o.apiKey,h),this.fullPersistenceKey=Au("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bu(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Zi(h_),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||Zi(h_);const d=Au(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const C=await _._get(d);if(C){let w;if(typeof C=="string"){const V=await Bu(t,{idToken:C}).catch(()=>{});if(!V)break;w=await Wn._fromGetAccountInfoResponse(t,V,C)}else w=Wn._fromJSON(t,C);_!==h&&(g=w),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new qa(h,t,a):(h=v[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new qa(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(cE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hE(t))return"Blackberry";if(fE(t))return"Webos";if(lE(t))return"Safari";if((t.includes("chrome/")||oE(t))&&!t.includes("edge/"))return"Chrome";if(uE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function aE(r=Jt()){return/firefox\//i.test(r)}function lE(r=Jt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oE(r=Jt()){return/crios\//i.test(r)}function cE(r=Jt()){return/iemobile/i.test(r)}function uE(r=Jt()){return/android/i.test(r)}function hE(r=Jt()){return/blackberry/i.test(r)}function fE(r=Jt()){return/webos/i.test(r)}function Cm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yx(r=Jt()){return Cm(r)&&!!window.navigator?.standalone}function vx(){return qS()&&document.documentMode===10}function dE(r=Jt()){return Cm(r)||uE(r)||fE(r)||hE(r)||/windows phone/i.test(r)||cE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,t=[]){let i;switch(r){case"Browser":i=f_(Jt());break;case"Worker":i=`${f_(Jt())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Za}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const v=t(h);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(r,t={}){return el(r,"GET","/v2/passwordPolicy",nh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=6;class Sx{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Tx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new _x(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bu(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qu(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ks(this));const i=t?ei(t):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ex(this),i=new Sx(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ao("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await gx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(r){return ei(r)}class d_{constructor(t){this.auth=t,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(r){Rm=r}function wx(r){return Rm.loadJS(r)}function xx(){return Rm.gapiScript}function Cx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r,t){const i=Jd(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(jr(h,t??{}))return o;ns(o,"already-initialized")}return i.initialize({options:t})}function Ix(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Nx(r,t,i){const a=ih(r);pe(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,h=pE(t),{host:d,port:g}=Dx(t),v=g===null?"":`:${g}`,_={url:`${h}//${d}${v}/`},C=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pe(jr(_,a.config.emulator)&&jr(C,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=C,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(U_(`${h}//${d}${v}`),j_("Auth",!0)):Ox()}function pE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Dx(r){const t=pE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:m_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:m_(d)}}}function m_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ox(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,t){return nE(r,"POST","/v1/accounts:signInWithIdp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="http://localhost";class Hr extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new Hr(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:Mx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=wo(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends yE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Mo{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Mo{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Mo{constructor(){super("twitter.com")}static credential(t,i){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(r,t){return nE(r,"POST","/v1/accounts:signUp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const h=await Wn._fromIdTokenResponse(t,a,o),d=p_(a);return new er({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=p_(a);return new er({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function p_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(r){if(Xn(r.app))return Promise.reject(Ks(r));const t=ih(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await kx(t,{returnSecureToken:!0}),a=await er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Hu(t,i,a,o)}}function vE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(r,h,t,a):h})}async function Ux(r,t,i=!1){const a=await bo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return er._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Ks(a));const o="reauthenticate";try{const h=await bo(r,vE(a,o,t,r),i);pe(h.idToken,a,"internal-error");const d=xm(h.idToken);pe(d,a,"internal-error");const{sub:g}=d;return pe(r.uid===g,a,"user-mismatch"),er._forOperation(r,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ks(r));const a="signIn",o=await vE(r,a,t),h=await er._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(h.user),h}function Px(r,t,i,a){return ei(r).onIdTokenChanged(t,i,a)}function zx(r,t,i){return ei(r).beforeAuthStateChanged(t,i)}const Gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1e3,qx=10;class EE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);vx()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qx):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}EE.type="LOCAL";const Hx=EE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}TE.type="SESSION";const SE=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,h)),v=await Gx(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((g,v)=>{const _=Im("",20);o.port1.start();const C=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(C),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function Qx(r){xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function Yx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kx(){return navigator?.serviceWorker?.controller||null}function Xx(){return bE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",$x=1,Fu="firebaseLocalStorage",wE="fbase_key";class ko{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([Fu],t?"readwrite":"readonly").objectStore(Fu)}function Zx(){const r=indexedDB.deleteDatabase(AE);return new ko(r).toPromise()}function Qd(){const r=indexedDB.open(AE,$x);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fu,{keyPath:wE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fu)?t(a):(a.close(),await Zx(),t(await Qd()))})})}async function g_(r,t,i){const a=rh(r,!0).put({[wE]:t,value:i});return new ko(a).toPromise()}async function Jx(r,t){const i=rh(r,!1).get(t),a=await new ko(i).toPromise();return a===void 0?null:a.value}function y_(r,t){const i=rh(r,!0).delete(t);return new ko(i).toPromise()}const Wx=800,eC=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>eC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Xx()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yx(),!this.activeServiceWorker)return;this.sender=new Fx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await g_(t,Gu,"1"),await y_(t,Gu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Jx(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=rh(o,!1).getAll();return new ko(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const tC=xE;new Oo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r,t){return t?Zi(t):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends gE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function iC(r){return Lx(r.auth,new Nm(r),r.bypassAuthState)}function sC(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),jx(i,new Nm(r),r.bypassAuthState)}async function rC(r){const{auth:t,user:i}=r;return pe(i,t,"internal-error"),Ux(i,new Nm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i,a,o,h=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iC;case"linkViaPopup":case"linkViaRedirect":return rC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Oo(2e3,1e4);class La extends CE{constructor(t,i,a,o,h){super(t,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aC.get())};t()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="pendingRedirect",wu=new Map;class oC extends CE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wu.get(this.auth._key());if(!t){try{const a=await cC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wu.set(this.auth._key(),t)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(r,t){const i=fC(t),a=hC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function uC(r,t){wu.set(r._key(),t)}function hC(r){return Zi(r._redirectPersistence)}function fC(r){return Au(lC,r.config.apiKey,r.name)}async function dC(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ks(r));const a=ih(r),o=nC(a,t),d=await new oC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=600*1e3;class pC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!RE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mC&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(t))}saveEventToCache(t){this.cachedEventUids.add(v_(t)),this.lastProcessedEventTime=Date.now()}}function v_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function RE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function gC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,t={}){return el(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_C=/^https?/;async function EC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yC(r);for(const i of t)try{if(TC(i))return}catch{}ns(r,"unauthorized-domain")}function TC(r){const t=Gd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!_C.test(i))return!1;if(vC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Oo(3e4,6e4);function __(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function bC(r){return new Promise((t,i)=>{function a(){__(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{__(),i(wi(r,"network-request-failed"))},timeout:SC.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const o=Cx("iframefcb");return xi()[o]=()=>{gapi.load?a():i(wi(r,"network-request-failed"))},wx(`${xx()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw xu=null,t})}let xu=null;function AC(r){return xu=xu||bC(r),xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Oo(5e3,15e3),xC="__/auth/iframe",CC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(r){const t=r.config;pe(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?wm(t,CC):`https://${r.config.authDomain}/${xC}`,a={apiKey:t.apiKey,appName:r.name,v:Za},o=IC.get(r.config.apiHost);o&&(a.eid=o);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${wo(a).slice(1)}`}async function DC(r){const t=await AC(r),i=xi().gapi;return pe(i,r,"internal-error"),t.open({where:document.body,url:NC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=wi(r,"network-request-failed"),g=xi().setTimeout(()=>{h(d)},wC.get());function v(){xi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MC=500,kC=600,VC="_blank",UC="http://localhost";class E_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(r,t,i,a=MC,o=kC){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...OC,width:a.toString(),height:o.toString(),top:h,left:d},_=Jt().toLowerCase();i&&(g=oE(_)?VC:i),aE(_)&&(t=t||UC,v.scrollbars="yes");const C=Object.entries(v).reduce((V,[X,ee])=>`${V}${X}=${ee},`,"");if(yx(_)&&g!=="_self")return LC(t||"",g),new E_(null);const w=window.open(t||"",g,C);pe(w,r,"popup-blocked");try{w.focus()}catch{}return new E_(w)}function LC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",zC="emulator/auth/handler",BC=encodeURIComponent("fac");async function T_(r,t,i,a,o,h){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Za,eventId:o};if(t instanceof yE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,w]of Object.entries({}))d[C]=w}if(t instanceof Mo){const C=t.getScopes().filter(w=>w!=="");C.length>0&&(d.scopes=C.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const C of Object.keys(g))g[C]===void 0&&delete g[C];const v=await r._getAppCheckToken(),_=v?`#${BC}=${encodeURIComponent(v)}`:"";return`${qC(r)}?${wo(g).slice(1)}${_}`}function qC({config:r}){return r.emulator?wm(r,zC):`https://${r.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class HC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=dC,this._overrideRedirectResult=uC}async _openPopup(t,i,a,o){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await T_(t,i,a,Gd(),o);return jC(t,h,Im())}async _openRedirect(t,i,a,o){await this._originValidation(t);const h=await T_(t,i,a,Gd(),o);return Qx(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(is(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await DC(t),a=new pC(t);return i.register("authEvent",o=>(pe(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(bd,{type:bd},o=>{const h=o?.[0]?.[bd];h!==void 0&&i(!!h),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=EC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return dE()||lE()||Cm()}}const GC=HC;var S_="@firebase/auth",b_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YC(r){Ga(new Lr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(r)},_=new bx(a,o,h,v);return Ix(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ga(new Lr("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new FC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(S_,b_,QC(r)),Qs(S_,b_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=300,XC=V_("authIdTokenMaxAge")||KC;let A_=null;const $C=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>XC)return;const o=i?.token;A_!==o&&(A_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZC(r=B_()){const t=Jd(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Rx(r,{popupRedirectResolver:GC,persistence:[tC,Hx,SE]}),a=V_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=$C(h.toString());zx(i,d,()=>d(i.currentUser)),Px(i,g=>d(g))}}const o=M_("auth");return o&&Nx(i,`http://${o}`),i}function JC(){return document.getElementsByTagName("head")?.[0]??document}Ax({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const h=wi("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",JC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YC("Browser");const WC={apiKey:"AIzaSyD3uhzlt8xEAreucraxJS3nsx__a4d-tq8",authDomain:"wtp-survey-production.firebaseapp.com",projectId:"wtp-survey-production",storageBucket:"wtp-survey-production.firebasestorage.app",messagingSenderId:"1050941271087",appId:"1:1050941271087:web:dd807bc5973a6c0f57aada"},IE=z_(WC),e2=Vw(IE),t2=ZC(IE);Vx(t2).catch(r=>{console.error("Anonymous auth error:",r)});const Yd="v0.50",yu=()=>{let r=localStorage.getItem("deviceId");return r||(r=`device-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",r)),r},w_=async r=>{try{const t=kw(Mw(e2,"surveys"),r.id),i={...r.surveyData,surveyId:r.id,deviceId:r.deviceId,syncedAt:Zw(),version:Yd,startedAt:new Date(r.surveyData.startedAt),completedAt:r.surveyData.completedAt?new Date(r.surveyData.completedAt):null};await Xw(t,i),console.log(`Successfully synced survey ${r.id} to Firebase`)}catch(t){throw console.error(`Error syncing survey ${r.id}:`,t),t}},Bt=[];for(let r=0;r<256;++r)Bt.push((r+256).toString(16).slice(1));function n2(r,t=0){return(Bt[r[t+0]]+Bt[r[t+1]]+Bt[r[t+2]]+Bt[r[t+3]]+"-"+Bt[r[t+4]]+Bt[r[t+5]]+"-"+Bt[r[t+6]]+Bt[r[t+7]]+"-"+Bt[r[t+8]]+Bt[r[t+9]]+"-"+Bt[r[t+10]]+Bt[r[t+11]]+Bt[r[t+12]]+Bt[r[t+13]]+Bt[r[t+14]]+Bt[r[t+15]]).toLowerCase()}let Ad;const i2=new Uint8Array(16);function s2(){if(!Ad){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ad=crypto.getRandomValues.bind(crypto)}return Ad(i2)}const r2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),x_={randomUUID:r2};function a2(r,t,i){r=r||{};const a=r.random??r.rng?.()??s2();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,n2(a)}function C_(r,t,i){return x_.randomUUID&&!r?x_.randomUUID():a2(r)}const NE=He.createContext(void 0),l2=r=>{const t=[...r];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},R_=()=>({participantId:"",startedAt:new Date().toISOString(),appOrder:l2(ES),tokenOrder:Math.random()<.5?"ascending":"descending",choices:[],selectedChoice:null,completedAt:null,tokenBalance:Hs,comprehensionAnswers:{tokenValue:"",rewardType:""},switchingPoints:{}}),o2=({children:r})=>{const[t,i]=He.useState(()=>{const b=localStorage.getItem("surveyData");return b?JSON.parse(b):R_()}),[a,o]=He.useState(()=>localStorage.getItem("currentSurveyId")||C_()),[h,d]=He.useState({pending:0,synced:0,failed:0,lastSyncAttempt:null,lastSuccessfulSync:null});He.useEffect(()=>{(async()=>{localStorage.setItem("surveyData",JSON.stringify(t)),localStorage.setItem("currentSurveyId",a);const A={id:a,surveyData:t,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yu()};await Xi(()=>lv(A),void 0)})()},[t,a]),He.useEffect(()=>{(async()=>{const A=await Xi(()=>Or(),[]),D=A.filter(O=>!O.synced).length,R=A.filter(O=>O.synced).length;d(O=>({...O,pending:D,synced:R}))})()},[]),He.useEffect(()=>{const b=async()=>{console.log("Internet connection detected, attempting auto-sync..."),await W()};return window.addEventListener("online",b),navigator.onLine&&b(),()=>window.removeEventListener("online",b)},[]);const g=b=>{i(A=>({...A,participantId:b}))},v=(b,A)=>{i(D=>({...D,comprehensionAnswers:{...D.comprehensionAnswers,[b]:A}}))},_=b=>{i(A=>{const D=A.choices.findIndex(R=>R.app===b.app&&R.tokenAmount===b.tokenAmount);if(D!==-1){const R=[...A.choices];return R[D]=b,{...A,choices:R}}else return{...A,choices:[...A.choices,b]}})},C=(b,A)=>{i(D=>({...D,choices:D.choices.filter(R=>!(R.app===b&&R.tokenAmount===A))}))},w=()=>{const b=Math.floor(Math.random()*t.choices.length),A=t.choices[b];return i(D=>({...D,selectedChoice:A})),A},V=b=>{i(A=>({...A,tokenBalance:A.tokenBalance+b}))},X=async()=>{const b={...t,completedAt:new Date().toISOString()};i(b);const A={id:a,surveyData:b,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yu()};await Xi(()=>lv(A),void 0),navigator.onLine&&await W()},ee=async()=>{const b=await Xi(()=>Or(),[]),A=b.filter(R=>!R.synced).length,D=b.filter(R=>R.synced).length;d(R=>({...R,pending:A,synced:D}))},se=async()=>{const b=C_(),A=R_();i(A),o(b),localStorage.setItem("currentSurveyId",b),await ee()},Z=async()=>{const b=await Xi(()=>Or(),[]),A={exportedAt:new Date().toISOString(),deviceId:yu(),totalSurveys:b.length,syncedSurveys:b.filter(x=>x.synced).length,pendingSurveys:b.filter(x=>!x.synced).length,surveys:b},D=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),R=URL.createObjectURL(D),O=document.createElement("a");O.href=R,O.download=`wtp-survey-export-${yu()}-${Date.now()}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(R)},W=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=(await Xi(()=>Or(),[])).filter(x=>!x.synced&&x.surveyData.completedAt);console.log(`Auto-syncing ${A.length} completed surveys...`);let D=0,R=0;for(const x of A)try{await w_(x),await ov(x.id,!0),D++}catch(ge){console.error(`Failed to sync survey ${x.id}:`,ge),R++}const O=await Xi(()=>Or(),[]);d({pending:O.filter(x=>!x.synced).length,synced:O.filter(x=>x.synced).length,failed:R,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:D>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Auto-sync complete: ${D} succeeded, ${R} failed`)}catch(b){console.error("Auto-sync error:",b)}},re=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}d(b=>({...b,lastSyncAttempt:new Date().toISOString()}));try{const A=await Xi(()=>Or(),[]),D=A.filter(Ie=>Ie.surveyData.completedAt).length,R=A.filter(Ie=>!Ie.surveyData.completedAt).length;console.log(`Manual sync: ${A.length} total surveys (${D} completed, ${R} in-progress)...`);let O=0,x=0;for(const Ie of A)try{await w_(Ie),await ov(Ie.id,!0),O++}catch(G){console.error(`Failed to sync survey ${Ie.id}:`,G),x++}const ge=await Xi(()=>Or(),[]);d({pending:ge.filter(Ie=>!Ie.synced).length,synced:ge.filter(Ie=>Ie.synced).length,failed:x,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:O>0?new Date().toISOString():h.lastSuccessfulSync}),console.log(`Manual sync complete: ${O} succeeded, ${x} failed`)}catch(b){console.error("Manual sync error:",b)}},ue=(b,A,D)=>{i(R=>({...R,switchingPoints:{...R.switchingPoints,[b]:{tokenAmount:A,switchedTo:D,confirmed:!1}}}))},xe=b=>{i(A=>{const D=A.switchingPoints[b];return D?{...A,switchingPoints:{...A.switchingPoints,[b]:{...D,confirmed:!0}}}:A})},Be=b=>{i(A=>{const D=A.switchingPoints[b];if(!D||!D.confirmed)return A;const R=A.tokenOrder==="ascending"?[...Ai].reverse():Ai,O=R.findIndex(Ie=>Ie===D.tokenAmount);if(O===-1)return A;const ge=R.slice(O+1).map(Ie=>({id:`${b}-${Ie}-${Date.now()}-autofilled`,app:b,tokenAmount:Ie,selectedOption:D.switchedTo,timestamp:new Date().toISOString(),autoFilled:!0}));return{...A,choices:[...A.choices,...ge]}})},_e=b=>{i(A=>({...A,choices:A.choices.filter(D=>!(D.app===b&&D.autoFilled)),switchingPoints:{...A.switchingPoints,[b]:void 0}}))},I=b=>!!t.switchingPoints[b]?.confirmed;return T.jsx(NE.Provider,{value:{surveyData:t,currentSurveyId:a,syncStatus:h,setParticipantId:g,setComprehensionAnswer:v,addChoice:_,removeChoice:C,selectRandomChoice:w,updateTokenBalance:V,completeSurvey:X,resetSurvey:se,setSwitchingPoint:ue,confirmSwitchingPoint:xe,autoFillChoices:Be,clearAutoFilledChoices:_e,hasSwitchingPoint:I,exportAllData:Z,triggerManualSync:re},children:r})},Vn=()=>{const r=He.useContext(NE);if(!r)throw new Error("useSurvey must be used within a SurveyProvider");return r},DE=He.createContext(void 0),c2=({children:r})=>{const[t,i]=He.useState(()=>localStorage.getItem("language")||"es");He.useEffect(()=>{localStorage.setItem("language",t)},[t]);const a=o=>{i(o)};return T.jsx(DE.Provider,{value:{language:t,setLanguage:a},children:r})},Yt=()=>{const r=He.useContext(DE);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r},Ge=({onClick:r,children:t,variant:i="primary",disabled:a=!1,className:o="",title:h})=>{const d="px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400"};return T.jsx("button",{type:"button",onClick:r,disabled:a,className:`${d} ${g[i]} ${o}`,title:h,children:t})},u2={common:{continue:{en:"Continue",es:"Continuar"},back:{en:"Back",es:"Atrás"},tokens:{en:"Tokens",es:"Tokens"},or:{en:"or",es:"o"}},participantId:{title:{en:"Welcome to the Survey",es:"Bienvenido a la Encuesta"},description:{en:"Please enter your participant ID to begin.",es:"Por favor ingresa tu ID de participante para comenzar."},label:{en:"Participant ID",es:"ID de Participante"},placeholder:{en:"Enter your ID",es:"Ingresa tu ID"}},instructions:{title:{en:"Survey Instructions",es:"Instrucciones de la Encuesta"},paragraph1:{en:"You are going to make some choices that will give you the chance to earn real rewards.",es:"Vas a tomar algunas decisiones que te darán la oportunidad de ganar recompensas reales."},paragraph2:{en:"To get these rewards, you will receive tokens. These tokens have a value of",es:"Para obtener estas recompensas, recibirás tokens. Estos tokens tienen un valor de"},paragraph2b:{en:", and can be exchanged for a",es:", y pueden ser canjeados por una"},paragraph2c:{en:"whatever you want at the school shop",es:"lo que quieras en la tienda escolar"},paragraph3:{en:"Please pay attention to the comprehension checks on the next screen to ensure you understand how the survey works.",es:"Por favor presta atención a las preguntas de comprensión en la siguiente pantalla para asegurarte de que entiendes cómo funciona la encuesta."}},comprehension:{title:{en:"Comprehension Check",es:"Verificación de Comprensión"},question1:{en:"How much is 1 token worth in COP?",es:"¿Cuánto vale 1 token en COP?"},question2:{en:"Where can you exchange your tokens to buy things?",es:"¿Dónde puedes canjear tus tokens para comprar cosas?"},placeholder1:{en:"Enter amount",es:"Ingresa la cantidad"},placeholder2:{en:"Enter location",es:"Ingresa el lugar"},error:{en:"Incorrect. Please review the instructions.",es:"Incorrecto. Por favor revisa las instrucciones."}},reinstructions:{title:{en:"Let's Review the Instructions",es:"Repasemos las Instrucciones"},intro:{en:"Let's go over the key information again:",es:"Repasemos la información clave nuevamente:"},tokenValueLabel:{en:"Token Value:",es:"Valor del Token:"},tokenValueText:{en:"Each token is worth",es:"Cada token vale"},rewardTypeLabel:{en:"Reward Type:",es:"Tipo de Recompensa:"},rewardTypeText:{en:"You can exchange your tokens at the school shop to buy whatever you want.",es:"Puedes canjear tus tokens en la tienda escolar para comprar lo que quieras."},outro:{en:"Please review these details carefully. You'll have another chance to answer the comprehension questions.",es:"Por favor revisa estos detalles cuidadosamente. Tendrás otra oportunidad para responder las preguntas de comprensión."},button:{en:"Continue to Comprehension Check",es:"Continuar a la Verificación de Comprensión"}},tokenAllocation:{title:{en:"Your Starting Tokens",es:"Tus Tokens Iniciales"},description1:{en:"You have been given",es:"Se te han dado"},description2:{en:"tokens",es:"tokens"},worth:{en:"Worth",es:"Equivalente a"},info:{en:"Your token balance is displayed in the top right corner. It will update throughout the survey as you make your choices. Whatever you have left at the end you can reimburse.",es:"Tu saldo de tokens se muestra en la esquina superior derecha. Se actualizará durante la encuesta a medida que tomes tus decisiones. Lo que te quede al final podrás cobrarlo."}},choiceInstructions1:{title:{en:"About Your Choices",es:"Acerca de tus Decisiones"},paragraph1:{en:"The choices you will make will involve limiting certain apps to 30 minutes per day on your phone.",es:"Las decisiones que tomarás implicarán limitar ciertas aplicaciones a 30 minutos por día en tu teléfono."},paragraph2:{en:"If you choose to set a limit, and that option is chosen, then our team will actually limit the app to 30 minutes per day on your phone for one week later today, and set a password so you cannot change it.",es:"Si eliges establecer un límite, y esa opción es seleccionada, entonces nuestro equipo realmente limitará la aplicación a 30 minutos por día en tu teléfono por una semana más tarde hoy, y pondrá una contraseña para que no puedas cambiarlo."},paragraph3:{en:"So you should only select the options that you really prefer.",es:"Por lo tanto, solo debes seleccionar las opciones que realmente prefieres."}},choiceInstructions2:{important:{en:"Important:",es:"Importante:"},paragraph1:{en:"You will make multiple choices, and only one of your choices will randomly be selected to be implemented.",es:"Harás múltiples decisiones, y solo una de tus decisiones será seleccionada al azar para ser implementada."},paragraph2:{en:"This means that each question should be treated independently, and for every choice, you should give your honest answer.",es:"Esto significa que cada pregunta debe ser tratada independientemente, y para cada decisión, debes dar tu respuesta honesta."},button:{en:"Begin Choices",es:"Comenzar Decisiones"}},appIntroduction:{title:{en:"App Limiting Questions:",es:"Preguntas sobre Limitar Aplicación:"},description:{en:"We're now going to ask you some questions to see how willing you would be to limit",es:"Ahora te haremos algunas preguntas para ver qué tan dispuesto estarías a limitar"},description2:{en:"to 30 minutes per day for 1 week on your phone.",es:"a 30 minutos por día por 1 semana en tu teléfono."}},choiceQuestion:{questionOf:{en:"Question",es:"Pregunta"},of:{en:"of",es:"de"},wouldYouRather:{en:"Would you rather...",es:"Preferirías..."},receive:{en:"RECEIVE",es:"RECIBIR"},pay:{en:"PAY",es:"PAGAR"},tokens:{en:"tokens",es:"tokens"},worth:{en:"worth",es:"equivalente a"},limit:{en:"Limit",es:"Limitar"},limitDescription:{en:"to 30 min/day for 1 week",es:"a 30 min/día por 1 semana"},andNotLimit:{en:"AND NOT limit",es:"Y NO limitar"},butNotLimit:{en:"BUT NOT limit",es:"PERO NO limitar"},doNotLimit:{en:"DO NOT limit",es:"NO limitar"},maintainTokens:{en:"and maintain token balance",es:"y mantener el saldo de tokens"}},choiceComprehensionCheck:{title:{en:"Comprehension Check",es:"Verificación de Comprensión"},confirmTokens:{en:"To confirm, you would prefer to {action} {tokens} tokens {connector} NOT limit {app}, so that you would end up with {finalBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías {action} {tokens} tokens {connector} NO limitar {app}, para que termines con {finalBalance} tokens al final del experimento?"},confirmTokensZero:{en:"To confirm, you would prefer to NOT limit {app} and maintain your token balance at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías NO limitar {app} y mantener tu saldo de tokens en {currentBalance} tokens al final del experimento?"},confirmLimit:{en:"To confirm, you would prefer to limit {app} to 30 minutes per day for a week, rather than {action} {tokens} tokens, so your token balance would remain at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías limitar {app} a 30 minutos por día por una semana, en lugar de {action} {tokens} tokens, por lo que tu saldo de tokens permanecería en {currentBalance} tokens al final del experimento?"},receive:{en:"receive",es:"recibir"},pay:{en:"pay",es:"pagar"},receiving:{en:"receiving",es:"recibir"},paying:{en:"paying",es:"pagar"},and:{en:"AND",es:"Y"},but:{en:"BUT",es:"PERO"},yes:{en:"I confirm",es:"Confirmo"},no:{en:"Go back",es:"Volver"}},choicesSummary:{title:{en:"Your Choices",es:"Tus Decisiones"},selecting:{en:"Randomly selecting one of your choices...",es:"Seleccionando aleatoriamente una de tus decisiones..."},instruction:{en:"Here are all the choices you made. Click below to randomly select one to implement.",es:"Aquí están todas las decisiones que tomaste. Haz clic abajo para seleccionar aleatoriamente una para implementar."},selectButton:{en:"Randomly Select One Choice",es:"Seleccionar Aleatoriamente una Decisión"},selectingLabel:{en:"Selecting...",es:"Seleccionando..."},selectedMessage:{en:"has been selected!",es:"ha sido seleccionada!"},selectedDescription:{en:"This is the choice that will be implemented.",es:"Esta es la decisión que será implementada."},continueToResults:{en:"Continue to Results",es:"Continuar a Resultados"},receive:{en:"Receive",es:"Recibir"},pay:{en:"Pay",es:"Pagar"},tokens:{en:"tokens",es:"tokens"},limit:{en:"Limit",es:"Limitar"},limitDuration:{en:"to 30 min/day for 1 week",es:"a 30 min/día por 1 semana"},choice:{en:"Choice #",es:"Decisión #"}},results:{title:{en:"Implementation Results",es:"Resultados de Implementación"},whatWillHappen:{en:"What will happen:",es:"Qué sucederá:"},limitMessage1:{en:"will be limited to 30 minutes per day on your phone for",es:"será limitada a 30 minutos por día en tu teléfono por"},limitMessage2:{en:"1 week",es:"1 semana"},limitMessage3:{en:"starting today.",es:"comenzando hoy."},limitMessage4:{en:"Our team will set the limit with a password so you cannot change it.",es:"Nuestro equipo establecerá el límite con una contraseña para que no puedas cambiarlo."},tokenMessage1:{en:"You will",es:"Tú"},receive:{en:"receive",es:"recibirás"},pay:{en:"pay",es:"pagarás"},tokens:{en:"tokens",es:"tokens"},thisIsWorth:{en:"This is worth",es:"Esto equivale a"},willNotBeLimited:{en:"will not be limited.",es:"no será limitada."},finalTokenBalance:{en:"Final Token Balance:",es:"Saldo Final de Tokens:"},finishSurvey:{en:"Finish Survey",es:"Finalizar Encuesta"}},thankYou:{title:{en:"Thank You!",es:"¡Gracias!"},completed:{en:"You have completed the survey.",es:"Has completado la encuesta."},recorded:{en:"Your responses have been recorded.",es:"Tus respuestas han sido registradas."},contactInfo:{en:"Our team will contact you about implementing your selected choice (app limit or tokens) and redeeming your tokens at the school shop.",es:"Nuestro equipo te contactará sobre la implementación de tu decisión seleccionada (límite de aplicación o tokens) y el canje de tus tokens en la tienda escolar."},participantId:{en:"Participant ID:",es:"ID de Participante:"},downloadData:{en:"Download Survey Data (for testing)",es:"Descargar Datos de la Encuesta (para pruebas)"},startNew:{en:"Start New Survey",es:"Iniciar Nueva Encuesta"}},tokenCounter:{tokens:{en:"Tokens",es:"Tokens"}},versionInfo:{refreshTitle:{en:"Force refresh and clear cache",es:"Forzar actualización y limpiar caché"},refreshLabel:{en:"Force refresh",es:"Forzar actualización"}},switchingPoint:{title:{en:"Please Confirm Your Choice",es:"Por Favor Confirma tu Decisión"},yourChoice:{en:"Your Choice:",es:"Tu Decisión:"},whatThisMeans:{en:"What This Means:",es:"Qué Significa Esto:"},choseLimitOverReceive:{en:"You chose to limit {app} rather than receive {tokenAmount} tokens (worth {value} COP).",es:"Elegiste limitar {app} en lugar de recibir {tokenAmount} tokens (equivalente a {value} COP)."},choseLimitOverPay:{en:"You chose to limit {app} rather than pay {tokenAmount} tokens (worth {value} COP) to avoid limiting.",es:"Elegiste limitar {app} en lugar de pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar."},choseLimitOverZero:{en:"You chose to limit {app} rather than keep your tokens unchanged.",es:"Elegiste limitar {app} en lugar de mantener tus tokens sin cambios."},chosePayOverLimit:{en:"You were willing to pay {tokenAmount} tokens (worth {value} COP) to avoid limiting {app}.",es:"Estuviste dispuesto a pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar {app}."},choseReceiveOverLimit:{en:"You chose to receive {tokenAmount} tokens (worth {value} COP) rather than limit {app}.",es:"Elegiste recibir {tokenAmount} tokens (equivalente a {value} COP) en lugar de limitar {app}."},choseZeroOverLimit:{en:"You chose to keep your tokens unchanged rather than limit {app}.",es:"Elegiste mantener tus tokens sin cambios en lugar de limitar {app}."},implicationLimitDescending:{en:"Since you prefer to limit {app} rather than receive these tokens, we assume you would also prefer to limit for smaller amounts (like 0 tokens), and that you would NOT want to PAY tokens to avoid limiting {app}.",es:"Dado que prefieres limitar {app} en lugar de recibir estos tokens, asumimos que también preferirías limitar por cantidades menores (como 0 tokens), y que NO querrías PAGAR tokens para evitar limitar {app}."},implicationLimitAscending:{en:"Since you prefer to limit {app} rather than pay these tokens, we assume you would also prefer to limit if you had to pay LESS, or even if you received tokens instead.",es:"Dado que prefieres limitar {app} en lugar de pagar estos tokens, asumimos que también preferirías limitar si tuvieras que pagar MENOS, o incluso si recibieras tokens."},implicationLimitFromZero:{en:"Since you prefer to limit {app} rather than keep your tokens unchanged, we assume you would also prefer to limit even if you had to PAY tokens, or if you received tokens.",es:"Dado que prefieres limitar {app} en lugar de mantener tus tokens sin cambios, asumimos que también preferirías limitar incluso si tuvieras que PAGAR tokens, o si recibieras tokens."},implicationPayAscending:{en:"Since you were willing to pay tokens to avoid limiting {app}, we assume you would also be willing to pay LESS, pay nothing (0 tokens), or even RECEIVE tokens instead of limiting.",es:"Dado que estuviste dispuesto a pagar tokens para evitar limitar {app}, asumimos que también estarías dispuesto a pagar MENOS, no pagar nada (0 tokens), o incluso RECIBIR tokens en lugar de limitar."},implicationReceiveDescending:{en:"Since you chose to receive tokens rather than limit {app}, we assume you would also choose to receive smaller amounts, receive nothing (0 tokens), or even PAY tokens to avoid limiting.",es:"Dado que elegiste recibir tokens en lugar de limitar {app}, asumimos que también elegirías recibir cantidades más pequeñas, no recibir nada (0 tokens), o incluso PAGAR tokens para evitar limitar."},implicationTokensFromZero:{en:"Since you chose to keep your tokens rather than limit {app}, we assume you would also choose to receive tokens, or even PAY tokens to avoid limiting.",es:"Dado que elegiste mantener tus tokens en lugar de limitar {app}, asumimos que también elegirías recibir tokens, o incluso PAGAR tokens para evitar limitar."},autoFillNotice:{en:"We will automatically fill in the remaining {count} questions for {app} based on your choice.",es:"Automáticamente completaremos las {count} preguntas restantes para {app} según tu decisión."},confirmQuestion:{en:"Is this understanding correct?",es:"¿Es correcta esta interpretación?"},goBack:{en:"No, Go Back",es:"No, Volver"},confirm:{en:"Yes, Continue",es:"Sí, Continuar"}},autoFilled:{title:{en:"Questions Completed for {app}",es:"Preguntas Completadas para {app}"},explanation:{en:"Based on your previous choice, we have automatically filled {count} remaining questions for {app}.",es:"Según tu decisión anterior, hemos completado automáticamente {count} preguntas restantes para {app}."},filledAnswers:{en:"Automatically Filled Answers:",es:"Respuestas Completadas Automáticamente:"},question:{en:"Question",es:"Pregunta"},decision:{en:"Choice",es:"Decisión"},canGoBack:{en:"If you want to change your answer, you can go back to modify your choice.",es:"Si quieres cambiar tu respuesta, puedes volver atrás para modificar tu decisión."}}},z=(r,t)=>{const i=r.split(".");let a=u2;for(const o of i)if(a=a[o],!a)return r;return a[t]||a.en||r},h2=({onNext:r})=>{const[t,i]=He.useState(""),{setParticipantId:a,resetSurvey:o}=Vn(),{language:h}=Yt(),d=async()=>{t.trim()&&(await o(),a(t.trim()),r())};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("participantId.title",h)}),T.jsx("p",{className:"text-gray-600 mb-6 text-center",children:z("participantId.description",h)}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"participantId",className:"block text-sm font-medium text-gray-700 mb-2",children:z("participantId.label",h)}),T.jsx("input",{id:"participantId",type:"text",value:t,onChange:g=>i(g.target.value),onKeyPress:g=>g.key==="Enter"&&d(),placeholder:z("participantId.placeholder",h),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),T.jsx(Ge,{onClick:d,disabled:!t.trim(),className:"w-full",children:z("common.continue",h)})]})})},f2=({onNext:r,onBack:t})=>{const{language:i}=Yt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("instructions.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("instructions.paragraph1",i)}),T.jsxs("p",{children:[z("instructions.paragraph2",i)," ",T.jsxs("strong",{children:["$",kn.toLocaleString()," COP"]}),z("instructions.paragraph2b",i)," ",T.jsx("strong",{children:z("instructions.paragraph2c",i)}),"."]}),T.jsx("p",{children:z("instructions.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Ge,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})},d2=({onNext:r,onBack:t,onFailed:i})=>{const[a,o]=He.useState(""),[h,d]=He.useState(""),[g,v]=He.useState(!1),{setComprehensionAnswer:_}=Vn(),{language:C}=Yt(),w=kn.toString(),V=a.trim()===w,X=h.toLowerCase().trim(),ee=X.includes("school shop")||X.includes("school")||X.includes("scool")||X.includes("shool")||X.includes("shop")||X.includes("store")||X.includes("tienda escolar")||X.includes("tienda")||X.includes("tiemda")||X.includes("escolar")||X.includes("escuela")||X.includes("escela")||X.includes("escuella")||X.includes("colegio")||X.includes("cole"),se=V&&ee,Z=()=>{se?(_("tokenValue",a),_("rewardType",h),r()):(v(!0),i&&setTimeout(()=>{i()},1500))};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("comprehension.title",C)}),T.jsxs("div",{className:"space-y-6 mb-8",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"tokenValue",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question1",C)}),T.jsx("input",{id:"tokenValue",type:"text",value:a,onChange:W=>{o(W.target.value),v(!1)},placeholder:z("comprehension.placeholder1",C),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${g&&!V?"border-red-500":"border-gray-300"}`}),g&&!V&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",C)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"rewardType",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question2",C)}),T.jsx("input",{id:"rewardType",type:"text",value:h,onChange:W=>{d(W.target.value),v(!1)},placeholder:z("comprehension.placeholder2",C),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${g&&!ee?"border-red-500":"border-gray-300"}`}),g&&!ee&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",C)})]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:t,className:"px-6",children:z("common.back",C)}),T.jsx(Ge,{onClick:Z,disabled:!a.trim()||!h.trim(),className:"flex-1",children:z("common.continue",C)})]})]})})},m2=({onNext:r})=>{const{language:t}=Yt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("reinstructions.title",t)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("reinstructions.intro",t)}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.tokenValueLabel",t)}),T.jsxs("p",{children:[z("reinstructions.tokenValueText",t)," ",T.jsxs("strong",{children:["$",kn.toLocaleString()," COP"]}),"."]})]}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.rewardTypeLabel",t)}),T.jsx("p",{children:z("reinstructions.rewardTypeText",t)})]}),T.jsx("p",{children:z("reinstructions.outro",t)})]}),T.jsx(Ge,{onClick:r,className:"w-full",children:z("reinstructions.button",t)})]})})},Ii=()=>{const{surveyData:r}=Vn(),{language:t}=Yt(),i=()=>{const a=[],o=r.tokenBalance;for(let h=0;h<o;h++)a.push(T.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white border border-blue-200"},`token-${h}`));return a};return T.jsxs("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg",children:[T.jsx("div",{className:"text-sm font-semibold",children:z("tokenCounter.tokens",t)}),T.jsx("div",{className:"text-2xl font-bold",children:r.tokenBalance}),T.jsxs("div",{className:"text-xs opacity-90",children:["$",(r.tokenBalance*kn).toLocaleString()," COP"]}),T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 mt-2 max-w-[120px]",children:i()})]})},OE=({tokenCount:r})=>{const t=()=>{const i=[];for(let a=0;a<r;a++)i.push(T.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-600"},`token-${a}`));return i};return T.jsx("div",{className:"flex flex-col items-center gap-3 mt-4",children:T.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[280px]",children:t()})})},p2=({onNext:r,onBack:t})=>{const[i,a]=He.useState(!1),{language:o}=Yt();return He.useEffect(()=>{setTimeout(()=>a(!0),500)},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[i&&T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("tokenAllocation.title",o)}),T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-blue-100 rounded-full mb-4",children:T.jsx("span",{className:"text-5xl font-bold text-blue-600",children:Hs})}),T.jsxs("p",{className:"text-xl text-gray-700",children:[z("tokenAllocation.description1",o)," ",T.jsxs("strong",{children:[Hs," ",z("tokenAllocation.description2",o)]})]}),T.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["(",z("tokenAllocation.worth",o)," $",(Hs*kn).toLocaleString()," COP)"]}),T.jsx(OE,{tokenCount:Hs})]}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:T.jsx("p",{className:"text-gray-700",children:z("tokenAllocation.info",o)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:t,className:"px-6",children:z("common.back",o)}),T.jsx(Ge,{onClick:r,className:"flex-1",children:z("common.continue",o)})]})]})})]})},g2=({onNext:r,onBack:t})=>{const{language:i}=Yt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("choiceInstructions1.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("choiceInstructions1.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions1.paragraph2",i)}),T.jsx("p",{className:"font-semibold text-blue-600",children:z("choiceInstructions1.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Ge,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})]})},y2=({onNext:r,onBack:t})=>{const{language:i}=Yt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"space-y-6 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[T.jsx("p",{className:"font-semibold text-gray-900 mb-4 text-xl",children:z("choiceInstructions2.important",i)}),T.jsx("p",{className:"mb-3",children:z("choiceInstructions2.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions2.paragraph2",i)})]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx(Ge,{onClick:r,className:"flex-1",children:z("choiceInstructions2.button",i)})]})]})})]})},ah="/wtp-survey/assets/tiktok-logo-B98-VsHJ.png",lh="/wtp-survey/assets/whatsapp-logo-bigyjet4.png",I_=({app:r,onNext:t,onBack:i})=>{const{language:a}=Yt(),o=r==="TikTok"?ah:lh;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("img",{src:o,alt:`${r} logo`,className:"w-24 h-24 mb-6 object-contain"}),T.jsxs("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:[z("appIntroduction.title",a)," ",r]})]}),T.jsx("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("p",{className:"text-center",children:[z("appIntroduction.description",a)," ",r," ",z("appIntroduction.description2",a)]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:i,className:"px-6",children:z("common.back",a)}),T.jsx(Ge,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},v2=({tokenAmount:r})=>{const t=()=>{const o=[],h=[],d=[];if(r<0){const g=Hs+r,v=Math.abs(r);for(let _=0;_<g;_++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${_}`));for(let _=0;_<v;_++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 border border-red-600"},`red-${_}`));o.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}else if(r>0){for(let g=0;g<Hs;g++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${g}`));for(let g=0;g<r;g++)d.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 border border-green-600"},`green-${g}`));o.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1")),o.push(T.jsx("div",{className:"flex gap-1 justify-center",children:d},"row-2"))}else{for(let g=0;g<Hs;g++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${g}`));o.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}return o},i=()=>r<0?"text-red-600":r>0?"text-green-600":"text-gray-600",a=()=>r<0?`${r}`:r>0?`+${r}`:"0";return T.jsxs("div",{className:"flex flex-col items-center gap-2 mt-3",children:[T.jsx("div",{className:"flex flex-col gap-1",children:t()}),T.jsx("div",{className:`text-sm font-bold ${i()}`,children:a()})]})},_2=({app:r,tokenAmount:t,questionNumber:i,totalQuestions:a,onNext:o,onSwitchingPointDetected:h,onBack:d})=>{const{language:g}=Yt(),[v,_]=He.useState(null),{addChoice:C,surveyData:w,setSwitchingPoint:V,clearAutoFilledChoices:X}=Vn();He.useEffect(()=>{_(null)},[r,t]);const ee=_e=>{const I=w.choices.filter(ge=>ge.app===r&&!ge.autoFilled&&ge.tokenAmount!==t),A=(w.tokenOrder==="ascending"?[...Ai].reverse():Ai)[0],D=I.length===0&&Math.abs(t-A)<.01;if(console.log("[SWITCHING POINT DEBUG]",{app:r,tokenAmount:t,currentChoice:_e,tokenOrder:w.tokenOrder,firstTokenAmount:A,isFirstTokenForApp:D,previousChoicesCount:I.length,previousChoices:I.map(ge=>({token:ge.tokenAmount,choice:ge.selectedOption}))}),I.length===0){if(w.tokenOrder==="descending"){const ge=_e==="limit";return console.log("[FIRST CHOICE - DESCENDING]",{currentChoice:_e,isSwitch:ge}),ge}if(w.tokenOrder==="ascending"){const ge=_e==="tokens";return console.log("[FIRST CHOICE - ASCENDING]",{currentChoice:_e,isSwitch:ge}),ge}return console.error("[SWITCHING POINT ERROR] Invalid tokenOrder:",w.tokenOrder),!1}if(!I.every(ge=>ge.selectedOption===I[0].selectedOption))return console.log("[SUBSEQUENT CHOICE] Inconsistent previous choices, no switch detected"),!1;const O=I[0].selectedOption,x=O!==_e;return console.log("[SUBSEQUENT CHOICE]",{previousOption:O,currentChoice:_e,isSwitch:x,tokenOrder:w.tokenOrder}),x},se=_e=>{const I=w.switchingPoints[r];if(!I||!I.confirmed)return!1;const b=w.tokenOrder==="ascending"?[...Ai].reverse():Ai,A=b.findIndex(O=>O===t),D=b.findIndex(O=>O===I.tokenAmount);if(A>=D)return!1;const R=w.choices.filter(O=>O.app===r&&!O.autoFilled&&O.tokenAmount!==t&&b.findIndex(x=>x===O.tokenAmount)<D);if(R.length>0){const O=R[0].selectedOption;if(_e!==O)return!0}return!1},Z=()=>{if(v){se(v)&&X(r);const I=ee(v);C({id:`${r}-${t}-${Date.now()}`,app:r,tokenAmount:t,selectedOption:v,timestamp:new Date().toISOString()}),I?(V(r,t,v),h()):o()}},W=t>0?`${z("choiceQuestion.receive",g)} ${t} ${z("choiceQuestion.tokens",g)}`:t<0?`${z("choiceQuestion.pay",g)} ${Math.abs(t)} ${z("choiceQuestion.tokens",g)}`:`${z("choiceQuestion.doNotLimit",g)} ${r}`,re=t>0?`${z("choiceQuestion.andNotLimit",g)} ${r}`:t<0?`${z("choiceQuestion.butNotLimit",g)} ${r}`:z("choiceQuestion.maintainTokens",g),ue=t*kn,xe=t!==0?`(${z("choiceQuestion.worth",g)} $${Math.abs(ue).toLocaleString()} COP)`:"",Be=r==="WhatsApp"?lh:ah;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"text-sm font-semibold text-gray-500 mb-2",children:[z("choiceQuestion.questionOf",g)," ",i," ",z("choiceQuestion.of",g)," ",a]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i/a*100}%`}})})]}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:z("choiceQuestion.wouldYouRather",g)}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[T.jsx("button",{onClick:()=>_("tokens"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${v==="tokens"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl mb-2",children:"💰"}),T.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:W}),T.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:re}),T.jsx("div",{className:"text-sm text-gray-600",children:xe}),T.jsx(v2,{tokenAmount:t})]})}),T.jsx("button",{onClick:()=>_("limit"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${v==="limit"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-2 flex justify-center",children:T.jsx("img",{src:Be,alt:r,className:"w-16 h-16"})}),T.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-2",children:[z("choiceQuestion.limit",g)," ",r]}),T.jsx("div",{className:"text-sm text-gray-600",children:z("choiceQuestion.limitDescription",g)})]})})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:d,className:"px-6",children:z("common.back",g)}),T.jsx(Ge,{onClick:Z,disabled:!v,className:"flex-1",children:z("common.continue",g)})]})]})})]})},E2=({onNext:r,onBack:t})=>{const{surveyData:i}=Vn(),{language:a}=Yt(),o=i.choices[0];if(!o)return r(),null;const{app:h,tokenAmount:d,selectedOption:g}=o,v=i.tokenBalance+d;let _;if(g==="tokens")if(d===0)_=z("choiceComprehensionCheck.confirmTokensZero",a).replace("{app}",h).replace("{currentBalance}",i.tokenBalance.toString());else{const V=d>0?z("choiceComprehensionCheck.receive",a):z("choiceComprehensionCheck.pay",a),X=d>0?z("choiceComprehensionCheck.and",a):z("choiceComprehensionCheck.but",a),ee=Math.abs(d);_=z("choiceComprehensionCheck.confirmTokens",a).replace("{action}",V).replace("{tokens}",ee.toString()).replace("{connector}",X).replace("{finalBalance}",v.toString()).replace("{app}",h)}else{const V=d>=0?z("choiceComprehensionCheck.receiving",a):z("choiceComprehensionCheck.paying",a),X=Math.abs(d);_=z("choiceComprehensionCheck.confirmLimit",a).replace("{app}",h).replace("{action}",V).replace("{tokens}",X.toString()).replace("{currentBalance}",i.tokenBalance.toString())}const C=()=>{r()},w=()=>{t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("choiceComprehensionCheck.title",a)}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:T.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:_})}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx(Ge,{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.no",a)}),T.jsx(Ge,{onClick:C,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.yes",a)})]})]})})]})},T2=({app:r,onConfirm:t,onGoBack:i})=>{const{language:a}=Yt(),{surveyData:o,confirmSwitchingPoint:h}=Vn(),d=o.switchingPoints[r];if(!d)return i(),null;const{tokenAmount:g,switchedTo:v}=d,_=r==="WhatsApp"?lh:ah,C=o.tokenOrder==="ascending"?[...Ai].reverse():Ai,w=C.findIndex(Z=>Z===g),V=C.slice(w+1),ee=v==="limit"?g>0?{choice:z("switchingPoint.choseLimitOverReceive",a).replace("{app}",r).replace("{tokenAmount}",g.toString()).replace("{value}",`$${(g*kn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitDescending",a).replaceAll("{app}",r)}:g<0?{choice:z("switchingPoint.choseLimitOverPay",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(g).toString()).replace("{value}",`$${(Math.abs(g)*kn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitAscending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseLimitOverZero",a).replace("{app}",r),implication:z("switchingPoint.implicationLimitFromZero",a).replace("{app}",r)}:g<0?{choice:z("switchingPoint.chosePayOverLimit",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(g).toString()).replace("{value}",`$${(Math.abs(g)*kn).toLocaleString()}`),implication:z("switchingPoint.implicationPayAscending",a).replace("{app}",r)}:g>0?{choice:z("switchingPoint.choseReceiveOverLimit",a).replace("{app}",r).replace("{tokenAmount}",g.toString()).replace("{value}",`$${(g*kn).toLocaleString()}`),implication:z("switchingPoint.implicationReceiveDescending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseZeroOverLimit",a).replace("{app}",r),implication:z("switchingPoint.implicationTokensFromZero",a).replace("{app}",r)},se=()=>{h(r),t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:_,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("switchingPoint.title",a)}),T.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.yourChoice",a)}),T.jsx("p",{className:"text-gray-700",children:ee.choice})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.whatThisMeans",a)}),T.jsx("p",{className:"text-gray-700",children:ee.implication})]}),T.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:T.jsx("p",{className:"text-sm text-gray-700",children:z("switchingPoint.autoFillNotice",a).replace("{count}",V.length.toString()).replace("{app}",r)})})]}),T.jsx("div",{className:"mb-4",children:T.jsx("p",{className:"text-center text-gray-600",children:z("switchingPoint.confirmQuestion",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:i,className:"flex-1",children:z("switchingPoint.goBack",a)}),T.jsx(Ge,{onClick:se,className:"flex-1 bg-green-600 hover:bg-green-700",children:z("switchingPoint.confirm",a)})]})]})})]})},S2=({app:r,onNext:t,onGoBack:i})=>{const{language:a}=Yt(),{surveyData:o}=Vn(),h=o.switchingPoints[r];if(!h||!h.confirmed)return t(),null;const d=r==="WhatsApp"?lh:ah,g=o.choices.filter(v=>v.app===r&&v.autoFilled);return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:d,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("autoFilled.title",a).replace("{app}",r)}),T.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-lg text-gray-700 mb-4",children:z("autoFilled.explanation",a).replace("{app}",r).replace("{count}",g.length.toString())}),T.jsxs("div",{className:"bg-white rounded-lg p-4 max-h-64 overflow-y-auto",children:[T.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:z("autoFilled.filledAnswers",a)}),T.jsx("div",{className:"space-y-3",children:g.map((v,_)=>{const C=v.tokenAmount>0?`${z("choiceQuestion.receive",a).toLowerCase()} ${v.tokenAmount} ${z("choiceQuestion.tokens",a)}`:v.tokenAmount<0?`${z("choiceQuestion.pay",a).toLowerCase()} ${Math.abs(v.tokenAmount)} ${z("choiceQuestion.tokens",a)}`:`${z("choiceQuestion.doNotLimit",a).toLowerCase()} ${r}`,w=v.selectedOption==="tokens"?C:`${z("choiceQuestion.limit",a)} ${r}`,X=`${`${z("choiceQuestion.limit",a)} ${r}`} vs ${C}`;return T.jsx("div",{className:"py-2 px-3 bg-gray-50 rounded",children:T.jsxs("div",{className:"text-sm text-gray-700",children:[T.jsxs("span",{className:"text-gray-600",children:[z("autoFilled.question",a)," ",_+1,":"]})," ",X," → ",z("autoFilled.decision",a),": ",T.jsx("span",{className:"font-bold text-gray-900",children:w})]})},v.id)})})]})]}),T.jsx("div",{className:"mb-6",children:T.jsx("p",{className:"text-center text-gray-600",children:z("autoFilled.canGoBack",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx(Ge,{onClick:i,className:"flex-1",children:z("common.back",a)}),T.jsx(Ge,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},b2=({onNext:r})=>{const{language:t}=Yt(),[i,a]=He.useState(!1),[o,h]=He.useState(null),[d,g]=He.useState(-1),[v,_]=He.useState(!1),{surveyData:C,selectRandomChoice:w,updateTokenBalance:V}=Vn(),X=()=>{a(!0),g(0);let Z=0;const W=setInterval(()=>{Z=(Z+1)%C.choices.length,g(Z)},150);setTimeout(()=>{clearInterval(W);const re=w();re.selectedOption==="tokens"&&!v&&(V(re.tokenAmount),_(!0));const ue=C.choices.findIndex(xe=>xe.id===re.id);g(ue),h(re),a(!1)},3e3)},ee=(Z,W)=>W==="tokens"?Z.tokenAmount>=0?`${z("choicesSummary.receive",t)} ${Z.tokenAmount} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.pay",t)} ${Math.abs(Z.tokenAmount)} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.limit",t)} ${Z.app} ${z("choicesSummary.limitDuration",t)}`,se=({choice:Z,option:W})=>{const re=Z.selectedOption===W;return T.jsx("div",{className:`
        flex-1 p-3 rounded-lg border-2 transition-all
        ${re?"border-blue-500 bg-blue-50 font-semibold":"border-gray-200 bg-white"}
      `,children:T.jsxs("div",{className:"flex items-center gap-2",children:[re&&T.jsx("span",{className:"text-blue-600",children:"✓"}),T.jsx("span",{className:re?"text-gray-900":"text-gray-600",children:ee(Z,W)})]})})};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("choicesSummary.title",t)}),!o&&T.jsx("p",{className:"text-center text-gray-600 mb-6",children:z(i?"choicesSummary.selecting":"choicesSummary.instruction",t)}),T.jsx("div",{className:"space-y-3 mb-8",children:C.choices.map((Z,W)=>T.jsx("div",{className:`
                p-4 rounded-lg transition-all duration-200
                ${d===W&&i?"bg-yellow-100 border-2 border-yellow-400 shadow-lg scale-105":d===W&&o?"bg-green-100 border-2 border-green-500 shadow-lg":"bg-gray-50 border border-gray-200"}
              `,children:T.jsxs("div",{className:"flex gap-3 items-center",children:[T.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:T.jsx("span",{className:"text-sm font-semibold text-gray-500",children:W+1})}),T.jsxs("div",{className:"flex-1 flex gap-3",children:[T.jsx(se,{choice:Z,option:"tokens"}),T.jsx("div",{className:"flex items-center text-gray-400",children:T.jsx("span",{children:z("common.or",t)})}),T.jsx(se,{choice:Z,option:"limit"})]})]})},Z.id))}),!i&&!o&&T.jsx(Ge,{onClick:X,className:"w-full",children:z("choicesSummary.selectButton",t)}),i&&T.jsx("div",{className:"text-center",children:T.jsxs("div",{className:"inline-flex items-center gap-2 text-lg font-semibold text-gray-900",children:[T.jsx("span",{className:"animate-pulse text-3xl",children:"🎲"}),T.jsx("span",{children:z("choicesSummary.selectingLabel",t)})]})}),!i&&o&&T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-4",children:T.jsx("span",{className:"text-5xl",children:"✅"})}),T.jsxs("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:[z("choicesSummary.choice",t),d+1," ",z("choicesSummary.selectedMessage",t)]}),T.jsx("p",{className:"text-gray-600 mb-6",children:z("choicesSummary.selectedDescription",t)}),T.jsx(Ge,{onClick:r,className:"w-full",children:z("choicesSummary.continueToResults",t)})]})]})})]})},A2=({onNext:r})=>{const{language:t}=Yt(),{surveyData:i,completeSurvey:a}=Vn(),[o,h]=wd.useState(!1);He.useEffect(()=>{!i.completedAt&&!o&&(h(!0),a())},[i.completedAt,a,o]);const d=i.selectedChoice;if(!d)return null;const g=d.selectedOption==="limit";return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ii,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"text-6xl mb-4",children:g?"⏱️":"💰"}),T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:z("results.title",t)})]}),T.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:z("results.whatWillHappen",t)}),g?T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[T.jsx("strong",{children:d.app})," ",z("results.limitMessage1",t)," ",z("results.limitMessage2",t)]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.limitMessage3",t)," ",z("results.limitMessage4",t)]})]}):T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[z("results.tokenMessage1",t)," ",T.jsx("strong",{children:d.tokenAmount>=0?`${z("results.receive",t)} ${d.tokenAmount} ${z("results.tokens",t)}`:`${z("results.pay",t)} ${Math.abs(d.tokenAmount)} ${z("results.tokens",t)}`}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.thisIsWorth",t)," ",T.jsxs("strong",{children:["$",Math.abs(d.tokenAmount*kn).toLocaleString()," COP"]}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[d.app," ",z("results.willNotBeLimited",t)]})]})]}),T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("results.finalTokenBalance",t)}),T.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i.tokenBalance," ",z("results.tokens",t)]}),T.jsxs("p",{className:"text-gray-600 mt-1",children:["($",(i.tokenBalance*kn).toLocaleString()," COP)"]}),T.jsx(OE,{tokenCount:i.tokenBalance})]}),T.jsx(Ge,{onClick:r,className:"w-full",children:z("results.finishSurvey",t)})]})})]})},w2=({onStartNewSurvey:r})=>{const{language:t}=Yt(),{surveyData:i}=Vn(),a=()=>{const h=JSON.stringify(i,null,2),d=new Blob([h],{type:"application/json"}),g=URL.createObjectURL(d),v=document.createElement("a");v.href=g,v.download=`survey-${i.participantId}-${Date.now()}.json`,v.click(),URL.revokeObjectURL(g)},o=async()=>{r()};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),T.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:z("thankYou.title",t)}),T.jsx("p",{className:"text-xl text-gray-700 mb-6",children:z("thankYou.completed",t)}),T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-gray-700 mb-2",children:z("thankYou.recorded",t)}),T.jsx("p",{className:"text-gray-700",children:z("thankYou.contactInfo",t)})]}),T.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[z("thankYou.participantId",t)," ",i.participantId]}),T.jsx("button",{onClick:a,className:"text-blue-600 hover:text-blue-700 underline text-sm mb-6",children:z("thankYou.downloadData",t)}),T.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:T.jsx(Ge,{onClick:o,className:"w-full",children:z("thankYou.startNew",t)})})]})})},x2=()=>{const{language:r,setLanguage:t}=Yt();return T.jsxs("div",{className:"fixed top-4 left-4 flex items-center gap-1 text-sm bg-white rounded-lg shadow-md px-3 py-2 z-50",children:[T.jsx("button",{onClick:()=>t("es"),className:`px-2 py-1 rounded transition-colors ${r==="es"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"ES"}),T.jsx("span",{className:"text-gray-400",children:"|"}),T.jsx("button",{onClick:()=>t("en"),className:`px-2 py-1 rounded transition-colors ${r==="en"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"EN"})]})},C2=()=>{const{syncStatus:r,exportAllData:t,triggerManualSync:i}=Vn(),[a,o]=He.useState(!1),[h,d]=He.useState(!1),g=navigator.onLine,v=r.synced+r.pending,_=async()=>{o(!0);try{await t(),alert("Data exported successfully! Check your downloads folder.")}catch(V){console.error("Export error:",V),alert("Failed to export data. Please try again.")}finally{o(!1)}},C=async()=>{d(!0);try{await i(),alert("Sync completed successfully!")}catch(V){console.error("Sync error:",V),alert("Sync failed. Please check internet connection and try again.")}finally{d(!1)}},w=(V=!1)=>h?"Syncing...":r.pending===0?"All Synced":V?`Sync (${r.pending})`:`Sync Now (${r.pending})`;return T.jsx("footer",{className:"bg-white border-t border-gray-200 py-3 px-4",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsxs("div",{className:"flex flex-col gap-3 sm:hidden",children:[T.jsxs("div",{className:"flex items-center justify-between gap-2",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),T.jsx("span",{className:"font-medium",children:g?"Online":"Offline"})]}),T.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[T.jsxs("span",{className:"text-green-600",children:["✓ ",r.synced]}),r.pending>0&&T.jsxs("span",{className:"text-yellow-600",children:["⏳ ",r.pending]}),r.failed>0&&T.jsxs("span",{className:"text-red-600",children:["✗ ",r.failed]})]}),T.jsx("span",{className:"text-xs text-gray-400",children:Yd})]}),T.jsxs("div",{className:"flex gap-2 justify-between",children:[T.jsx(Ge,{onClick:C,disabled:h||!g,variant:"primary",className:"flex-1 text-sm py-2",children:w(!0)}),T.jsx(Ge,{onClick:_,disabled:a||v===0,variant:"secondary",className:"flex-1 text-sm py-2",children:a?"Exporting...":`Export (${v})`})]}),!g&&r.pending>0&&T.jsx("div",{className:"text-xs text-red-600 text-center",children:"Connect to internet to sync"})]}),T.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${g?"bg-green-500":"bg-red-500"}`}),T.jsx("span",{className:"font-medium",children:g?"Online":"Offline"})]}),T.jsx("div",{className:"h-4 w-px bg-gray-300"}),T.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[T.jsxs("span",{className:"text-green-600",children:["Synced: ",r.synced]}),T.jsxs("span",{className:"text-yellow-600",children:["Pending: ",r.pending]}),r.failed>0&&T.jsxs("span",{className:"text-red-600",children:["Failed: ",r.failed]})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Ge,{onClick:C,disabled:h||!g,variant:"primary",className:"text-sm",children:w(!1)}),T.jsx(Ge,{onClick:_,disabled:a||v===0,variant:"secondary",className:"text-sm",children:a?"Exporting...":`Export Data (${v})`})]}),T.jsx("div",{className:"text-sm text-gray-400",children:Yd})]}),!g&&r.pending>0&&T.jsx("div",{className:"hidden sm:block text-xs text-red-600 text-center mt-2",children:"Connect to internet to sync"})]})})},R2=()=>{const[r,t]=He.useState(()=>localStorage.getItem("currentScreen")||"participantId"),[i,a]=He.useState(()=>{const W=localStorage.getItem("currentChoiceIndex");return W?parseInt(W,10):0}),{surveyData:o,autoFillChoices:h,hasSwitchingPoint:d,clearAutoFilledChoices:g,removeChoice:v,resetSurvey:_}=Vn();wd.useEffect(()=>{localStorage.setItem("currentScreen",r)},[r]),wd.useEffect(()=>{localStorage.setItem("currentChoiceIndex",i.toString())},[i]);const C=o.tokenOrder==="ascending"?[...Ai].reverse():Ai,w=o.appOrder.flatMap(W=>C.map(re=>({app:W,tokenAmount:re}))),V=()=>{switch(r){case"participantId":t("instructions");break;case"instructions":t("comprehension");break;case"comprehension":t("tokenAllocation");break;case"reinstructions":t("comprehension");break;case"tokenAllocation":t("choiceInstructions1");break;case"choiceInstructions1":t("choiceInstructions2");break;case"choiceInstructions2":t("appIntroduction1");break;case"appIntroduction1":t("choices"),a(0);break;case"appIntroduction2":t("choices"),a(8);break;case"choices":{const W=w[i].app;if(d(W)){let re=i+1;for(;re<w.length&&w[re].app===W;)re++;if(re>i+1){t("autoFilledExplanation"),a(re);break}}i===0?t("choiceComprehension"):i===7?t("appIntroduction2"):i<w.length-1?a(i+1):t("choicesSummary");break}case"choiceComprehension":a(1),t("choices");break;case"switchingPointConfirmation":{const W=w[i].app;h(W);let re=i+1;for(;re<w.length&&w[re].app===W;)re++;a(re),t("autoFilledExplanation");break}case"autoFilledExplanation":{i===8?t("appIntroduction2"):i<w.length?t("choices"):t("choicesSummary");break}case"choicesSummary":t("results");break;case"results":t("thankYou");break}},X=()=>{t("reinstructions")},ee=()=>{t("switchingPointConfirmation")},se=async()=>{await _(),localStorage.removeItem("currentScreen"),localStorage.removeItem("currentChoiceIndex"),t("participantId"),a(0)},Z=()=>{switch(r){case"instructions":t("participantId");break;case"comprehension":t("instructions");break;case"tokenAllocation":t("comprehension");break;case"choiceInstructions1":t("tokenAllocation");break;case"choiceInstructions2":t("choiceInstructions1");break;case"appIntroduction1":t("choiceInstructions2");break;case"appIntroduction2":t("choices"),a(7);break;case"choiceComprehension":a(0),t("choices");break;case"switchingPointConfirmation":{const W=w[i].app,re=w[i].tokenAmount;v(W,re),g(W),t("choices");break}case"autoFilledExplanation":{const W=w[i-1]?.app||w[0].app;g(W);const re=o.choices.findIndex(ue=>ue.app===W&&!ue.autoFilled);if(re!==-1){const ue=o.choices[re],xe=w.findIndex(Be=>Be.app===ue.app&&Be.tokenAmount===ue.tokenAmount);a(xe)}else{const ue=w.findIndex(xe=>xe.app===W);a(ue)}t("choices");break}case"choices":{const W=w[i].app;if(d(W)){const re=i-1;if(re>=0&&w[re].app!==W){const ue=w.findIndex(xe=>xe.app===W);a(ue+1),t("autoFilledExplanation");break}}i===8?t("appIntroduction2"):i===1?t("choiceComprehension"):i>0?a(i-1):t("appIntroduction1");break}}};return T.jsxs(T.Fragment,{children:[r==="participantId"&&T.jsx(h2,{onNext:V}),r==="instructions"&&T.jsx(f2,{onNext:V,onBack:Z}),r==="comprehension"&&T.jsx(d2,{onNext:V,onBack:Z,onFailed:X}),r==="reinstructions"&&T.jsx(m2,{onNext:V}),r==="tokenAllocation"&&T.jsx(p2,{onNext:V,onBack:Z}),r==="choiceInstructions1"&&T.jsx(g2,{onNext:V,onBack:Z}),r==="choiceInstructions2"&&T.jsx(y2,{onNext:V,onBack:Z}),r==="appIntroduction1"&&T.jsx(I_,{app:o.appOrder[0],onNext:V,onBack:Z}),r==="appIntroduction2"&&T.jsx(I_,{app:o.appOrder[1],onNext:V,onBack:Z}),r==="choices"&&T.jsx(_2,{app:w[i].app,tokenAmount:w[i].tokenAmount,questionNumber:i+1,totalQuestions:w.length,onNext:V,onSwitchingPointDetected:ee,onBack:Z}),r==="choiceComprehension"&&T.jsx(E2,{onNext:V,onBack:Z}),r==="switchingPointConfirmation"&&T.jsx(T2,{app:w[i].app,onConfirm:V,onGoBack:Z}),r==="autoFilledExplanation"&&T.jsx(S2,{app:w[i-1]?.app||w[0].app,onNext:V,onGoBack:Z}),r==="choicesSummary"&&T.jsx(b2,{onNext:V}),r==="results"&&T.jsx(A2,{onNext:V}),r==="thankYou"&&T.jsx(w2,{onStartNewSurvey:se})]})};function I2(){return T.jsx(c2,{children:T.jsx(o2,{children:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx("div",{className:"flex-1",children:T.jsx(R2,{})}),T.jsx(C2,{}),T.jsx(x2,{})]})})})}_S.createRoot(document.getElementById("root")).render(T.jsx(I2,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/wtp-survey/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
