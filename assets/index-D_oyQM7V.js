(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var od={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function ab(){if(Xy)return rl;Xy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return rl.Fragment=t,rl.jsx=i,rl.jsxs=i,rl}var $y;function ob(){return $y||($y=1,od.exports=ab()),od.exports}var T=ob(),ld={exports:{}},al={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function lb(){return Zy||(Zy=1,(function(r){function t(F,se){var de=F.length;F.push(se);e:for(;0<de;){var ke=de-1>>>1,Be=F[ke];if(0<l(Be,se))F[ke]=se,F[de]=Be,de=ke;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],de=F.pop();if(de!==se){F[0]=de;e:for(var ke=0,Be=F.length,M=Be>>>1;ke<M;){var K=2*(ke+1)-1,re=F[K],ae=K+1,ve=F[ae];if(0>l(re,de))ae<Be&&0>l(ve,re)?(F[ke]=ve,F[ae]=de,ke=ae):(F[ke]=re,F[K]=de,ke=K);else if(ae<Be&&0>l(ve,de))F[ke]=ve,F[ae]=de,ke=ae;else break e}}return se}function l(F,se){var de=F.sortIndex-se.sortIndex;return de!==0?de:F.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var _=[],v=[],w=1,C=null,L=3,X=!1,$=!1,ee=!1,J=!1,le=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Pe(F){for(var se=i(v);se!==null;){if(se.callback===null)a(v);else if(se.startTime<=F)a(v),se.sortIndex=se.expirationTime,t(_,se);else break;se=i(v)}}function ie(F){if(ee=!1,Pe(F),!$)if(i(_)!==null)$=!0,te||(te=!0,k());else{var se=i(v);se!==null&&xt(ie,se.startTime-F)}}var te=!1,A=-1,S=5,x=-1;function N(){return J?!0:!(r.unstable_now()-x<S)}function D(){if(J=!1,te){var F=r.unstable_now();x=F;var se=!0;try{e:{$=!1,ee&&(ee=!1,pe(A),A=-1),X=!0;var de=L;try{t:{for(Pe(F),C=i(_);C!==null&&!(C.expirationTime>F&&N());){var ke=C.callback;if(typeof ke=="function"){C.callback=null,L=C.priorityLevel;var Be=ke(C.expirationTime<=F);if(F=r.unstable_now(),typeof Be=="function"){C.callback=Be,Pe(F),se=!0;break t}C===i(_)&&a(_),Pe(F)}else a(_);C=i(_)}if(C!==null)se=!0;else{var M=i(v);M!==null&&xt(ie,M.startTime-F),se=!1}}break e}finally{C=null,L=de,X=!1}se=void 0}}finally{se?k():te=!1}}}var k;if(typeof ge=="function")k=function(){ge(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,tt=R.port2;R.port1.onmessage=D,k=function(){tt.postMessage(null)}}else k=function(){le(D,0)};function xt(F,se){A=le(function(){F(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_next=function(F){switch(L){case 1:case 2:case 3:var se=3;break;default:se=L}var de=L;L=se;try{return F()}finally{L=de}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=L;L=F;try{return se()}finally{L=de}},r.unstable_scheduleCallback=function(F,se,de){var ke=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,F){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=de+Be,F={id:w++,callback:se,priorityLevel:F,startTime:de,expirationTime:Be,sortIndex:-1},de>ke?(F.sortIndex=de,t(v,F),i(_)===null&&F===i(v)&&(ee?(pe(A),A=-1):ee=!0,xt(ie,de-ke))):(F.sortIndex=Be,t(_,F),$||X||($=!0,te||(te=!0,k()))),F},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(F){var se=L;return function(){var de=L;L=se;try{return F.apply(this,arguments)}finally{L=de}}}})(cd)),cd}var Jy;function ub(){return Jy||(Jy=1,ud.exports=lb()),ud.exports}var hd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function cb(){if(Wy)return _e;Wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.iterator;function X(M){return M===null||typeof M!="object"?null:(M=L&&M[L]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,J={};function le(M,K,re){this.props=M,this.context=K,this.refs=J,this.updater=re||$}le.prototype.isReactComponent={},le.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},le.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pe(){}pe.prototype=le.prototype;function ge(M,K,re){this.props=M,this.context=K,this.refs=J,this.updater=re||$}var Pe=ge.prototype=new pe;Pe.constructor=ge,ee(Pe,le.prototype),Pe.isPureReactComponent=!0;var ie=Array.isArray;function te(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(M,K,re){var ae=re.ref;return{$$typeof:r,type:M,key:K,ref:ae!==void 0?ae:null,props:re}}function N(M,K){return x(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return K[re]})}var R=/\/+/g;function tt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,re,ae,ve){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case t:Oe=!0;break;case w:return Oe=M._init,F(Oe(M._payload),K,re,ae,ve)}}if(Oe)return ve=ve(M),Oe=ae===""?"."+tt(M,0):ae,ie(ve)?(re="",Oe!=null&&(re=Oe.replace(R,"$&/")+"/"),F(ve,K,re,"",function(er){return er})):ve!=null&&(D(ve)&&(ve=N(ve,re+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Oe)),K.push(ve)),1;Oe=0;var Ct=ae===""?".":ae+":";if(ie(M))for(var nt=0;nt<M.length;nt++)ae=M[nt],be=Ct+tt(ae,nt),Oe+=F(ae,K,re,be,ve);else if(nt=X(M),typeof nt=="function")for(M=nt.call(M),nt=0;!(ae=M.next()).done;)ae=ae.value,be=Ct+tt(ae,nt++),Oe+=F(ae,K,re,be,ve);else if(be==="object"){if(typeof M.then=="function")return F(xt(M),K,re,ae,ve);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(M,K,re){if(M==null)return M;var ae=[],ve=0;return F(M,ae,"","",function(be){return K.call(re,be,ve++)}),ae}function de(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Be={map:se,forEach:function(M,K,re){se(M,function(){K.apply(this,arguments)},re)},count:function(M){var K=0;return se(M,function(){K++}),K},toArray:function(M){return se(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _e.Activity=C,_e.Children=Be,_e.Component=le,_e.Fragment=i,_e.Profiler=l,_e.PureComponent=ge,_e.StrictMode=a,_e.Suspense=_,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,_e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return A.H.useMemoCache(M)}},_e.cache=function(M){return function(){return M.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(M,K,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=ee({},M.props),ve=M.key;if(K!=null)for(be in K.key!==void 0&&(ve=""+K.key),K)!S.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(ae[be]=K[be]);var be=arguments.length-2;if(be===1)ae.children=re;else if(1<be){for(var Oe=Array(be),Ct=0;Ct<be;Ct++)Oe[Ct]=arguments[Ct+2];ae.children=Oe}return x(M.type,ve,ae)},_e.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},_e.createElement=function(M,K,re){var ae,ve={},be=null;if(K!=null)for(ae in K.key!==void 0&&(be=""+K.key),K)S.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=K[ae]);var Oe=arguments.length-2;if(Oe===1)ve.children=re;else if(1<Oe){for(var Ct=Array(Oe),nt=0;nt<Oe;nt++)Ct[nt]=arguments[nt+2];ve.children=Ct}if(M&&M.defaultProps)for(ae in Oe=M.defaultProps,Oe)ve[ae]===void 0&&(ve[ae]=Oe[ae]);return x(M,be,ve)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(M){return{$$typeof:y,render:M}},_e.isValidElement=D,_e.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:de}},_e.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},_e.startTransition=function(M){var K=A.T,re={};A.T=re;try{var ae=M(),ve=A.S;ve!==null&&ve(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(te,ke)}catch(be){ke(be)}finally{K!==null&&re.types!==null&&(K.types=re.types),A.T=K}},_e.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},_e.use=function(M){return A.H.use(M)},_e.useActionState=function(M,K,re){return A.H.useActionState(M,K,re)},_e.useCallback=function(M,K){return A.H.useCallback(M,K)},_e.useContext=function(M){return A.H.useContext(M)},_e.useDebugValue=function(){},_e.useDeferredValue=function(M,K){return A.H.useDeferredValue(M,K)},_e.useEffect=function(M,K){return A.H.useEffect(M,K)},_e.useEffectEvent=function(M){return A.H.useEffectEvent(M)},_e.useId=function(){return A.H.useId()},_e.useImperativeHandle=function(M,K,re){return A.H.useImperativeHandle(M,K,re)},_e.useInsertionEffect=function(M,K){return A.H.useInsertionEffect(M,K)},_e.useLayoutEffect=function(M,K){return A.H.useLayoutEffect(M,K)},_e.useMemo=function(M,K){return A.H.useMemo(M,K)},_e.useOptimistic=function(M,K){return A.H.useOptimistic(M,K)},_e.useReducer=function(M,K,re){return A.H.useReducer(M,K,re)},_e.useRef=function(M){return A.H.useRef(M)},_e.useState=function(M){return A.H.useState(M)},_e.useSyncExternalStore=function(M,K,re){return A.H.useSyncExternalStore(M,K,re)},_e.useTransition=function(){return A.H.useTransition()},_e.version="19.2.0",_e}var ev;function Qd(){return ev||(ev=1,hd.exports=cb()),hd.exports}var fd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function hb(){if(tv)return Kt;tv=1;var r=Qd();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:_,containerInfo:v,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Kt.createPortal=function(_,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,w)},Kt.flushSync=function(_){var v=d.T,w=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=w,a.d.f()}},Kt.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Kt.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Kt.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var w=v.as,C=y(w,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,X=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:L,fetchPriority:X}):w==="script"&&a.d.X(_,{crossOrigin:C,integrity:L,fetchPriority:X,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kt.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Kt.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,C=y(w,v.crossOrigin);a.d.L(_,w,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kt.preloadModule=function(_,v){if(typeof _=="string")if(v){var w=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Kt.requestFormReset=function(_){a.d.r(_)},Kt.unstable_batchedUpdates=function(_,v){return _(v)},Kt.useFormState=function(_,v,w){return d.H.useFormState(_,v,w)},Kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var nv;function fb(){if(nv)return fd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fd.exports=hb(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function db(){if(iv)return al;iv=1;var r=ub(),t=Qd(),i=fb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===o)return _(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,o=f;break}if(E===o){p=!0,o=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=c;break}if(E===o){p=!0,o=f,s=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function w(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=w(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,L=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case le:return"Profiler";case J:return"StrictMode";case ie:return"Suspense";case te:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ge:return e.displayName||"Context";case pe:return(e._context.displayName||"Context")+".Consumer";case Pe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A:return n=e.displayName||null,n!==null?n:tt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return tt(e(n))}catch{}}return null}var xt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],Be=-1;function M(e){return{current:e}}function K(e){0>Be||(e.current=ke[Be],ke[Be]=null,Be--)}function re(e,n){Be++,ke[Be]=e.current,e.current=n}var ae=M(null),ve=M(null),be=M(null),Oe=M(null);function Ct(e,n){switch(re(be,n),re(ve,e),re(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vy(n),e=_y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ae),re(ae,e)}function nt(){K(ae),K(ve),K(be)}function er(e){e.memoizedState!==null&&re(Oe,e);var n=ae.current,s=_y(n,e.type);n!==s&&(re(ve,e),re(ae,s))}function Gr(e){ve.current===e&&(K(ae),K(ve)),Oe.current===e&&(K(Oe),tl._currentValue=de)}var Fr,Qr;function ti(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Qr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Qr}var eo=!1;function tr(e,n){if(!e||eo)return"";eo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===P.length)for(o=I.length-1,c=P.length-1;1<=o&&0<=c&&I[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==P[c]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=c);break}}}finally{eo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function to(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return ti("Activity");default:return""}}function no(e){try{var n="",s=null;do n+=to(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,lh=r.unstable_shouldYield,kl=r.unstable_requestPaint,Wt=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,so=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,uh=r.unstable_LowPriority,Vl=r.unstable_IdlePriority,Ul=r.log,Ll=r.unstable_setDisableYieldValue,Un=null,Ut=null;function bn(e){if(typeof Ul=="function"&&Ll(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Un,e)}catch{}}var ht=Math.clz32?Math.clz32:Pl,jl=Math.log,Yr=Math.LN2;function Pl(e){return e>>>=0,e===0?32:31-(jl(e)/Yr|0)|0}var ni=256,ir=262144,gt=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ii(o):(p&=E,p!==0?c=ii(p):s||(s=E&~e,s!==0&&(c=ii(s))))):(E=o&~f,E!==0?c=ii(E):p!==0?c=ii(p):s||(s=o&~e,s!==0&&(c=ii(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zl(){var e=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hh(e,n,s,o,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-ht(s),Y=1<<G;E[G]=0,I[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&rr(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ht(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ro(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ht(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function ao(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bl(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:qy(e.type))}function jn(e,n){var s=se.p;try{return se.p=e,n()}finally{se.p=s}}var Pn=Math.random().toString(36).slice(2),yt="__reactFiber$"+Pn,Nt="__reactProps$"+Pn,ai="__reactContainer$"+Pn,Kr="__reactEvents$"+Pn,fh="__reactListeners$"+Pn,ql="__reactHandles$"+Pn,Hl="__reactResources$"+Pn,oi="__reactMarker$"+Pn;function Xr(e){delete e[yt],delete e[Nt],delete e[Kr],delete e[fh],delete e[ql]}function li(e){var n=e[yt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[yt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=xy(e);e!==null;){if(s=e[yt])return s;e=xy(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[yt]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ui(e){var n=e[Hl];return n||(n=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vt(e){e[oi]=!0}var oo=new Set,lo={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(lo[e]=n,e=0;e<n.length;e++)oo.add(n[e])}var uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Gl(e){return pt.call(ho,e)?!0:pt.call(co,e)?!1:uo.test(e)?ho[e]=!0:(co[e]=!0,!1)}function $r(e,n,s){if(Gl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function _t(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qe(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=fo(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function nn(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(e,n,s,o,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?mo(e,p,Dt(n)):s!=null?mo(e,p,Dt(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Dt(E):e.removeAttribute("name")}function Fl(e,n,s,o,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){qe(e);return}s=s!=null?""+Dt(s):"",n=n!=null?""+Dt(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),qe(e)}function mo(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Dt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ql(e,n,s){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Dt(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(xt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Dt(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),qe(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Yl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function go(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&po(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&po(e,f,n[f])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var yo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,di=null;function ur(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Nt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Zr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Nt]||null;if(!c)throw Error(a(90));Zr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break e;case"textarea":Ql(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var ea=!1;function cs(e,n,s){if(ea)return e(n,s);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(us!==null||di!==null)&&(Bu(),us&&(n=us,e=di,di=us=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Nt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(wn)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch{cr=!1}var mi=null,vo=null,hr=null;function _o(){if(hr)return hr;var e,n=vo,s=n.length,o,c="value"in mi?mi.value:mi.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===c[f-o];o++);return hr=c.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Lt(e){function n(s,o,c,f,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Lt(Di),hs=C({},Di,{view:0,detail:0}),Eo=Lt(hs),fs,ta,gi,na=C({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(fs=e.screenX-gi.screenX,ta=e.screenY-gi.screenY):ta=fs=0,gi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),To=Lt(na),dr=C({},na,{dataTransfer:0}),Xl=Lt(dr),$l=C({},hs,{relatedTarget:0}),mr=Lt($l),bo=C({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Zl=Lt(bo),ia=C({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jl=Lt(ia),Wl=C({},Di,{data:0}),yi=Lt(Wl),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function ds(){return iu}var en=C({},hs,{key:function(e){if(e.key){var n=eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),su=Lt(en),ru=C({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Lt(ru),u=C({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=Lt(u),g=C({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Lt(g),U=C({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Lt(U),ne=C({},Di,{newState:0,oldState:0}),Ee=Lt(ne),ft=[9,13,27,32],Le=wn&&"CompositionEvent"in window,it=null;wn&&"documentMode"in document&&(it=document.documentMode);var xn=wn&&"TextEvent"in window&&!it,vi=wn&&(!Le||it&&8<it&&11>=it),Hn=" ",Gn=!1;function pr(e,n){switch(e){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function NE(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function DE(e,n){if(ra)return e==="compositionend"||!Le&&pr(e,n)?(e=_o(),hr=vo=mi=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OE[e.type]:n==="textarea"}function Nm(e,n,s,o){us?di?di.push(o):di=[o]:us=o,n=Ku(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var So=null,Ao=null;function ME(e){fy(e,0)}function au(e){var n=dn(e);if(or(n))return e}function Dm(e,n){if(e==="change")return n}var Om=!1;if(wn){var dh;if(wn){var mh="oninput"in document;if(!mh){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),mh=typeof Mm.oninput=="function"}dh=mh}else dh=!1;Om=dh&&(!document.documentMode||9<document.documentMode)}function km(){So&&(So.detachEvent("onpropertychange",Vm),Ao=So=null)}function Vm(e){if(e.propertyName==="value"&&au(Ao)){var n=[];Nm(n,Ao,e,An(e)),cs(ME,n)}}function kE(e,n,s){e==="focusin"?(km(),So=n,Ao=s,So.attachEvent("onpropertychange",Vm)):e==="focusout"&&km()}function VE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return au(Ao)}function UE(e,n){if(e==="click")return au(n)}function LE(e,n){if(e==="input"||e==="change")return au(n)}function jE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:jE;function wo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!pt.call(n,c)||!pn(e[c],n[c]))return!1}return!0}function Um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lm(e,n){var s=Um(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Um(s)}}function jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PE=wn&&"documentMode"in document&&11>=document.documentMode,aa=null,gh=null,xo=null,yh=!1;function zm(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||aa==null||aa!==fi(o)||(o=aa,"selectionStart"in o&&ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&wo(xo,o)||(xo=o,o=Ku(gh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function gr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},vh={},Bm={};wn&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function yr(e){if(vh[e])return vh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Bm)return vh[e]=n[s];return e}var qm=yr("animationend"),Hm=yr("animationiteration"),Gm=yr("animationstart"),zE=yr("transitionrun"),BE=yr("transitionstart"),qE=yr("transitioncancel"),Fm=yr("transitionend"),Qm=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Fn(e,n){Qm.set(e,n),ci(n,[e])}var ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],la=0,Eh=0;function lu(){for(var e=la,n=Eh=la=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Ym(s,c,f)}}function uu(e,n,s,o){Cn[la++]=e,Cn[la++]=n,Cn[la++]=s,Cn[la++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,n,s,o){return uu(e,n,s,o),cu(e)}function vr(e,n){return uu(e,null,null,n),cu(e)}function Ym(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ht(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function cu(e){if(50<Ko)throw Ko=0,Df=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function HE(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new HE(e,n,s,o)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Km(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,s,o,c,f){var p=0;if(o=e,typeof e=="function")bh(e)&&(p=1);else if(typeof e=="string")p=KT(e,s,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case x:return e=gn(31,s,n,c),e.elementType=x,e.lanes=f,e;case ee:return _r(s.children,c,f,n);case J:p=8,c|=24;break;case le:return e=gn(12,s,n,c|2),e.elementType=le,e.lanes=f,e;case ie:return e=gn(13,s,n,c),e.elementType=ie,e.lanes=f,e;case te:return e=gn(19,s,n,c),e.elementType=te,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:p=10;break e;case pe:p=9;break e;case Pe:p=11;break e;case A:p=14;break e;case S:p=16,o=null;break e}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function _r(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function Sh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Xm(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Ah(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $m=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=$m.get(e);return s!==void 0?s:(n={value:e,source:n,stack:no(n)},$m.set(e,n),n)}return{value:e,source:n,stack:no(n)}}var ca=[],ha=0,fu=null,Co=0,In=[],Nn=0,ms=null,_i=1,Ei="";function ki(e,n){ca[ha++]=Co,ca[ha++]=fu,fu=e,Co=n}function Zm(e,n,s){In[Nn++]=_i,In[Nn++]=Ei,In[Nn++]=ms,ms=e;var o=_i;e=Ei;var c=32-ht(o)-1;o&=~(1<<c),s+=1;var f=32-ht(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,_i=1<<32-ht(n)+c|s<<c|o,Ei=f+e}else _i=1<<f|s<<c|o,Ei=e}function wh(e){e.return!==null&&(ki(e,1),Zm(e,1,0))}function xh(e){for(;e===fu;)fu=ca[--ha],ca[ha]=null,Co=ca[--ha],ca[ha]=null;for(;e===ms;)ms=In[--Nn],In[Nn]=null,Ei=In[--Nn],In[Nn]=null,_i=In[--Nn],In[Nn]=null}function Jm(e,n){In[Nn++]=_i,In[Nn++]=Ei,In[Nn++]=ms,_i=n.id,Ei=n.overflow,ms=e}var jt=null,We=null,De=!1,ps=null,Dn=!1,Ch=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ro(Rn(n,e)),Ch}function Wm(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[yt]=e,n[Nt]=o,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<$o.length;s++)Ce($o[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Fl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||gy(n.textContent,s)?(o.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),o.onScroll!=null&&Ce("scroll",n),o.onScrollEnd!=null&&Ce("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gs(e,!0)}function ep(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:jt=jt.return}}function fa(e){if(e!==jt)return!1;if(!De)return ep(e),De=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Qf(e.type,e.memoizedProps)),s=!s),s&&We&&gs(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));We=wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));We=wy(e)}else n===27?(n=We,Ns(e.type)?(e=Zf,Zf=null,We=e):We=n):We=jt?Mn(e.stateNode.nextSibling):null;return!0}function Er(){We=jt=null,De=!1}function Rh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function Ro(e){ps===null?ps=[e]:ps.push(e)}var Ih=M(null),Tr=null,Vi=null;function ys(e,n,s){re(Ih,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Ih.current,K(Ih)}function Nh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Dh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Nh(f.return,s,e),o||(p=null);break e}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Nh(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function da(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;pn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===Oe.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}c=c.return}e!==null&&Dh(n,e,s,o),n.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function br(e){Tr=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pt(e){return tp(Tr,e)}function mu(e,n){return Tr===null&&br(e),tp(e,n)}function tp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var GE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},FE=r.unstable_scheduleCallback,QE=r.unstable_NormalPriority,Et={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new GE,data:new Map,refCount:0}}function Io(e){e.refCount--,e.refCount===0&&FE(QE,function(){e.controller.abort()})}var No=null,Mh=0,ma=0,pa=null;function YE(e,n){if(No===null){var s=No=[];Mh=0,ma=Lf(),pa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Mh++,n.then(np,np),n}function np(){if(--Mh===0&&No!==null){pa!==null&&(pa.status="fulfilled");var e=No;No=null,ma=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KE(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var ip=F.S;F.S=function(e,n){zg=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(e,n),ip!==null&&ip(e,n)};var Sr=M(null);function kh(){var e=Sr.current;return e!==null?e:Ze.pooledCache}function pu(e,n){n===null?re(Sr,Sr.current):re(Sr,n.pool)}function sp(){var e=kh();return e===null?null:{parent:Et._currentValue,pool:e}}var ga=Error(a(460)),Vh=Error(a(474)),gu=Error(a(542)),yu={then:function(){}};function rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ap(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lp(e),e}throw wr=n,ga}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,ga):s}}var wr=null;function op(){if(wr===null)throw Error(a(459));var e=wr;return wr=null,e}function lp(e){if(e===ga||e===gu)throw Error(a(483))}var ya=null,Do=0;function vu(e){var n=Do;return Do+=1,ya===null&&(ya=[]),ap(ya,e,n)}function Oo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function _u(e,n){throw n.$$typeof===L?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function up(e){function n(V,O){if(e){var j=V.deletions;j===null?(V.deletions=[O],V.flags|=16):j.push(O)}}function s(V,O){if(!e)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function o(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function c(V,O){return V=Mi(V,O),V.index=0,V.sibling=null,V}function f(V,O,j){return V.index=j,e?(j=V.alternate,j!==null?(j=j.index,j<O?(V.flags|=67108866,O):j):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,j,Q){return O===null||O.tag!==6?(O=Sh(j,V.mode,Q),O.return=V,O):(O=c(O,j),O.return=V,O)}function I(V,O,j,Q){var he=j.type;return he===ee?G(V,O,j.props.children,Q,j.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Ar(he)===O.type)?(O=c(O,j.props),Oo(O,j),O.return=V,O):(O=hu(j.type,j.key,j.props,null,V.mode,Q),Oo(O,j),O.return=V,O)}function P(V,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Ah(j,V.mode,Q),O.return=V,O):(O=c(O,j.children||[]),O.return=V,O)}function G(V,O,j,Q,he){return O===null||O.tag!==7?(O=_r(j,V.mode,Q,he),O.return=V,O):(O=c(O,j),O.return=V,O)}function Y(V,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sh(""+O,V.mode,j),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case X:return j=hu(O.type,O.key,O.props,null,V.mode,j),Oo(j,O),j.return=V,j;case $:return O=Ah(O,V.mode,j),O.return=V,O;case S:return O=Ar(O),Y(V,O,j)}if(xt(O)||k(O))return O=_r(O,V.mode,j,null),O.return=V,O;if(typeof O.then=="function")return Y(V,vu(O),j);if(O.$$typeof===ge)return Y(V,mu(V,O),j);_u(V,O)}return null}function B(V,O,j,Q){var he=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:E(V,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return j.key===he?I(V,O,j,Q):null;case $:return j.key===he?P(V,O,j,Q):null;case S:return j=Ar(j),B(V,O,j,Q)}if(xt(j)||k(j))return he!==null?null:G(V,O,j,Q,null);if(typeof j.then=="function")return B(V,O,vu(j),Q);if(j.$$typeof===ge)return B(V,O,mu(V,j),Q);_u(V,j)}return null}function H(V,O,j,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(j)||null,E(O,V,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return V=V.get(Q.key===null?j:Q.key)||null,I(O,V,Q,he);case $:return V=V.get(Q.key===null?j:Q.key)||null,P(O,V,Q,he);case S:return Q=Ar(Q),H(V,O,j,Q,he)}if(xt(Q)||k(Q))return V=V.get(j)||null,G(O,V,Q,he,null);if(typeof Q.then=="function")return H(V,O,j,vu(Q),he);if(Q.$$typeof===ge)return H(V,O,j,mu(O,Q),he);_u(O,Q)}return null}function oe(V,O,j,Q){for(var he=null,Ve=null,ue=O,Se=O=0,Ie=null;ue!==null&&Se<j.length;Se++){ue.index>Se?(Ie=ue,ue=null):Ie=ue.sibling;var Ue=B(V,ue,j[Se],Q);if(Ue===null){ue===null&&(ue=Ie);break}e&&ue&&Ue.alternate===null&&n(V,ue),O=f(Ue,O,Se),Ve===null?he=Ue:Ve.sibling=Ue,Ve=Ue,ue=Ie}if(Se===j.length)return s(V,ue),De&&ki(V,Se),he;if(ue===null){for(;Se<j.length;Se++)ue=Y(V,j[Se],Q),ue!==null&&(O=f(ue,O,Se),Ve===null?he=ue:Ve.sibling=ue,Ve=ue);return De&&ki(V,Se),he}for(ue=o(ue);Se<j.length;Se++)Ie=H(ue,V,Se,j[Se],Q),Ie!==null&&(e&&Ie.alternate!==null&&ue.delete(Ie.key===null?Se:Ie.key),O=f(Ie,O,Se),Ve===null?he=Ie:Ve.sibling=Ie,Ve=Ie);return e&&ue.forEach(function(Vs){return n(V,Vs)}),De&&ki(V,Se),he}function me(V,O,j,Q){if(j==null)throw Error(a(151));for(var he=null,Ve=null,ue=O,Se=O=0,Ie=null,Ue=j.next();ue!==null&&!Ue.done;Se++,Ue=j.next()){ue.index>Se?(Ie=ue,ue=null):Ie=ue.sibling;var Vs=B(V,ue,Ue.value,Q);if(Vs===null){ue===null&&(ue=Ie);break}e&&ue&&Vs.alternate===null&&n(V,ue),O=f(Vs,O,Se),Ve===null?he=Vs:Ve.sibling=Vs,Ve=Vs,ue=Ie}if(Ue.done)return s(V,ue),De&&ki(V,Se),he;if(ue===null){for(;!Ue.done;Se++,Ue=j.next())Ue=Y(V,Ue.value,Q),Ue!==null&&(O=f(Ue,O,Se),Ve===null?he=Ue:Ve.sibling=Ue,Ve=Ue);return De&&ki(V,Se),he}for(ue=o(ue);!Ue.done;Se++,Ue=j.next())Ue=H(ue,V,Se,Ue.value,Q),Ue!==null&&(e&&Ue.alternate!==null&&ue.delete(Ue.key===null?Se:Ue.key),O=f(Ue,O,Se),Ve===null?he=Ue:Ve.sibling=Ue,Ve=Ue);return e&&ue.forEach(function(rb){return n(V,rb)}),De&&ki(V,Se),he}function Ke(V,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===ee&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case X:e:{for(var he=j.key;O!==null;){if(O.key===he){if(he=j.type,he===ee){if(O.tag===7){s(V,O.sibling),Q=c(O,j.props.children),Q.return=V,V=Q;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Ar(he)===O.type){s(V,O.sibling),Q=c(O,j.props),Oo(Q,j),Q.return=V,V=Q;break e}s(V,O);break}else n(V,O);O=O.sibling}j.type===ee?(Q=_r(j.props.children,V.mode,Q,j.key),Q.return=V,V=Q):(Q=hu(j.type,j.key,j.props,null,V.mode,Q),Oo(Q,j),Q.return=V,V=Q)}return p(V);case $:e:{for(he=j.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(V,O.sibling),Q=c(O,j.children||[]),Q.return=V,V=Q;break e}else{s(V,O);break}else n(V,O);O=O.sibling}Q=Ah(j,V.mode,Q),Q.return=V,V=Q}return p(V);case S:return j=Ar(j),Ke(V,O,j,Q)}if(xt(j))return oe(V,O,j,Q);if(k(j)){if(he=k(j),typeof he!="function")throw Error(a(150));return j=he.call(j),me(V,O,j,Q)}if(typeof j.then=="function")return Ke(V,O,vu(j),Q);if(j.$$typeof===ge)return Ke(V,O,mu(V,j),Q);_u(V,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(V,O.sibling),Q=c(O,j),Q.return=V,V=Q):(s(V,O),Q=Sh(j,V.mode,Q),Q.return=V,V=Q),p(V)):s(V,O)}return function(V,O,j,Q){try{Do=0;var he=Ke(V,O,j,Q);return ya=null,he}catch(ue){if(ue===ga||ue===gu)throw ue;var Ve=gn(29,ue,null,V.mode);return Ve.lanes=Q,Ve.return=V,Ve}finally{}}}var xr=up(!0),cp=up(!1),vs=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(je&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=cu(e),Ym(e,null,s),n}return uu(e,o,n,s),cu(e)}function Mo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ro(e,s)}}function jh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ph=!1;function ko(){if(Ph){var e=pa;if(e!==null)throw e}}function Vo(e,n,s,o){Ph=!1;var c=e.updateQueue;vs=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=I))}if(f!==null){var Y=c.baseState;p=0,G=P=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Re&B)===B:(o&B)===B){B!==0&&B===ma&&(Ph=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,me=E;B=n;var Ke=s;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){Y=oe.call(Ke,Y,B);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,B=typeof oe=="function"?oe.call(Ke,Y,B):oe,B==null)break e;Y=C({},Y,B);break e;case 2:vs=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=H,I=Y):G=G.next=H,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(I=Y),c.baseState=I,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ws|=p,e.lanes=p,e.memoizedState=Y}}function hp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function fp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)hp(s[e],n)}var va=M(null),Eu=M(0);function dp(e,n){e=Fi,re(Eu,e),re(va,n),Fi=e|n.baseLanes}function zh(){re(Eu,Fi),re(va,va.current)}function Bh(){Fi=Eu.current,K(va),K(Eu)}var yn=M(null),On=null;function Ts(e){var n=e.alternate;re(dt,dt.current&1),re(yn,e),On===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(On=e)}function qh(e){re(dt,dt.current),re(yn,e),On===null&&(On=e)}function mp(e){e.tag===22?(re(dt,dt.current),re(yn,e),On===null&&(On=e)):bs()}function bs(){re(dt,dt.current),re(yn,yn.current)}function vn(e){K(yn),On===e&&(On=null),K(dt)}var dt=M(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xf(s)||$f(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Te=null,Qe=null,Tt=null,bu=!1,_a=!1,Cr=!1,Su=0,Uo=0,Ea=null,XE=0;function lt(){throw Error(a(321))}function Hh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function Gh(e,n,s,o,c,f){return Li=f,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Zp:af,Cr=!1,f=s(o,c),Cr=!1,_a&&(f=gp(n,s,o,c)),pp(e),f}function pp(e){F.H=Po;var n=Qe!==null&&Qe.next!==null;if(Li=0,Tt=Qe=Te=null,bu=!1,Uo=0,Ea=null,n)throw Error(a(300));e===null||bt||(e=e.dependencies,e!==null&&du(e)&&(bt=!0))}function gp(e,n,s,o){Te=e;var c=0;do{if(_a&&(Ea=null),Uo=0,_a=!1,25<=c)throw Error(a(301));if(c+=1,Tt=Qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Jp,f=n(s,o)}while(_a);return f}function $E(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Lo(n):n,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Te.flags|=1024),n}function Fh(){var e=Su!==0;return Su=0,e}function Qh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Yh(e){if(bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bu=!1}Li=0,Tt=Qe=Te=null,_a=!1,Uo=Su=0,Ea=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Te.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function mt(){if(Qe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=Tt===null?Te.memoizedState:Tt.next;if(n!==null)Tt=n,Qe=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Tt===null?Te.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var n=Uo;return Uo+=1,Ea===null&&(Ea=[]),e=ap(Ea,e,n),n=Te,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Zp:af),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===ge)return Pt(e)}throw Error(a(438,String(e)))}function Kh(e){var n=null,s=Te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Au(),Te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=mt();return Xh(n,Qe,e)}function Xh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,I=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Re&Y)===Y:(Li&Y)===Y){var B=P.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ma&&(G=!0);else if((Li&B)===B){P=P.next,B===ma&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Te.lanes|=B,ws|=B;Y=P.action,Cr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else B={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Te.lanes|=Y,ws|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!pn(f,e.memoizedState)&&(bt=!0,G&&(s=pa,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function $h(e){var n=mt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);pn(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function yp(e,n,s){var o=Te,c=mt(),f=De;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Qe||c).memoizedState,s);if(p&&(c.memoizedState=s,bt=!0),c=c.queue,Wh(Ep.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},_p.bind(null,o,c,s,n),null),Ze===null)throw Error(a(349));f||(Li&127)!==0||vp(o,n,s)}return s}function vp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n=Au(),Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function _p(e,n,s,o){n.value=s,n.getSnapshot=o,Tp(n)&&bp(e)}function Ep(e,n,s){return s(function(){Tp(n)&&bp(e)})}function Tp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function bp(e){var n=vr(e,2);n!==null&&un(n,e,2)}function Zh(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Cr){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Sp(e,n,s,o){return e.baseState=s,Xh(e,Qe,typeof o=="function"?o:ji)}function ZE(e,n,s,o,c){if(Iu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Ap(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ap(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(c,o),I=F.S;I!==null&&I(p,E),wp(e,n,E)}catch(P){Jh(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(c,o),wp(e,n,f)}catch(P){Jh(e,n,P)}}function wp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){xp(e,n,o)},function(o){return Jh(e,n,o)}):xp(e,n,s)}function xp(e,n,s){n.status="fulfilled",n.value=s,Cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ap(e,s)))}function Jh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(De){var s=Ze.formState;if(s!==null){e:{var o=Te;if(De){if(We){t:{for(var c=We,f=Dn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){We=Mn(c.nextSibling),o=c.data==="F!";break e}}gs(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},s.queue=o,s=Kp.bind(null,Te,o),o.dispatch=s,o=Zh(!1),f=rf.bind(null,Te,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=ZE.bind(null,Te,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function Np(e){var n=mt();return Dp(n,Qe,e)}function Dp(e,n,s){if(n=Xh(e,n,Rp)[0],e=xu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Lo(n)}catch(p){throw p===ga?gu:p}else o=n;n=mt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Te.flags|=2048,Ta(9,{destroy:void 0},JE.bind(null,c,s),null)),[o,f,e]}function JE(e,n){e.action=n}function Op(e){var n=mt(),s=Qe;if(s!==null)return Dp(n,s,e);mt(),n=n.memoizedState,s=mt();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Au(),Te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Mp(){return mt().memoizedState}function Cu(e,n,s,o){var c=tn();Te.flags|=e,c.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ru(e,n,s,o){var c=mt();o=o===void 0?null:o;var f=c.memoizedState.inst;Qe!==null&&o!==null&&Hh(o,Qe.memoizedState.deps)?c.memoizedState=Ta(n,f,s,o):(Te.flags|=e,c.memoizedState=Ta(1|n,f,s,o))}function kp(e,n){Cu(8390656,8,e,n)}function Wh(e,n){Ru(2048,8,e,n)}function WE(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Au(),Te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Vp(e){var n=mt().memoizedState;return WE({ref:n,nextImpl:e}),function(){if((je&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Up(e,n){return Ru(4,2,e,n)}function Lp(e,n){return Ru(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pp(e,n,s){s=s!=null?s.concat([e]):null,Ru(4,4,jp.bind(null,n,e),s)}function ef(){}function zp(e,n){var s=mt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Hh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Bp(e,n){var s=mt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Hh(n,o[1]))return o[0];if(o=e(),Cr){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o}function tf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Re&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=qg(),Te.lanes|=e,ws|=e,s)}function qp(e,n,s,o){return pn(s,n)?s:va.current!==null?(e=tf(e,s,o),pn(e,n)||(bt=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Re&261930)===0?(bt=!0,e.memoizedState=s):(e=qg(),Te.lanes|=e,ws|=e,n)}function Hp(e,n,s,o,c){var f=se.p;se.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,rf(e,!1,n,s);try{var I=c(),P=F.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=KE(I,o);jo(e,n,G,Tn(e))}else jo(e,n,o,Tn(e))}catch(Y){jo(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{se.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function eT(){}function nf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=Gp(e).queue;Hp(e,c,n,de,s===null?eT:function(){return Fp(e),s(o)})}function Gp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:de},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fp(e){var n=Gp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},Tn())}function sf(){return Pt(tl)}function Qp(){return mt().memoizedState}function Yp(){return mt().memoizedState}function tT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=_s(s);var o=Es(n,e,s);o!==null&&(un(o,n,s),Mo(o,n,s)),n={cache:Oh()},e.payload=n;return}n=n.return}}function nT(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Iu(e)?Xp(n,s):(s=Th(e,n,s,o),s!==null&&(un(s,e,o),$p(s,n,o)))}function Kp(e,n,s){var o=Tn();jo(e,n,s,o)}function jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))Xp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,pn(E,p))return uu(e,n,c,0),Ze===null&&lu(),!1}catch{}finally{}if(s=Th(e,n,c,o),s!==null)return un(s,e,o),$p(s,n,o),!0}return!1}function rf(e,n,s,o){if(o={lane:2,revertLane:Lf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(n)throw Error(a(479))}else n=Th(e,s,o,2),n!==null&&un(n,e,2)}function Iu(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Xp(e,n){_a=bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function $p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ro(e,s)}}var Po={readContext:Pt,use:wu,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Po.useEffectEvent=lt;var Zp={readContext:Pt,use:wu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Pt,useEffect:kp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Cu(4194308,4,jp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Cr){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var c=s(n);if(Cr){bn(!0);try{s(n)}finally{bn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=nT.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,s=Kp.bind(null,Te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ef,useDeferredValue:function(e,n){var s=tn();return tf(s,e,n)},useTransition:function(){var e=Zh(!1);return e=Hp.bind(null,Te,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Te,c=tn();if(De){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ze===null)throw Error(a(349));(Re&127)!==0||vp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,kp(Ep.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},_p.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Ze.identifierPrefix;if(De){var s=Ei,o=_i;s=(o&~(1<<32-ht(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Su++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=XE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=rf.bind(null,Te,!0,s),s.dispatch=n,[e,n]},useMemoCache:Kh,useCacheRefresh:function(){return tn().memoizedState=tT.bind(null,Te)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((je&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},af={readContext:Pt,use:wu,useCallback:zp,useContext:Pt,useEffect:Wh,useImperativeHandle:Pp,useInsertionEffect:Up,useLayoutEffect:Lp,useMemo:Bp,useReducer:xu,useRef:Mp,useState:function(){return xu(ji)},useDebugValue:ef,useDeferredValue:function(e,n){var s=mt();return qp(s,Qe.memoizedState,e,n)},useTransition:function(){var e=xu(ji)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:sf,useFormState:Np,useActionState:Np,useOptimistic:function(e,n){var s=mt();return Sp(s,Qe,e,n)},useMemoCache:Kh,useCacheRefresh:Yp};af.useEffectEvent=Vp;var Jp={readContext:Pt,use:wu,useCallback:zp,useContext:Pt,useEffect:Wh,useImperativeHandle:Pp,useInsertionEffect:Up,useLayoutEffect:Lp,useMemo:Bp,useReducer:$h,useRef:Mp,useState:function(){return $h(ji)},useDebugValue:ef,useDeferredValue:function(e,n){var s=mt();return Qe===null?tf(s,e,n):qp(s,Qe.memoizedState,e,n)},useTransition:function(){var e=$h(ji)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:yp,useId:Qp,useHostTransitionStatus:sf,useFormState:Op,useActionState:Op,useOptimistic:function(e,n){var s=mt();return Qe!==null?Sp(s,Qe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Yp};Jp.useEffectEvent=Vp;function of(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:C({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=_s(o);c.payload=n,s!=null&&(c.callback=s),n=Es(e,c,o),n!==null&&(un(n,e,o),Mo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),c=_s(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Es(e,c,o),n!==null&&(un(n,e,o),Mo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(un(n,e,s),Mo(n,e,s))}};function Wp(e,n,s,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!wo(s,o)||!wo(c,f):!0}function eg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&lf.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=C({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function tg(e){ou(e)}function ng(e){console.error(e)}function ig(e){ou(e)}function Nu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Nu(e,n)},s}function rg(e){return e=_s(e),e.tag=3,e}function ag(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){sg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){sg(n,s,o),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function iT(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,c,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?qu():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===yu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),kf(e,o,c)),!1;case 22:return s.flags|=65536,o===yu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),kf(e,o,c)),!1}throw Error(a(435,s.tag))}return kf(e,o,c),qu(),!1}if(De)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Ch&&(e=Error(a(422),{cause:o}),Ro(Rn(e,s)))):(o!==Ch&&(n=Error(a(423),{cause:o}),Ro(Rn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,s),c=uf(e.stateNode,o,c),jh(e,c),ut!==4&&(ut=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,s),Yo===null?Yo=[f]:Yo.push(f),ut!==4&&(ut=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=uf(s.stateNode,o,e),jh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=rg(c),ag(c,e,s,o),jh(s,c),!1}s=s.return}while(s!==null);return!1}var cf=Error(a(461)),bt=!1;function zt(e,n,s,o){n.child=e===null?cp(n,null,s,o):xr(n,e.child,s,o)}function og(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return br(n),o=Gh(e,n,s,p,f,c),E=Fh(),e!==null&&!bt?(Qh(e,n,c),Pi(e,n,c)):(De&&E&&wh(n),n.flags|=1,zt(e,n,o,c),n.child)}function lg(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ug(e,n,f,o,c)):(e=hu(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:wo,s(p,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ug(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(wo(f,o)&&e.ref===n.ref)if(bt=!1,n.pendingProps=o=f,vf(e,c))(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return hf(e,n,s,o,c)}function cg(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return hg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pu(n,f!==null?f.cachePool:null),f!==null?dp(n,f):zh(),mp(n);else return o=n.lanes=536870912,hg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(pu(n,f.cachePool),dp(n,f),bs(),n.memoizedState=null):(e!==null&&pu(n,null),zh(),bs());return zt(e,n,c,s),n.child}function zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hg(e,n,s,o,c){var f=kh();return f=f===null?null:{parent:Et._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&pu(n,null),zh(),mp(n),e!==null&&da(e,n,o,!0),n.childLanes=c,null}function Du(e,n){return n=Mu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fg(e,n,s){return xr(n,e.child,null,s),e=Du(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function sT(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(De){if(o.mode==="hidden")return e=Du(n,o),n.lanes=536870912,zo(null,e);if(qh(n),(e=We)?(e=Ay(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Xm(e),s.return=n,n.child=s,jt=n,We=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Du(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(qh(n),c)if(n.flags&256)n.flags&=-257,n=fg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(bt||da(e,n,s,!1),c=(s&e.childLanes)!==0,bt||c){if(o=Ze,o!==null&&(p=ao(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,vr(e,p),un(o,e,p),cf;qu(),n=fg(e,n,s)}else e=f.treeContext,We=Mn(p.nextSibling),jt=n,De=!0,ps=null,Dn=!1,e!==null&&Jm(n,e),n=Du(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ou(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function hf(e,n,s,o,c){return br(n),s=Gh(e,n,s,o,void 0,c),o=Fh(),e!==null&&!bt?(Qh(e,n,c),Pi(e,n,c)):(De&&o&&wh(n),n.flags|=1,zt(e,n,s,c),n.child)}function dg(e,n,s,o,c,f){return br(n),n.updateQueue=null,s=gp(n,o,s,c),pp(e),o=Fh(),e!==null&&!bt?(Qh(e,n,f),Pi(e,n,f)):(De&&o&&wh(n),n.flags|=1,zt(e,n,s,f),n.child)}function mg(e,n,s,o,c){if(br(n),n.stateNode===null){var f=ua,p=s.contextType;typeof p=="object"&&p!==null&&(f=Pt(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Uh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Pt(p):ua,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(of(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&lf.enqueueReplaceState(f,f.state,null),Vo(n,o,f,c),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Rr(s,E);f.props=I;var P=f.context,G=s.contextType;p=ua,typeof G=="object"&&G!==null&&(p=Pt(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&eg(n,f,o,p),vs=!1;var B=n.memoizedState;f.state=B,Vo(n,o,f,c),ko(),P=n.memoizedState,E||B!==P||vs?(typeof Y=="function"&&(of(n,s,Y,o),P=n.memoizedState),(I=vs||Wp(n,s,I,o,B,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Lh(e,n),p=n.memoizedProps,G=Rr(s,p),f.props=G,Y=n.pendingProps,B=f.context,P=s.contextType,I=ua,typeof P=="object"&&P!==null&&(I=Pt(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==I)&&eg(n,f,o,I),vs=!1,B=n.memoizedState,f.state=B,Vo(n,o,f,c),ko();var H=n.memoizedState;p!==Y||B!==H||vs||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof E=="function"&&(of(n,s,E,o),H=n.memoizedState),(G=vs||Wp(n,s,G,o,B,H,I)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ou(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xr(n,e.child,null,c),n.child=xr(n,null,s,c)):zt(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function pg(e,n,s,o){return Er(),n.flags|=256,zt(e,n,s,o),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(e){return{baseLanes:e,cachePool:sp()}}function mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function gg(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(dt.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(De){if(c?Ts(n):bs(),(e=We)?(e=Ay(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:_i,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Xm(e),s.return=n,n.child=s,jt=n,We=null)):e=null,e===null)throw gs(n);return $f(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(bs(),c=n.mode,E=Mu({mode:"hidden",children:E},c),o=_r(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=df(s),o.childLanes=mf(e,p,s),n.memoizedState=ff,zo(null,o)):(Ts(n),pf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=gf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,c=n.mode,o=Mu({mode:"visible",children:o.children},c),E=_r(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xr(n,e.child,null,s),o=n.child,o.memoizedState=df(s),o.childLanes=mf(e,p,s),n.memoizedState=ff,n=zo(null,o));else if(Ts(n),$f(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Ro({value:o,source:null,stack:null}),n=gf(e,n,s)}else if(bt||da(e,n,s,!1),p=(s&e.childLanes)!==0,bt||p){if(p=Ze,p!==null&&(o=ao(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,vr(e,o),un(p,e,o),cf;Xf(E)||qu(),n=gf(e,n,s)}else Xf(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,We=Mn(E.nextSibling),jt=n,De=!0,ps=null,Dn=!1,e!==null&&Jm(n,e),n=pf(n,o.children),n.flags|=4096);return n}return c?(bs(),E=o.fallback,c=n.mode,I=e.child,P=I.sibling,o=Mi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=_r(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=df(s):(c=E.cachePool,c!==null?(I=Et._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=sp(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=mf(e,p,s),n.memoizedState=ff,zo(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function pf(e,n){return n=Mu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function gf(e,n,s){return xr(n,e.child,null,s),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nh(e.return,n,s)}function yf(e,n,s,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function vg(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=dt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,re(dt,p),zt(e,n,o,s),o=De?Co:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yg(e,s,n);else if(e.tag===19)yg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),yf(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Tu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}yf(n,!0,s,null,f,o);break;case"together":yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function rT(e,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),ys(n,Et,e.memoizedState.cache),Er();break;case 27:case 5:er(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?gg(e,n,s):(Ts(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return vg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),re(dt,dt.current),o)break;return null;case 22:return n.lanes=0,cg(e,n,s,n.pendingProps);case 24:ys(n,Et,e.memoizedState.cache)}return Pi(e,n,s)}function _g(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)bt=!0;else{if(!vf(e,s)&&(n.flags&128)===0)return bt=!1,rT(e,n,s);bt=(e.flags&131072)!==0}else bt=!1,De&&(n.flags&1048576)!==0&&Zm(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")bh(e)?(o=Rr(e,o),n.tag=1,n=mg(null,n,e,o,s)):(n.tag=0,n=hf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===Pe){n.tag=11,n=og(null,n,e,o,s);break e}else if(c===A){n.tag=14,n=lg(null,n,e,o,s);break e}}throw n=tt(e)||e,Error(a(306,n,""))}}return n;case 0:return hf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Rr(o,n.pendingProps),mg(e,n,o,c,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Lh(e,n),Vo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,ys(n,Et,o),o!==f.cache&&Dh(n,[Et],s,!0),ko(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pg(e,n,o,s);break e}else if(o!==c){c=Rn(Error(a(424)),n),Ro(c),n=pg(e,n,o,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=Mn(e.firstChild),jt=n,De=!0,ps=null,Dn=!0,s=cp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Er(),o===c){n=Pi(e,n,s);break e}zt(e,n,o,s)}n=n.child}return n;case 26:return Ou(e,n),e===null?(s=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:De||(s=n.type,e=n.pendingProps,o=Xu(be.current).createElement(s),o[yt]=n,o[Nt]=e,Bt(o,s,e),vt(o),n.stateNode=o):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&De&&(o=n.stateNode=Cy(n.type,n.pendingProps,be.current),jt=n,Dn=!0,c=We,Ns(n.type)?(Zf=c,We=Mn(o.firstChild)):We=c),zt(e,n,n.pendingProps.children,s),Ou(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&De&&((c=o=We)&&(o=VT(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,jt=n,We=Mn(o.firstChild),Dn=!1,c=!0):c=!1),c||gs(n)),er(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Qf(c,f)?o=null:p!==null&&Qf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Gh(e,n,$E,null,null,s),tl._currentValue=c),Ou(e,n),zt(e,n,o,s),n.child;case 6:return e===null&&De&&((e=s=We)&&(s=UT(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,jt=n,We=null,e=!0):e=!1),e||gs(n)),null;case 13:return gg(e,n,s);case 4:return Ct(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xr(n,null,o,s):zt(e,n,o,s),n.child;case 11:return og(e,n,n.type,n.pendingProps,s);case 7:return zt(e,n,n.pendingProps,s),n.child;case 8:return zt(e,n,n.pendingProps.children,s),n.child;case 12:return zt(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),zt(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,br(n),c=Pt(c),o=o(c),n.flags|=1,zt(e,n,o,s),n.child;case 14:return lg(e,n,n.type,n.pendingProps,s);case 15:return ug(e,n,n.type,n.pendingProps,s);case 19:return vg(e,n,s);case 31:return sT(e,n,s);case 22:return cg(e,n,s,n.pendingProps);case 24:return br(n),o=Pt(Et),e===null?(c=kh(),c===null&&(c=Ze,f=Oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Uh(n),ys(n,Et,c)):((e.lanes&s)!==0&&(Lh(e,n),Vo(n,null,null,s),ko()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ys(n,Et,o)):(o=f.cache,ys(n,Et,o),o!==c.cache&&Dh(n,[Et],s,!0))),zt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function _f(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Qg())e.flags|=8192;else throw wr=yu,Vh}else e.flags&=-16777217}function Eg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vy(n))if(Qg())e.flags|=8192;else throw wr=yu,Vh}function ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zl():536870912,e.lanes|=n,wa|=n)}function Bo(e,n){if(!De)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function aT(e,n,s){var o=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return et(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Et),nt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),et(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(et(n),Eg(n,f)):(et(n),_f(n,c,null,o,s))):f?f!==e.memoizedState?(zi(n),et(n),Eg(n,f)):(et(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),et(n),_f(n,c,e,o,s)),null;case 27:if(Gr(n),s=be.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return et(n),null}e=ae.current,fa(n)?Wm(n):(e=Cy(c,o,s),n.stateNode=e,zi(n))}return et(n),null;case 5:if(Gr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return et(n),null}if(f=ae.current,fa(n))Wm(n);else{var p=Xu(be.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[yt]=n,f[Nt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Bt(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&zi(n)}}return et(n),_f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=be.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=jt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[yt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||gy(e.nodeValue,s)),e||gs(n,!0)}else e=Xu(e).createTextNode(o),e[yt]=n,n.stateNode=e}return et(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[yt]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),e=!1}else s=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return et(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[yt]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),c=!1}else c=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ku(n,n.updateQueue),et(n),null);case 4:return nt(),e===null&&Bf(n.stateNode.containerInfo),et(n),null;case 10:return Ui(n.type),et(n),null;case 19:if(K(dt),o=n.memoizedState,o===null)return et(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Bo(o,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Tu(e),f!==null){for(n.flags|=128,Bo(o,!1),e=f.updateQueue,n.updateQueue=e,ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Km(s,e),s=s.sibling;return re(dt,dt.current&1|2),De&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Wt()>Pu&&(n.flags|=128,c=!0,Bo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Tu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ku(n,e),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!De)return et(n),null}else 2*Wt()-o.renderingStartTime>Pu&&s!==536870912&&(n.flags|=128,c=!0,Bo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Wt(),e.sibling=null,s=dt.current,re(dt,c?s&1|2:s&1),De&&ki(n,o.treeForkCount),e):(et(n),null);case 22:case 23:return vn(n),Bh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),s=n.updateQueue,s!==null&&ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Et),et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function oT(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Et),nt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(dt),null;case 4:return nt(),null;case 10:return Ui(n.type),null;case 22:case 23:return vn(n),Bh(),e!==null&&K(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Et),null;case 25:return null;default:return null}}function Tg(e,n){switch(xh(n),n.tag){case 3:Ui(Et),nt();break;case 26:case 27:case 5:Gr(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(dt);break;case 10:Ui(n.type);break;case 22:case 23:vn(n),Bh(),e!==null&&K(Sr);break;case 24:Ui(Et)}}function qo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==c)}}catch(E){Ge(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var I=s,P=E;try{P()}catch(G){Ge(c,I,G)}}}o=o.next}while(o!==f)}}catch(G){Ge(n,n.return,G)}}function bg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{fp(n,s)}catch(o){Ge(e,e.return,o)}}}function Sg(e,n,s){s.props=Rr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Ge(e,n,o)}}function Ho(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Ge(e,n,c)}}function Ti(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ge(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ge(e,n,c)}else s.current=null}function Ag(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ge(e,e.return,c)}}function Ef(e,n,s){try{var o=e.stateNode;IT(o,e.type,s,n),o[Nt]=n}catch(c){Ge(e,e.return,c)}}function wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(bf(e,n,s),e=e.sibling;e!==null;)bf(e,n,s),e=e.sibling}function Vu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Vu(e,n,s),e=e.sibling;e!==null;)Vu(e,n,s),e=e.sibling}function xg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Bt(n,o,s),n[yt]=e,n[Nt]=s}catch(f){Ge(e,e.return,f)}}var Bi=!1,St=!1,Sf=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function lT(e,n){if(e=e.containerInfo,Gf=nc,e=Pm(e),ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,I=-1,P=0,G=0,Y=e,B=null;t:for(;;){for(var H;Y!==s||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break t;if(B===s&&++P===c&&(E=p),B===f&&++G===o&&(I=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ff={focusedElem:e,selectionRange:s},nc=!1,Ot=n;Ot!==null;)if(n=Ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ot=e;else for(;Ot!==null;){switch(n=Ot,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var oe=Rr(s.type,c);e=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ge(s,s.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Kf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ot=e;break}Ot=n.return}}function Rg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&qo(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Ge(s,s.return,p)}else{var c=Rr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ge(s,s.return,p)}}o&64&&bg(s),o&512&&Ho(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{fp(e,n)}catch(p){Ge(s,s.return,p)}}break;case 27:n===null&&o&4&&xg(s);case 26:case 5:Hi(e,s),n===null&&o&4&&Ag(s),o&512&&Ho(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&Dg(e,s);break;case 13:Hi(e,s),o&4&&Og(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=yT.bind(null,s),LT(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||St,c=Bi;var f=St;Bi=o,(St=n)&&!f?Gi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=c,St=f}break;case 30:break;default:Hi(e,s)}}function Ig(e){var n=e.alternate;n!==null&&(e.alternate=null,Ig(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)Ng(e,n,s),s=s.sibling}function Ng(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:St||Ti(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||Ti(s,n);var o=st,c=rn;Ns(s.type)&&(st=s.stateNode,rn=!1),qi(e,n,s),Jo(s.stateNode),st=o,rn=c;break;case 5:St||Ti(s,n);case 6:if(o=st,c=rn,st=null,qi(e,n,s),st=o,rn=c,st!==null)if(rn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(f){Ge(s,n,f)}else try{st.removeChild(s.stateNode)}catch(f){Ge(s,n,f)}break;case 18:st!==null&&(rn?(e=st,by(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):by(st,s.stateNode));break;case 4:o=st,c=rn,st=s.stateNode.containerInfo,rn=!0,qi(e,n,s),st=o,rn=c;break;case 0:case 11:case 14:case 15:Ss(2,s,n),St||Ss(4,s,n),qi(e,n,s);break;case 1:St||(Ti(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Sg(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:St=(o=St)||s.memoizedState!==null,qi(e,n,s),St=o;break;default:qi(e,n,s)}}function Dg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Ge(n,n.return,s)}}}function Og(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Ge(n,n.return,s)}}function uT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cg),n;default:throw Error(a(435,e.tag))}}function Uu(e,n){var s=uT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=vT.bind(null,e,o);o.then(c,c)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){st=E.stateNode,rn=!1;break e}break;case 5:st=E.stateNode,rn=!1;break e;case 3:case 4:st=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(st===null)throw Error(a(160));Ng(f,p,c),st=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Mg(n,e),n=n.sibling}var Qn=null;function Mg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Ss(3,e,e.return),qo(3,e),Ss(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(St||s===null||Ti(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Qn;if(an(n,e),on(e),o&512&&(St||s===null||Ti(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[oi]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Bt(f,o,s),f[yt]=e,vt(f),o=f;break e;case"link":var p=My("link","href",c).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=c.createElement(o),Bt(f,o,s),c.head.appendChild(f);break;case"meta":if(p=My("meta","content",c).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=c.createElement(o),Bt(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[yt]=e,vt(f),o=f}e.stateNode=o}else ky(c,e.type,e.stateNode);else e.stateNode=Oy(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?ky(c,e.type,e.stateNode):Oy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(St||s===null||Ti(s,s.return)),s!==null&&o&4&&Ef(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(St||s===null||Ti(s,s.return)),e.flags&32){c=e.stateNode;try{sn(c,"")}catch(oe){Ge(e,e.return,oe)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Ef(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Sf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(oe){Ge(e,e.return,oe)}}break;case 3:if(Ju=null,c=Qn,Qn=$u(n.containerInfo),an(n,e),Qn=c,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(oe){Ge(e,e.return,oe)}Sf&&(Sf=!1,kg(e));break;case 4:o=Qn,Qn=$u(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ju=Wt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 22:c=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Bi,G=St;if(Bi=P||c,St=G||I,an(n,e),St=G,Bi=P,on(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Bi||St||Ir(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ge(I,I.return,oe)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(oe){Ge(I,I.return,oe)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;c?Sy(H,!0):Sy(I.stateNode,!1)}catch(oe){Ge(I,I.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Uu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(wg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Tf(e);Vu(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=Tf(e);Vu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Tf(e);bf(e,P,I);break;default:throw Error(a(161))}}catch(G){Ge(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(e,n.alternate,n),n=n.sibling}function Ir(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Ir(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Sg(n,n.return,s),Ir(n);break;case 27:Jo(n.stateNode);case 26:case 5:Ti(n,n.return),Ir(n);break;case 22:n.memoizedState===null&&Ir(n);break;case 30:Ir(n);break;default:Ir(n)}e=e.sibling}}function Gi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,s),qo(4,f);break;case 1:if(Gi(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Ge(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)hp(I[c],E)}catch(P){Ge(o,o.return,P)}}s&&p&64&&bg(f),Ho(f,f.return);break;case 27:xg(f);case 26:case 5:Gi(c,f,s),s&&o===null&&p&4&&Ag(f),Ho(f,f.return);break;case 12:Gi(c,f,s);break;case 31:Gi(c,f,s),s&&p&4&&Dg(c,f);break;case 13:Gi(c,f,s),s&&p&4&&Og(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,s),Ho(f,f.return);break;case 30:break;default:Gi(c,f,s)}n=n.sibling}}function Af(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Io(s))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vg(e,n,s,o),n=n.sibling}function Vg(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),c&2048&&qo(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e)));break;case 12:if(c&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Ge(n,n.return,I)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):Go(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Af(p,n);break;case 24:Yn(e,n,s,o),c&2048&&wf(n.alternate,n);break;default:Yn(e,n,s,o)}}function ba(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,E,I,c),qo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ba(f,p,E,I,c):Go(f,p):(G._visibility|=2,ba(f,p,E,I,c)),c&&P&2048&&Af(p.alternate,p);break;case 24:ba(f,p,E,I,c),c&&P&2048&&wf(p.alternate,p);break;default:ba(f,p,E,I,c)}n=n.sibling}}function Go(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Go(s,o),c&2048&&Af(o.alternate,o);break;case 24:Go(s,o),c&2048&&wf(o.alternate,o);break;default:Go(s,o)}n=n.sibling}}var Fo=8192;function Sa(e,n,s){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)Ug(e,n,s),e=e.sibling}function Ug(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Fo&&e.memoizedState!==null&&XT(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Qn;Qn=$u(e.stateNode.containerInfo),Sa(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fo,Fo=16777216,Sa(e,n,s),Fo=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function Lg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,Pg(o,e)}Lg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jg(e),e=e.sibling}function jg(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Lu(e)):Qo(e);break;default:Qo(e)}}function Lu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ot=o,Pg(o,e)}Lg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Lu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Lu(n));break;default:Lu(n)}e=e.sibling}}function Pg(e,n){for(;Ot!==null;){var s=Ot;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Io(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ot=o;else e:for(s=e;Ot!==null;){o=Ot;var c=o.sibling,f=o.return;if(Ig(o),o===s){Ot=null;break e}if(c!==null){c.return=f,Ot=c;break e}Ot=f}}}var cT={getCacheForType:function(e){var n=Pt(Et),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Pt(Et).controller.signal}},hT=typeof WeakMap=="function"?WeakMap:Map,je=0,Ze=null,xe=null,Re=0,He=0,_n=null,As=!1,Aa=!1,xf=!1,Fi=0,ut=0,ws=0,Nr=0,Cf=0,En=0,wa=0,Yo=null,ln=null,Rf=!1,ju=0,zg=0,Pu=1/0,zu=null,xs=null,It=0,Cs=null,xa=null,Qi=0,If=0,Nf=null,Bg=null,Ko=0,Df=null;function Tn(){return(je&2)!==0&&Re!==0?Re&-Re:F.T!==null?Lf():Bl()}function qg(){if(En===0)if((Re&536870912)===0||De){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,s){(e===Ze&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Rs(e,Re,En,!1)),sr(e,s),((je&2)===0||e!==Ze)&&(e===Ze&&((je&2)===0&&(Nr|=s),ut===4&&Rs(e,Re,En,!1)),bi(e))}function Hg(e,n,s){if((je&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),c=o?mT(e,n):Mf(e,n,!0),f=o;do{if(c===0){Aa&&!o&&Rs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!fT(s)){c=Mf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=e;c=Yo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ca(E,p).flags|=256),p=Mf(E,p,!1),p!==2){if(xf&&!I){E.errorRecoveryDisabledLanes|=f,Nr|=f,c=4;break e}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Ca(e,0),Rs(e,n,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rs(o,n,En,!As);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=ju+300-Wt(),10<c)){if(Rs(o,n,En,!As),si(o,0,!0)!==0)break e;Qi=n,o.timeoutHandle=Ey(Gg.bind(null,o,s,ln,zu,Rf,n,En,Nr,wa,As,f,"Throttled",-0,0),c);break e}Gg(o,s,ln,zu,Rf,n,En,Nr,wa,As,f,null,-0,0)}}break}while(!0);bi(e)}function Gg(e,n,s,o,c,f,p,E,I,P,G,Y,B,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Ug(n,f,Y);var oe=(f&62914560)===f?ju-Wt():(f&4194048)===f?zg-Wt():0;if(oe=$T(Y,oe),oe!==null){Qi=f,e.cancelPendingCommit=oe(Jg.bind(null,e,n,f,s,o,c,p,E,I,G,Y,null,B,H)),Rs(e,f,p,!P);return}}Jg(e,n,f,s,o,c,p,E,I)}function fT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(e,n,s,o){n&=~Cf,n&=~Nr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ht(c),p=1<<f;o[f]=-1,c&=~p}s!==0&&rr(e,s,n)}function Bu(){return(je&6)===0?(Xo(0),!1):!0}function Of(){if(xe!==null){if(He===0)var e=xe.return;else e=xe,Vi=Tr=null,Yh(e),ya=null,Do=0,e=xe;for(;e!==null;)Tg(e.alternate,e),e=e.return;xe=null}}function Ca(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,OT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Of(),Ze=e,xe=s=Mi(e.current,null),Re=n,He=0,_n=null,As=!1,Aa=Ln(e,n),xf=!1,wa=En=Cf=Nr=ws=ut=0,ln=Yo=null,Rf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ht(o),f=1<<c;n|=e[c],o&=~f}return Fi=n,lu(),s}function Fg(e,n){Te=null,F.H=Po,n===ga||n===gu?(n=op(),He=3):n===Vh?(n=op(),He=4):He=n===cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,xe===null&&(ut=1,Nu(e,Rn(n,e.current)))}function Qg(){var e=yn.current;return e===null?!0:(Re&4194048)===Re?On===null:(Re&62914560)===Re||(Re&536870912)!==0?e===On:!1}function Yg(){var e=F.H;return F.H=Po,e===null?Po:e}function Kg(){var e=F.A;return F.A=cT,e}function qu(){ut=4,As||(Re&4194048)!==Re&&yn.current!==null||(Aa=!0),(ws&134217727)===0&&(Nr&134217727)===0||Ze===null||Rs(Ze,Re,En,!1)}function Mf(e,n,s){var o=je;je|=2;var c=Yg(),f=Kg();(Ze!==e||Re!==n)&&(zu=null,Ca(e,n)),n=!1;var p=ut;e:do try{if(He!==0&&xe!==null){var E=xe,I=_n;switch(He){case 8:Of(),p=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=He;if(He=0,_n=null,Ra(e,E,I,P),s&&Aa){p=0;break e}break;default:P=He,He=0,_n=null,Ra(e,E,I,P)}}dT(),p=ut;break}catch(G){Fg(e,G)}while(!0);return n&&e.shellSuspendCounter++,Vi=Tr=null,je=o,F.H=c,F.A=f,xe===null&&(Ze=null,Re=0,lu()),p}function dT(){for(;xe!==null;)Xg(xe)}function mT(e,n){var s=je;je|=2;var o=Yg(),c=Kg();Ze!==e||Re!==n?(zu=null,Pu=Wt()+500,Ca(e,n)):Aa=Ln(e,n);e:do try{if(He!==0&&xe!==null){n=xe;var f=_n;t:switch(He){case 1:He=0,_n=null,Ra(e,n,f,1);break;case 2:case 9:if(rp(f)){He=0,_n=null,$g(n);break}n=function(){He!==2&&He!==9||Ze!==e||(He=7),bi(e)},f.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:rp(f)?(He=0,_n=null,$g(n)):(He=0,_n=null,Ra(e,n,f,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var E=xe;if(p?Vy(p):E.stateNode.complete){He=0,_n=null;var I=E.sibling;if(I!==null)xe=I;else{var P=E.return;P!==null?(xe=P,Hu(P)):xe=null}break t}}He=0,_n=null,Ra(e,n,f,5);break;case 6:He=0,_n=null,Ra(e,n,f,6);break;case 8:Of(),ut=6;break e;default:throw Error(a(462))}}pT();break}catch(G){Fg(e,G)}while(!0);return Vi=Tr=null,F.H=o,F.A=c,je=s,xe!==null?0:(Ze=null,Re=0,lu(),ut)}function pT(){for(;xe!==null&&!lh();)Xg(xe)}function Xg(e){var n=_g(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Hu(e):xe=n}function $g(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dg(s,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=dg(s,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:Yh(n);default:Tg(s,n),n=xe=Km(n,Fi),n=_g(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Hu(e):xe=n}function Ra(e,n,s,o){Vi=Tr=null,Yh(n),ya=null,Do=0;var c=n.return;try{if(iT(e,c,n,s,Re)){ut=1,Nu(e,Rn(s,e.current)),xe=null;return}}catch(f){if(c!==null)throw xe=c,f;ut=1,Nu(e,Rn(s,e.current)),xe=null;return}n.flags&32768?(De||o===1?e=!0:Aa||(Re&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Zg(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){Zg(n,As);return}e=n.return;var s=aT(n.alternate,n,Fi);if(s!==null){xe=s;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);ut===0&&(ut=5)}function Zg(e,n){do{var s=oT(e.alternate,e);if(s!==null){s.flags&=32767,xe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xe=e;return}xe=e=s}while(e!==null);ut=6,xe=null}function Jg(e,n,s,o,c,f,p,E,I){e.cancelPendingCommit=null;do Gu();while(It!==0);if((je&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,hh(e,s,f,p,E,I),e===Ze&&(xe=Ze=null,Re=0),xa=n,Cs=e,Qi=s,If=f,Nf=c,Bg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_T(ss,function(){return iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,c=se.p,se.p=2,p=je,je|=4;try{lT(e,n,s)}finally{je=p,se.p=c,F.T=o}}It=1,Wg(),ey(),ty()}}function Wg(){if(It===1){It=0;var e=Cs,n=xa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=se.p;se.p=2;var c=je;je|=4;try{Mg(n,e);var f=Ff,p=Pm(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&jm(E.ownerDocument.documentElement,E)){if(I!==null&&ph(E)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=E.textContent.length,me=Math.min(I.start,oe),Ke=I.end===void 0?me:Math.min(I.end,oe);!H.extend&&me>Ke&&(p=Ke,Ke=me,me=p);var V=Lm(E,me),O=Lm(E,Ke);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=Y.createRange();j.setStart(V.node,V.offset),H.removeAllRanges(),me>Ke?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}nc=!!Gf,Ff=Gf=null}finally{je=c,se.p=o,F.T=s}}e.current=n,It=2}}function ey(){if(It===2){It=0;var e=Cs,n=xa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=se.p;se.p=2;var c=je;je|=4;try{Rg(e,n.alternate,n)}finally{je=c,se.p=o,F.T=s}}It=3}}function ty(){if(It===4||It===3){It=0,kl();var e=Cs,n=xa,s=Qi,o=Bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,xa=Cs=null,ny(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(xs=null),Ii(s),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,c=se.p,se.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=c}}(Qi&3)!==0&&Gu(),bi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Df?Ko++:(Ko=0,Df=e):Ko=0,Xo(0)}}function ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Io(n)))}function Gu(){return Wg(),ey(),ty(),iy()}function iy(){if(It!==5)return!1;var e=Cs,n=If;If=0;var s=Ii(Qi),o=F.T,c=se.p;try{se.p=32>s?32:s,F.T=null,s=Nf,Nf=null;var f=Cs,p=Qi;if(It=0,xa=Cs=null,Qi=0,(je&6)!==0)throw Error(a(331));var E=je;if(je|=4,jg(f.current),Vg(f,f.current,p,s),je=E,Xo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{se.p=c,F.T=o,ny(e,n)}}function sy(e,n,s){n=Rn(s,n),n=uf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(sr(e,2),bi(e))}function Ge(e,n,s){if(e.tag===3)sy(e,e,s);else for(;n!==null;){if(n.tag===3){sy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xs===null||!xs.has(o))){e=Rn(s,e),s=rg(2),o=Es(n,s,2),o!==null&&(ag(s,o,n,e),sr(o,2),bi(o));break}}n=n.return}}function kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new hT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(xf=!0,c.add(s),e=gT.bind(null,e,n,s),n.then(e,e))}function gT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ze===e&&(Re&s)===s&&(ut===4||ut===3&&(Re&62914560)===Re&&300>Wt()-ju?(je&2)===0&&Ca(e,0):Cf|=s,wa===Re&&(wa=0)),bi(e)}function ry(e,n){n===0&&(n=zl()),e=vr(e,n),e!==null&&(sr(e,n),bi(e))}function yT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ry(e,s)}function vT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ry(e,s)}function _T(e,n){return Rt(e,n)}var Fu=null,Ia=null,Vf=!1,Qu=!1,Uf=!1,Is=0;function bi(e){e!==Ia&&e.next===null&&(Ia===null?Fu=Ia=e:Ia=Ia.next=e),Qu=!0,Vf||(Vf=!0,TT())}function Xo(e,n){if(!Uf&&Qu){Uf=!0;do for(var s=!1,o=Fu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ht(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,uy(o,f))}else f=Re,f=si(o,o===Ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,uy(o,f));o=o.next}while(s);Uf=!1}}function ET(){ay()}function ay(){Qu=Vf=!1;var e=0;Is!==0&&DT()&&(e=Is);for(var n=Wt(),s=null,o=Fu;o!==null;){var c=o.next,f=oy(o,n);f===0?(o.next=null,s===null?Fu=c:s.next=c,c===null&&(Ia=s)):(s=o,(e!==0||(f&3)!==0)&&(Qu=!0)),o=c}It!==0&&It!==5||Xo(e),Is!==0&&(Is=0)}function oy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ht(f),E=1<<p,I=c[p];I===-1?((E&s)===0||(E&o)!==0)&&(c[p]=ch(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Ze,s=Re,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(He===2||He===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),Ii(s)){case 2:case 8:s=so;break;case 32:s=ss;break;case 268435456:s=Vl;break;default:s=ss}return o=ly.bind(null,e),s=Rt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Gu()&&e.callbackNode!==s)return null;var o=Re;return o=si(e,e===Ze?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hg(e,o,n),oy(e,Wt()),e.callbackNode!=null&&e.callbackNode===s?ly.bind(null,e):null)}function uy(e,n){if(Gu())return null;Hg(e,n,!0)}function TT(){MT(function(){(je&6)!==0?Rt(io,ET):ay()})}function Lf(){if(Is===0){var e=ma;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Is=e}return Is}function cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function hy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function bT(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=cy((c[Nt]||null).action),p=o.submitter;p&&(n=(n=p[Nt]||null)?cy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var I=p?hy(c,p):new FormData(c);nf(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?hy(c,p):new FormData(c),nf(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var jf=0;jf<_h.length;jf++){var Pf=_h[jf],ST=Pf.toLowerCase(),AT=Pf[0].toUpperCase()+Pf.slice(1);Fn(ST,"on"+AT)}Fn(qm,"onAnimationEnd"),Fn(Hm,"onAnimationIteration"),Fn(Gm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(zE,"onTransitionRun"),Fn(BE,"onTransitionStart"),Fn(qE,"onTransitionCancel"),Fn(Fm,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function fy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=P;try{f(c)}catch(G){ou(G)}c.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=P;try{f(c)}catch(G){ou(G)}c.currentTarget=null,f=I}}}}function Ce(e,n){var s=n[Kr];s===void 0&&(s=n[Kr]=new Set);var o=e+"__bubble";s.has(o)||(dy(n,e,2,!1),s.add(o))}function zf(e,n,s){var o=0;n&&(o|=4),dy(s,e,o,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Yu]){e[Yu]=!0,oo.forEach(function(s){s!=="selectionchange"&&(wT.has(s)||zf(s,!1,e),zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,zf("selectionchange",!1,n))}}function dy(e,n,s,o){switch(qy(n)){case 2:var c=WT;break;case 8:c=eb;break;default:c=nd}s=c.bind(null,n,s,e),c=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function qf(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=li(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}cs(function(){var P=f,G=An(s),Y=[];e:{var B=Qm.get(e);if(B!==void 0){var H=pi,oe=e;switch(e){case"keypress":if(fr(s)===0)break e;case"keydown":case"keyup":H=su;break;case"focusin":oe="focus",H=mr;break;case"focusout":oe="blur",H=mr;break;case"beforeblur":case"afterblur":H=mr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qm:case Hm:case Gm:H=Zl;break;case Fm:H=b;break;case"scroll":case"scrollend":H=Eo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Oi;break;case"toggle":case"beforetoggle":H=Ee}var me=(n&4)!==0,Ke=!me&&(e==="scroll"||e==="scrollend"),V=me?B!==null?B+"Capture":null:B;me=[];for(var O=P,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||V===null||(Q=Bn(O,V),Q!=null&&me.push(Zo(O,Q,j))),Ke)break;O=O.return}0<me.length&&(B=new H(B,oe,null,s,G),Y.push({event:B,listeners:me}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==yo&&(oe=s.relatedTarget||s.fromElement)&&(li(oe)||oe[ai]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=s.relatedTarget||s.toElement,H=P,oe=oe?li(oe):null,oe!==null&&(Ke=h(oe),me=oe.tag,oe!==Ke||me!==5&&me!==27&&me!==6)&&(oe=null)):(H=null,oe=P),H!==oe)){if(me=To,Q="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(me=Oi,Q="onPointerLeave",V="onPointerEnter",O="pointer"),Ke=H==null?B:dn(H),j=oe==null?B:dn(oe),B=new me(Q,O+"leave",H,s,G),B.target=Ke,B.relatedTarget=j,Q=null,li(G)===P&&(me=new me(V,O+"enter",oe,s,G),me.target=j,me.relatedTarget=Ke,Q=me),Ke=Q,H&&oe)t:{for(me=xT,V=H,O=oe,j=0,Q=V;Q;Q=me(Q))j++;Q=0;for(var he=O;he;he=me(he))Q++;for(;0<j-Q;)V=me(V),j--;for(;0<Q-j;)O=me(O),Q--;for(;j--;){if(V===O||O!==null&&V===O.alternate){me=V;break t}V=me(V),O=me(O)}me=null}else me=null;H!==null&&my(Y,B,H,me,!1),oe!==null&&Ke!==null&&my(Y,Ke,oe,me,!0)}}e:{if(B=P?dn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ve=Dm;else if(Im(B))if(Om)Ve=LE;else{Ve=VE;var ue=kE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Jr(P.elementType)&&(Ve=Dm):Ve=UE;if(Ve&&(Ve=Ve(e,P))){Nm(Y,Ve,s,G);break e}ue&&ue(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&mo(B,"number",B.value)}switch(ue=P?dn(P):window,e){case"focusin":(Im(ue)||ue.contentEditable==="true")&&(aa=ue,gh=P,xo=null);break;case"focusout":xo=gh=aa=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,zm(Y,s,G);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":zm(Y,s,G)}var Se;if(Le)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ra?pr(e,s)&&(Ie="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(vi&&s.locale!=="ko"&&(ra||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ra&&(Se=_o()):(mi=G,vo="value"in mi?mi.value:mi.textContent,ra=!0)),ue=Ku(P,Ie),0<ue.length&&(Ie=new yi(Ie,e,null,s,G),Y.push({event:Ie,listeners:ue}),Se?Ie.data=Se:(Se=sa(s),Se!==null&&(Ie.data=Se)))),(Se=xn?NE(e,s):DE(e,s))&&(Ie=Ku(P,"onBeforeInput"),0<Ie.length&&(ue=new yi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ue,listeners:Ie}),ue.data=Se)),bT(Y,e,P,s,G)}fy(Y,n)})}function Zo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ku(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,s),c!=null&&o.unshift(Zo(e,c,f)),c=Bn(e,n),c!=null&&o.push(Zo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function xT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function my(e,n,s,o,c){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,c?(P=Bn(s,f),P!=null&&p.unshift(Zo(s,P,I))):c||(P=Bn(s,f),P!=null&&p.push(Zo(s,P,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var CT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(CT,`
`).replace(RT,"")}function gy(e,n){return n=py(n),py(e)===n}function Ye(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":go(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ye(e,n,"name",c.name,c,null),Ye(e,n,"formEncType",c.formEncType,c,null),Ye(e,n,"formMethod",c.formMethod,c,null),Ye(e,n,"formTarget",c.formTarget,c,null)):(Ye(e,n,"encType",c.encType,c,null),Ye(e,n,"method",c.method,c,null),Ye(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Wr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),$r(e,"popover",o);break;case"xlinkActuate":_t(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_t(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_t(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_t(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_t(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_t(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_t(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kl.get(s)||s,$r(e,s,o))}}function Hf(e,n,s,o,c,f){switch(s){case"style":go(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Nt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$r(e,s,o)}}}function Bt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(e,n,f,p,s,null)}}c&&Ye(e,n,"srcSet",s.srcSet,s,null),o&&Ye(e,n,"src",s.src,s,null);return;case"input":Ce("invalid",e);var E=f=p=c=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":c=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ye(e,n,o,G,s,null)}}Fl(e,f,E,I,P,p,c,!1);return;case"select":Ce("invalid",e),o=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Ye(e,n,c,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":Ce("invalid",e),f=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ye(e,n,p,E,s,null)}os(e,o,c,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(e,n,I,o,s,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Ce($o[o],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(e,n,P,o,s,null)}return;default:if(Jr(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Hf(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Ye(e,n,E,o,s,null))}function IT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,I=null,P=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(H)||Ye(e,n,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=s[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&Ye(e,n,B,H,o,Y)}}Zr(e,p,E,I,P,G,f,c);return;case"select":H=p=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Ye(e,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Ye(e,n,c,f,o,I)}n=E,s=p,o=H,B!=null?as(e,!!s,B,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(e,n,E,null,o,c)}for(p in o)if(c=o[p],f=s[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ye(e,n,p,c,o,f)}Ql(e,B,H);return;case"option":for(var oe in s)if(B=s[oe],s.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ye(e,n,oe,null,o,B)}for(I in o)if(B=o[I],H=s[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ye(e,n,I,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in s)B=s[me],s.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me)&&Ye(e,n,me,null,o,B);for(P in o)if(B=o[P],H=s[P],o.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ye(e,n,P,B,o,H)}return;default:if(Jr(n)){for(var Ke in s)B=s[Ke],s.hasOwnProperty(Ke)&&B!==void 0&&!o.hasOwnProperty(Ke)&&Hf(e,n,Ke,void 0,o,B);for(G in o)B=o[G],H=s[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Hf(e,n,G,B,o,H);return}}for(var V in s)B=s[V],s.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&Ye(e,n,V,null,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||Ye(e,n,Y,B,o,H)}function yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&yy(p)){for(p=0,E=c.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var G=I.transferSize,Y=I.initiatorType;G&&yy(Y)&&(I=I.responseEnd,p+=G*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gf=null,Ff=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function vy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function DT(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(kT)}:Ey;function kT(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function by(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Jo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Jo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Jo(e.ownerDocument.body);s=c}while(s);Ma(n)}function Sy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kf(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function VT(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function UT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Ay(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$?"||e.data==="$~"}function $f(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function LT(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zf=null;function wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Cy(e,n,s){switch(n=Xu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xr(e)}var kn=new Map,Ry=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=se.d;se.d={f:jT,r:PT,D:zT,C:BT,L:qT,m:HT,X:FT,S:GT,M:QT};function jT(){var e=Yi.f(),n=Bu();return e||n}function PT(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Fp(n):Yi.r(e)}var Na=typeof document>"u"?null:document;function Iy(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ry.has(c)||(Ry.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Bt(n,"link",e),vt(n),o.head.appendChild(n)))}}function zT(e){Yi.D(e),Iy("dns-prefetch",e,null)}function BT(e,n){Yi.C(e,n),Iy("preconnect",e,n)}function qT(e,n,s){Yi.L(e,n,s);var o=Na;if(o&&e&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+nn(s.imageSizes)+'"]')):c+='[href="'+nn(e)+'"]';var f=c;switch(n){case"style":f=Da(e);break;case"script":f=Oa(e)}kn.has(f)||(e=C({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Wo(f))||n==="script"&&o.querySelector(el(f))||(n=o.createElement("link"),Bt(n,"link",e),vt(n),o.head.appendChild(n)))}}function HT(e,n){Yi.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!kn.has(f)&&(e=C({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(el(f)))return}o=s.createElement("link"),Bt(o,"link",e),vt(o),s.head.appendChild(o)}}}function GT(e,n,s){Yi.S(e,n,s);var o=Na;if(o&&e){var c=ui(o).hoistableStyles,f=Da(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Wo(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&Jf(e,s);var I=p=o.createElement("link");vt(I),Bt(I,"link",e),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Zu(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function FT(e,n){Yi.X(e,n);var s=Na;if(s&&e){var o=ui(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(el(c)),f||(e=C({src:e,async:!0},n),(n=kn.get(c))&&Wf(e,n),f=s.createElement("script"),vt(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function QT(e,n){Yi.M(e,n);var s=Na;if(s&&e){var o=ui(s).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=s.querySelector(el(c)),f||(e=C({src:e,async:!0,type:"module"},n),(n=kn.get(c))&&Wf(e,n),f=s.createElement("script"),vt(f),Bt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ny(e,n,s,o){var c=(c=be.current)?$u(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Da(s.href),s=ui(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Da(s.href);var f=ui(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(Wo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||YT(c,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=ui(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+nn(e)+'"'}function Wo(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function YT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Bt(n,"link",s),vt(n),e.head.appendChild(n))}function Oa(e){return'[src="'+nn(e)+'"]'}function el(e){return"script[async]"+e}function Oy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,vt(o),o;var c=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),vt(o),Bt(o,"style",c),Zu(o,s.precedence,e),n.instance=o;case"stylesheet":c=Da(s.href);var f=e.querySelector(Wo(c));if(f)return n.state.loading|=4,n.instance=f,vt(f),f;o=Dy(s),(c=kn.get(c))&&Jf(o,c),f=(e.ownerDocument||e).createElement("link"),vt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Bt(f,"link",o),n.state.loading|=4,Zu(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(c=e.querySelector(el(f)))?(n.instance=c,vt(c),c):(o=s,(c=kn.get(f))&&(o=C({},s),Wf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),vt(c),Bt(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Zu(o,s.precedence,e));return n.instance}function Zu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ju=null;function My(e,n,s){if(Ju===null){var o=new Map,c=Ju=new Map;c.set(s,o)}else c=Ju,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[oi]||f[yt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function ky(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function KT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XT(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Da(o.href),f=n.querySelector(Wo(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,vt(f);return}f=n.ownerDocument||n,o=Dy(o),(c=kn.get(c))&&Jf(o,c),f=f.createElement("link"),vt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Bt(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Wu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ed=0;function $T(e,n){return e.stylesheets&&e.count===0&&tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ed===0&&(ed=62500*NT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,n.forEach(ZT,e),ec=null,Wu.call(e))}function ZT(e,n){if(!(n.state.loading&4)){var s=ec.get(e);if(s)var o=s.get(null);else{s=new Map,ec.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,c),s.set(p,c),this.count++,o=Wu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var tl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function JT(e,n,s,o,c,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Uy(e,n,s,o,c,f,p,E,I,P,G,Y){return e=new JT(e,n,s,p,I,P,G,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Oh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Uh(f),e}function Ly(e){return e?(e=ua,e):ua}function jy(e,n,s,o,c,f){c=Ly(c),o.context===null?o.context=c:o.pendingContext=c,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(un(s,e,n),Mo(s,e,n))}function Py(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function td(e,n){Py(e,n),(e=e.alternate)&&Py(e,n)}function zy(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&un(n,e,67108864),td(e,67108864)}}function By(e){if(e.tag===13||e.tag===31){var n=Tn();n=ar(n);var s=vr(e,n);s!==null&&un(s,e,n),td(e,n)}}var nc=!0;function WT(e,n,s,o){var c=F.T;F.T=null;var f=se.p;try{se.p=2,nd(e,n,s,o)}finally{se.p=f,F.T=c}}function eb(e,n,s,o){var c=F.T;F.T=null;var f=se.p;try{se.p=8,nd(e,n,s,o)}finally{se.p=f,F.T=c}}function nd(e,n,s,o){if(nc){var c=id(o);if(c===null)qf(e,n,o,ic,s),Hy(e,o);else if(nb(c,e,n,s,o))o.stopPropagation();else if(Hy(e,o),n&4&&-1<tb.indexOf(e)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ii(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-ht(p);E.entanglements[1]|=I,p&=~I}bi(f),(je&6)===0&&(Pu=Wt()+500,Xo(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&un(E,f,2),Bu(),td(f,2)}if(f=id(o),f===null&&qf(e,n,o,ic,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else qf(e,n,o,null,s)}}function id(e){return e=An(e),sd(e)}var ic=null;function sd(e){if(ic=null,e=li(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ic=e,null}function qy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case io:return 2;case so:return 8;case ss:case uh:return 32;case Vl:return 268435456;default:return 32}default:return 32}}var rd=!1,Ds=null,Os=null,Ms=null,nl=new Map,il=new Map,ks=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(n.pointerId)}}function sl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&zy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function nb(e,n,s,o,c){switch(n){case"focusin":return Ds=sl(Ds,e,n,s,o,c),!0;case"dragenter":return Os=sl(Os,e,n,s,o,c),!0;case"mouseover":return Ms=sl(Ms,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return nl.set(f,sl(nl.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,il.set(f,sl(il.get(f)||null,e,n,s,o,c)),!0}return!1}function Gy(e){var n=li(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){By(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,jn(e.priority,function(){By(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);yo=o,s.target.dispatchEvent(o),yo=null}else return n=Sn(s),n!==null&&zy(n),e.blockedOn=s,!1;n.shift()}return!0}function Fy(e,n,s){sc(e)&&s.delete(n)}function ib(){rd=!1,Ds!==null&&sc(Ds)&&(Ds=null),Os!==null&&sc(Os)&&(Os=null),Ms!==null&&sc(Ms)&&(Ms=null),nl.forEach(Fy),il.forEach(Fy)}function rc(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ib)))}var ac=null;function Qy(e){ac!==e&&(ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(sd(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Ma(e){function n(I){return rc(I,e)}Ds!==null&&rc(Ds,e),Os!==null&&rc(Os,e),Ms!==null&&rc(Ms,e),nl.forEach(n),il.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)Gy(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=c[Nt]||null;if(typeof f=="function")p||Qy(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Nt]||null)E=p.formAction;else if(sd(c)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Qy(s)}}}function Yy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ad(e){this._internalRoot=e}oc.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();jy(s,o,e,n,null,null)},oc.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jy(e.current,2,null,e,null,null),Bu(),n[ai]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&Gy(e)}};var Ky=t.version;if(Ky!=="19.2.0")throw Error(a(527,Ky,"19.2.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Un=lc.inject(sb),Ut=lc}catch{}}return al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=tg,f=ng,p=ig;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Uy(e,1,!1,null,null,s,o,null,c,f,p,Yy),e[ai]=n.current,Bf(e),new ad(n)},al.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",f=tg,p=ng,E=ig,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=Uy(e,1,!0,n,s??null,o,c,I,f,p,E,Yy),n.context=Ly(null),s=n.current,o=Tn(),o=ar(o),c=_s(o),c.callback=null,Es(s,c,o),s=o,n.current.lanes=s,sr(n,s),bi(n),e[ai]=n.current,Bf(e),new oc(n)},al.version="19.2.0",al}var sv;function mb(){if(sv)return ld.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=db(),ld.exports}var pb=mb(),Xe=Qd();const Ys=[5,2,0,-1,-2,-5,-8,-10],gb=["TikTok","WhatsApp"],Vn=1e3,Bs=10,yb="WTPSurveyDB",vb=1,Ks="surveys",Yd=()=>new Promise((r,t)=>{const i=indexedDB.open(yb,vb);i.onerror=()=>t(i.error),i.onsuccess=()=>r(i.result),i.onupgradeneeded=a=>{const l=a.target.result;if(!l.objectStoreNames.contains(Ks)){const h=l.createObjectStore(Ks,{keyPath:"id"});h.createIndex("participantId","surveyData.participantId",{unique:!1}),h.createIndex("synced","synced",{unique:!1}),h.createIndex("createdAt","createdAt",{unique:!1})}}}),rv=async r=>{try{const i=(await Yd()).transaction([Ks],"readwrite");return i.objectStore(Ks).put(r),new Promise((l,h)=>{i.oncomplete=()=>l(),i.onerror=()=>h(i.error)})}catch(t){throw console.error("IndexedDB save error:",t),t}},uc=async()=>{try{const i=(await Yd()).transaction([Ks],"readonly").objectStore(Ks);return new Promise((a,l)=>{const h=i.getAll();h.onsuccess=()=>a(h.result),h.onerror=()=>l(h.error)})}catch(r){return console.error("IndexedDB get all error:",r),[]}},_b=async(r,t)=>{try{const a=(await Yd()).transaction([Ks],"readwrite"),l=a.objectStore(Ks),h=l.get(r);return new Promise((d,y)=>{h.onsuccess=()=>{const _=h.result;_&&(_.synced=t,_.syncedAt=t?new Date().toISOString():null,l.put(_))},a.oncomplete=()=>d(),a.onerror=()=>y(a.error)})}catch(i){throw console.error("IndexedDB update sync status error:",i),i}},Eb=()=>{try{return"indexedDB"in window&&indexedDB!==null}catch{return!1}},ka=async(r,t)=>{if(!Eb())return console.warn("IndexedDB not available, using fallback"),t;try{return await r()}catch(i){return console.error("IndexedDB operation failed:",i),t}},Tb=()=>{};var av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},bb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],y=r[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,y=d?r[l+1]:0,_=l+2<r.length,v=_?r[l+2]:0,w=h>>2,C=(h&3)<<4|y>>4;let L=(y&15)<<2|v>>6,X=v&63;_||(X=64,d||(L=64)),a.push(i[w],i[C],i[L],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(x_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):bb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const C=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||y==null||v==null||C==null)throw new Sb;const L=h<<2|y>>4;if(a.push(L),v!==64){const X=y<<4&240|v>>2;if(a.push(X),C!==64){const $=v<<6&192|C;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(r){const t=x_(r);return C_.encodeByteArray(t,!0)},Cc=function(r){return Ab(r).replace(/\./g,"")},R_=function(r){try{return C_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=()=>wb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof av>"u")return;const r=av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Rb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&R_(r[1]);return t&&JSON.parse(t)},Qc=()=>{try{return Tb()||xb()||Cb()||Rb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I_=r=>Qc()?.emulatorHosts?.[r],Ib=r=>{const t=I_(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N_=()=>Qc()?.config,D_=r=>Qc()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(d)),""].join(".")}const ul={};function Ob(){const r={prod:[],emulator:[]};for(const t of Object.keys(ul))ul[t]?r.emulator.push(t):r.prod.push(t);return r}function Mb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ov=!1;function M_(r,t){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||ul[r]===t||ul[r]||ov)return;ul[r]=t;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",h=Ob().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function y(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function _(L,X){L.setAttribute("width","24"),L.setAttribute("id",X),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function v(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{ov=!0,d()},L}function w(L,X){L.setAttribute("id",X),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function C(){const L=Mb(a),X=i("text"),$=document.getElementById(X)||document.createElement("span"),ee=i("learnmore"),J=document.getElementById(ee)||document.createElement("a"),le=i("preprendIcon"),pe=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const ge=L.element;y(ge),w(J,ee);const Pe=v();_(pe,le),ge.append(pe,$,J,Pe),document.body.appendChild(ge)}h?($.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Vb(){const r=Qc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zb(){return!Vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Hb,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?Gb(h,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ns(l,y,a)}}function Gb(r,t){return r.replace(Fb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Fb=/\{\$([^}]+)}/g;function Qb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=t[l];if(lv(h)&&lv(d)){if(!Vr(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function lv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Yb(r,t){const i=new Kb(r,t);return i.subscribe.bind(i)}class Kb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Xb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=dd),l.error===void 0&&(l.error=dd),l.complete===void 0&&(l.complete=dd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r){return r&&r._delegate?r._delegate:r}class Ur{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Nb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jb(t))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Dr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Dr){return this.instances.has(t)}getOptions(t=Dr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Dr){return this.component?this.component.multipleInstances?t:Dr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(r){return r===Dr?void 0:r}function Jb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new $b(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const eS={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},tS=Ne.INFO,nS={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},iS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=nS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kd{constructor(t){this.name=t,this._logLevel=tS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...t),this._logHandler(this,Ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...t),this._logHandler(this,Ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...t),this._logHandler(this,Ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...t),this._logHandler(this,Ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...t),this._logHandler(this,Ne.ERROR,...t)}}const sS=(r,t)=>t.some(i=>r instanceof i);let uv,cv;function rS(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aS(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,wd=new WeakMap,V_=new WeakMap,md=new WeakMap,Xd=new WeakMap;function oS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k_.set(i,r)}).catch(()=>{}),Xd.set(t,r),t}function lS(r){if(wd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});wd.set(r,t)}let xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||V_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function uS(r){xd=r(xd)}function cS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(pd(this),t,...i);return V_.set(a,t.sort?t.sort():[t]),qs(a)}:aS().includes(r)?function(...t){return r.apply(pd(this),t),qs(k_.get(this))}:function(...t){return qs(r.apply(pd(this),t))}}function hS(r){return typeof r=="function"?cS(r):(r instanceof IDBTransaction&&lS(r),sS(r,rS())?new Proxy(r,xd):r)}function qs(r){if(r instanceof IDBRequest)return oS(r);if(md.has(r))return md.get(r);const t=hS(r);return t!==r&&(md.set(r,t),Xd.set(t,r)),t}const pd=r=>Xd.get(r);function fS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,t),y=qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qs(d.result),_.oldVersion,_.newVersion,qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const dS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],gd=new Map;function hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=mS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||dS.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),l&&_.done]))[0]};return gd.set(t,h),h}uS(r=>({...r,get:(t,i,a)=>hv(t,i)||r.get(t,i,a),has:(t,i)=>!!hv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function gS(r){return r.getComponent()?.type==="VERSION"}const Cd="@firebase/app",fv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Kd("@firebase/app"),yS="@firebase/app-compat",vS="@firebase/analytics-compat",_S="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",bS="@firebase/auth",SS="@firebase/auth-compat",AS="@firebase/database",wS="@firebase/data-connect",xS="@firebase/database-compat",CS="@firebase/functions",RS="@firebase/functions-compat",IS="@firebase/installations",NS="@firebase/installations-compat",DS="@firebase/messaging",OS="@firebase/messaging-compat",MS="@firebase/performance",kS="@firebase/performance-compat",VS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",jS="@firebase/storage-compat",PS="@firebase/firestore",zS="@firebase/ai",BS="@firebase/firestore-compat",qS="firebase",HS="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",GS={[Cd]:"fire-core",[yS]:"fire-core-compat",[_S]:"fire-analytics",[vS]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[bS]:"fire-auth",[SS]:"fire-auth-compat",[AS]:"fire-rtdb",[wS]:"fire-data-connect",[xS]:"fire-rtdb-compat",[CS]:"fire-fn",[RS]:"fire-fn-compat",[IS]:"fire-iid",[NS]:"fire-iid-compat",[DS]:"fire-fcm",[OS]:"fire-fcm-compat",[MS]:"fire-perf",[kS]:"fire-perf-compat",[VS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[jS]:"fire-gcs-compat",[PS]:"fire-fst",[BS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,FS=new Map,Id=new Map;function dv(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ha(r){const t=r.name;if(Id.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,r);for(const i of Rc.values())dv(i,r);for(const i of FS.values())dv(i,r);return!0}function $d(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Sl("app","Firebase",QS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=HS;function U_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Rd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=N_()),!i)throw Hs.create("no-options");const h=Rc.get(l);if(h){if(Vr(i,h.options)&&Vr(a,h.config))return h;throw Hs.create("duplicate-app",{appName:l})}const d=new Wb(l);for(const _ of Id.values())d.addComponent(_);const y=new YS(i,a,d);return Rc.set(l,y),y}function L_(r=Rd){const t=Rc.get(r);if(!t&&r===Rd&&N_())return U_();if(!t)throw Hs.create("no-app",{appName:r});return t}function Gs(r,t,i){let a=GS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ha(new Ur(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebase-heartbeat-database",XS=1,gl="firebase-heartbeat-store";let yd=null;function j_(){return yd||(yd=fS(KS,XS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(gl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),yd}async function $S(r){try{const i=(await j_()).transaction(gl),a=await i.objectStore(gl).get(P_(r));return await i.done,a}catch(t){if(t instanceof ns)Wi.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function mv(r,t){try{const a=(await j_()).transaction(gl,"readwrite");await a.objectStore(gl).put(t,P_(r)),await a.done}catch(i){if(i instanceof ns)Wi.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function P_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1024,JS=30;class WS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new t1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>JS){const l=n1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:i,unsentEntries:a}=e1(this._heartbeatsCache.heartbeats),l=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function e1(r,t=ZS){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),gv(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),gv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class t1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $S(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function gv(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function n1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r){Ha(new Ur("platform-logger",t=>new pS(t),"PRIVATE")),Ha(new Ur("heartbeat",t=>new WS(t),"PRIVATE")),Gs(Cd,fv,r),Gs(Cd,fv,"esm2020"),Gs("fire-js","")}i1("");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zd;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,S){function x(){}x.prototype=S.prototype,A.F=S.prototype,A.prototype=new x,A.prototype.constructor=A,A.D=function(N,D,k){for(var R=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)R[tt-2]=arguments[tt];return S.prototype[D].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,S,x){x||(x=0);const N=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)N[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)N[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=A.g[0],x=A.g[1],D=A.g[2];let k=A.g[3],R;R=S+(k^x&(D^k))+N[0]+3614090360&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(D^S&(x^D))+N[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(x^k&(S^x))+N[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(S^D&(k^S))+N[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(k^x&(D^k))+N[4]+4118548399&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(D^S&(x^D))+N[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(x^k&(S^x))+N[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(S^D&(k^S))+N[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(k^x&(D^k))+N[8]+1770035416&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(D^S&(x^D))+N[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(x^k&(S^x))+N[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(S^D&(k^S))+N[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(k^x&(D^k))+N[12]+1804603682&4294967295,S=x+(R<<7&4294967295|R>>>25),R=k+(D^S&(x^D))+N[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(x^k&(S^x))+N[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=x+(S^D&(k^S))+N[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=S+(D^k&(x^D))+N[1]+4129170786&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(S^x))+N[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(k^S))+N[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(D^k))+N[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(x^D))+N[5]+3593408605&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(S^x))+N[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(k^S))+N[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(D^k))+N[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(x^D))+N[9]+568446438&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(S^x))+N[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(k^S))+N[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(D^k))+N[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(x^D))+N[13]+2850285829&4294967295,S=x+(R<<5&4294967295|R>>>27),R=k+(x^D&(S^x))+N[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^x&(k^S))+N[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=x+(k^S&(D^k))+N[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=S+(x^D^k)+N[5]+4294588738&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^D)+N[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^x)+N[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^S)+N[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^k)+N[1]+2763975236&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^D)+N[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^x)+N[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^S)+N[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^k)+N[13]+681279174&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^D)+N[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^x)+N[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^S)+N[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(x^D^k)+N[9]+3654602809&4294967295,S=x+(R<<4&4294967295|R>>>28),R=k+(S^x^D)+N[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^x)+N[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=x+(D^k^S)+N[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=S+(D^(x|~k))+N[0]+4096336452&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~D))+N[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~x))+N[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~S))+N[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~k))+N[12]+1700485571&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~D))+N[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~x))+N[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~S))+N[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~k))+N[8]+1873313359&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~D))+N[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~x))+N[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~S))+N[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=S+(D^(x|~k))+N[4]+4149444226&4294967295,S=x+(R<<6&4294967295|R>>>26),R=k+(x^(S|~D))+N[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~x))+N[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=x+(k^(D|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+k&4294967295}a.prototype.v=function(A,S){S===void 0&&(S=A.length);const x=S-this.blockSize,N=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=x;)l(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<S;)if(N[D++]=A.charCodeAt(k++),D==this.blockSize){l(this,N),D=0;break}}else for(;k<S;)if(N[D++]=A[k++],D==this.blockSize){l(this,N),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var x=A.length-8;x<A.length;++x)A[x]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)A[S++]=this.g[x]>>>N&255;return A};function h(A,S){var x=y;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=S(A)}function d(A,S){this.h=S;const x=[];let N=!0;for(let D=A.length-1;D>=0;D--){const k=A[D]|0;N&&k==S||(x[D]=k,N=!1)}this.g=x}var y={};function _(A){return-128<=A&&A<128?h(A,function(S){return new d([S|0],S<0?-1:0)}):new d([A|0],A<0?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return C;if(A<0)return J(v(-A));const S=[];let x=1;for(let N=0;A>=x;N++)S[N]=A/x|0,x*=4294967296;return new d(S,0)}function w(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return J(w(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=v(Math.pow(S,8));let N=C;for(let k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k);const R=parseInt(A.substring(k,k+D),S);D<8?(D=v(Math.pow(S,D)),N=N.j(D).add(v(R))):(N=N.j(x),N=N.add(v(R)))}return N}var C=_(0),L=_(1),X=_(16777216);r=d.prototype,r.m=function(){if(ee(this))return-J(this).m();let A=0,S=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);A+=(N>=0?N:4294967296+N)*S,S*=4294967296}return A},r.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if($(this))return"0";if(ee(this))return"-"+J(this).toString(A);const S=v(Math.pow(A,6));var x=this;let N="";for(;;){const D=Pe(x,S).g;x=le(x,D.j(S));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(A);if(x=D,$(x))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},r.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function $(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function ee(A){return A.h==-1}r.l=function(A){return A=le(this,A),ee(A)?-1:$(A)?0:1};function J(A){const S=A.g.length,x=[];for(let N=0;N<S;N++)x[N]=~A.g[N];return new d(x,~A.h).add(L)}r.abs=function(){return ee(this)?J(this):this},r.add=function(A){const S=Math.max(this.g.length,A.g.length),x=[];let N=0;for(let D=0;D<=S;D++){let k=N+(this.i(D)&65535)+(A.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);N=R>>>16,k&=65535,R&=65535,x[D]=R<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function le(A,S){return A.add(J(S))}r.j=function(A){if($(this)||$(A))return C;if(ee(this))return ee(A)?J(this).j(J(A)):J(J(this).j(A));if(ee(A))return J(this.j(J(A)));if(this.l(X)<0&&A.l(X)<0)return v(this.m()*A.m());const S=this.g.length+A.g.length,x=[];for(var N=0;N<2*S;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<A.g.length;D++){const k=this.i(N)>>>16,R=this.i(N)&65535,tt=A.i(D)>>>16,xt=A.i(D)&65535;x[2*N+2*D]+=R*xt,pe(x,2*N+2*D),x[2*N+2*D+1]+=k*xt,pe(x,2*N+2*D+1),x[2*N+2*D+1]+=R*tt,pe(x,2*N+2*D+1),x[2*N+2*D+2]+=k*tt,pe(x,2*N+2*D+2)}for(A=0;A<S;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=S;A<2*S;A++)x[A]=0;return new d(x,0)};function pe(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function ge(A,S){this.g=A,this.h=S}function Pe(A,S){if($(S))throw Error("division by zero");if($(A))return new ge(C,C);if(ee(A))return S=Pe(J(A),S),new ge(J(S.g),J(S.h));if(ee(S))return S=Pe(A,J(S)),new ge(J(S.g),S.h);if(A.g.length>30){if(ee(A)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var x=L,N=S;N.l(A)<=0;)x=ie(x),N=ie(N);var D=te(x,1),k=te(N,1);for(N=te(N,2),x=te(x,2);!$(N);){var R=k.add(N);R.l(A)<=0&&(D=D.add(x),k=R),N=te(N,1),x=te(x,1)}return S=le(A,D.j(S)),new ge(D,S)}for(D=C;A.l(S)>=0;){for(x=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=v(x),R=k.j(S);ee(R)||R.l(A)>0;)x-=N,k=v(x),R=k.j(S);$(k)&&(k=L),D=D.add(k),A=le(A,R)}return new ge(D,A)}r.B=function(A){return Pe(this,A).h},r.and=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let N=0;N<S;N++)x[N]=this.i(N)&A.i(N);return new d(x,this.h&A.h)},r.or=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let N=0;N<S;N++)x[N]=this.i(N)|A.i(N);return new d(x,this.h|A.h)},r.xor=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let N=0;N<S;N++)x[N]=this.i(N)^A.i(N);return new d(x,this.h^A.h)};function ie(A){const S=A.g.length+1,x=[];for(let N=0;N<S;N++)x[N]=A.i(N)<<1|A.i(N-1)>>>31;return new d(x,A.h)}function te(A,S){const x=S>>5;S%=32;const N=A.g.length-x,D=[];for(let k=0;k<N;k++)D[k]=S>0?A.i(k+x)>>>S|A.i(k+x+1)<<32-S:A.i(k+x);return new d(D,A.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Zd=d}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,ll,B_,vc,Nd,q_,H_,G_;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var g=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in g))break e;g=g[U]}u=u[u.length-1],b=g[u],m=m(b),m!=b&&m!=null&&t(g,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var g=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&g.push([b,m[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,g){return u.call.apply(u.bind,arguments)}function v(u,m,g){return v=_,v.apply(null,arguments)}function w(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function C(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(b,U,q){for(var ne=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)ne[Ee-2]=arguments[Ee];return m.prototype[U].apply(b,ne)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const g=Array(m);for(let b=0;b<m;b++)g[b]=u[b];return g}return[]}function $(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var g=typeof U;if(g=g!="object"?g:U?Array.isArray(U)?"array":g:"null",g=="array"||g=="object"&&typeof U.length=="number"){g=u.length||0;const q=U.length||0;u.length=g+q;for(let ne=0;ne<q;ne++)u[g+ne]=U[ne]}else u.push(U)}}class ee{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function le(){var u=A;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,g){const b=ge.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var ge=new ee(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,te=!1,A=new pe,S=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(x)}};function x(){for(var u;u=le();){try{u.h.call(u.g)}catch(g){J(g)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}te=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(tt,D),tt.prototype.init=function(u,m){const g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,g,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,m,g){for(const b in u)m.call(g,u[b],b,u)}function Be(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function M(u){const m={};for(const g in u)m[g]=u[g];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let g,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(g in b)u[g]=b[g];for(let q=0;q<K.length;q++)g=K[q],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,g,b,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=be(u,m,b,U);return ne>-1?(m=u[ne],g||(m.fa=!1)):(m=new se(m,this.src,q,!!b,U),m.fa=g,u.push(m)),m};function ve(u,m){const g=m.type;if(g in u.g){var b=u.g[g],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(de(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function be(u,m,g,b){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!g&&q.ha==b)return U}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ct={};function nt(u,m,g,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)nt(u,m[q],g,b,U);return null}return g=no(g),u&&u[xt]?u.J(m,g,y(b)?!!b.capture:!1,U):er(u,m,g,!1,b,U)}function er(u,m,g,b,U,q){if(!m)throw Error("Invalid event type");const ne=y(U)?!!U.capture:!!U;let Ee=tr(u);if(Ee||(u[Oe]=Ee=new ae(u)),g=Ee.add(m,g,b,ne,q),g.proxy)return g;if(b=Gr(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)k||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Gr(){function u(g){return m.call(u.src,u.listener,g)}const m=eo;return u}function Fr(u,m,g,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Fr(u,m[q],g,b,U);else b=y(b)?!!b.capture:!!b,g=no(g),u&&u[xt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],g=be(m,g,b,U),g>-1&&(de(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,g,b,U)),(g=u>-1?m[u]:null)&&Qr(g))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])ve(m.i,u);else{var g=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(g,b,u.capture):m.detachEvent?m.detachEvent(ti(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=tr(m))?(ve(g,u),g.h==0&&(g.src=null,m[Oe]=null)):de(u)}}}function ti(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function eo(u,m){if(u.da)u=!0;else{m=new tt(m,this);const g=u.listener,b=u.ha||u.src;u.fa&&Qr(u),u=g.call(b,m)}return u}function tr(u){return u=u[Oe],u instanceof ae?u:null}var to="__closure_events_fn_"+(Math.random()*1e9>>>0);function no(u){return typeof u=="function"?u:(u[to]||(u[to]=function(m){return u.handleEvent(m)}),u[to])}function pt(){N.call(this),this.i=new ae(this),this.M=this,this.G=null}C(pt,N),pt.prototype[xt]=!0,pt.prototype.removeEventListener=function(u,m,g,b){Fr(this,u,m,g,b)};function Rt(u,m){var g,b=u.G;if(b)for(g=[];b;b=b.G)g.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),re(m,U)}U=!0;let q,ne;if(g)for(ne=g.length-1;ne>=0;ne--)q=m.g=g[ne],U=is(q,b,!0,m)&&U;if(q=m.g=u,U=is(q,b,!0,m)&&U,U=is(q,b,!1,m)&&U,g)for(ne=0;ne<g.length;ne++)q=m.g=g[ne],U=is(q,b,!1,m)&&U}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let b=0;b<g.length;b++)de(g[b]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,g,b){return this.i.add(String(u),m,!1,g,b)},pt.prototype.K=function(u,m,g,b){return this.i.add(String(u),m,!0,g,b)};function is(u,m,g,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==g){const Ee=ne.listener,ft=ne.ha||ne.src;ne.fa&&ve(u.i,ne),U=Ee.call(ft,b)!==!1&&U}}return U&&!b.defaultPrevented}function lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function kl(u){u.g=lh(()=>{u.g=null,u.i&&(u.i=!1,kl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends N{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){N.call(this),this.h=u,this.g={}}C(nr,N);var io=[];function so(u){ke(u.g,function(m,g){this.g.hasOwnProperty(g)&&Qr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),so(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,uh=d.JSON.parse,Vl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ul(){}function Ll(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){D.call(this,"d")}C(Ut,D);function bn(){D.call(this,"c")}C(bn,D);var ht={},jl=null;function Yr(){return jl=jl||new pt}ht.Ia="serverreachability";function Pl(u){D.call(this,ht.Ia,u)}C(Pl,D);function ni(u){const m=Yr();Rt(m,new Pl(m))}ht.STAT_EVENT="statevent";function ir(u,m){D.call(this,ht.STAT_EVENT,u),this.stat=m}C(ir,D);function gt(u){const m=Yr();Rt(m,new ir(m,u))}ht.Ja="timingevent";function ii(u,m){D.call(this,ht.Ja,u),this.size=m}C(ii,D);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function ch(u,m,g,b,U,q){u.info(function(){if(u.g)if(q){var ne="",Ee=q.split("&");for(let Le=0;Le<Ee.length;Le++){var ft=Ee[Le].split("=");if(ft.length>1){const it=ft[0];ft=ft[1];const xn=it.split("_");ne=xn.length>=2&&xn[1]=="type"?ne+(it+"="+ft+"&"):ne+(it+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+g+`
`+ne})}function zl(u,m,g,b,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+g+`
`+q+" "+ne})}function ri(u,m,g,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+hh(u,g)+(b?" "+b:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function hh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var g=q[u];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return ss(q)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ao;function ar(){}C(ar,Ul),ar.prototype.g=function(){return new XMLHttpRequest},ao=new ar;function Ii(u){return encodeURIComponent(String(u))}function Bl(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function jn(u,m,g,b){this.j=u,this.i=m,this.l=g,this.S=b||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var yt={},Nt={};function ai(u,m,g){u.M=1,u.A=or(_t(m)),u.u=g,u.R=!0,Kr(u,null)}function Kr(u,m){u.F=Date.now(),oi(u),u.B=_t(u.A);var g=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Jr(g.i,"t",b),u.C=0,g=u.j.L,u.h=new Pn,u.g=nu(u.j,g?m:null,!u.u),u.P>0&&(u.O=new Wt(v(u.Y,u,u.g),u.P)),m=u.V,g=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(io[0]=U.toString()),U=io);for(let q=0;q<U.length;q++){const ne=nt(g,U[q],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),ch(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const Ee=qn(this.g),ft=this.g.ya(),Le=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Lt(this.g)))){this.K||Ee!=4||ft==7||(ft==8||Le<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var g=fh(this);if(this.o=m==200,zl(this.i,this.v,this.B,this.l,this.S,Ee,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break t}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,gt(12),dn(this),Sn(this);break e}}if(this.R){u=!0;let it;for(;!this.K&&this.C<g.length;)if(it=Hl(this,g),it==Nt){Ee==4&&(this.m=4,gt(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(it==yt){this.m=4,gt(15),ri(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,it,null),ui(this,it);if(ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||g.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,g,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(g.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),bo(ne),ne.P=!0,gt(11))}}else ri(this.i,this.l,g,null),ui(this,g);Ee==4&&dn(this),this.o&&!this.K&&(Ee==4?Jl(this.j,this):(this.o=!1,oi(this)))}else Di(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),dn(this),Sn(this)}}}catch{}finally{}};function fh(u){if(!ql(u))return u.g.la();const m=Lt(u.g);if(m==="")return"";let g="";const b=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,g+=u.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function ql(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Hl(u,m){var g=u.C,b=m.indexOf(`
`,g);return b==-1?Nt:(g=Number(m.substring(g,b)),isNaN(g)?yt:(b+=1,b+g>m.length?Nt:(m=m.slice(b,b+g),u.C=b+g,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(u){u.T=Date.now()+u.H,Xr(u,u.H)}function Xr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(v(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&(ni(),gt(17)),dn(this),this.m=2,Sn(this)):Xr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Jl(u.j,u)}function dn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,so(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||hi(g.h,u))){if(!u.L&&hi(g.h,u)&&g.I==3){try{var b=g.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)ia(g),fs(g);else break e;mr(g),gt(18)}}else g.xa=U[1],0<g.xa-g.K&&U[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=si(v(g.Va,g),6e3));ci(g.h)<=1&&g.ta&&(g.ta=void 0)}else yi(g,11)}else if((u.L||g.g==u)&&ia(g),!R(m))for(U=g.Ba.g.parse(m),m=0;m<U.length;m++){let Le=U[m];const it=Le[0];if(!(it<=g.K))if(g.K=it,Le=Le[1],g.I==2)if(Le[0]=="c"){g.M=Le[1],g.ba=Le[2];const xn=Le[3];xn!=null&&(g.ka=xn,g.j.info("VER="+g.ka));const vi=Le[4];vi!=null&&(g.za=vi,g.j.info("SVER="+g.za));const Hn=Le[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(b=1.5*Hn,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Gn=u.g;if(Gn){const pr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var q=b.h;q.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(uo(q,q.h),q.h=null))}if(b.G){const sa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(b.wa=sa,qe(b.J,b.G,sa))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var ne=u;if(b.na=tu(b,b.L?b.ba:null,b.W),ne.L){co(b.h,ne);var Ee=ne,ft=b.O;ft&&(Ee.H=ft),Ee.D&&(li(Ee),oi(Ee)),b.g=ne}else $l(b);g.i.length>0&&gi(g)}else Le[0]!="stop"&&Le[0]!="close"||yi(g,7);else g.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?yi(g,7):Eo(g):Le[0]!="noop"&&g.l&&g.l.qa(Le),g.A=0)}}ni(4)}catch{}}var vt=class{constructor(u,m){this.g=u,this.map=m}};function oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function uo(u,m){u.g?u.g.add(m):u.h=m}function co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}oo.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ho(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return X(u.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const b=u[g].indexOf("=");let U,q=null;b>=0?(U=u[g].substring(0,b),q=u[g].substring(b+1)):U=u[g],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Dt(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,fo(this,Kl(u.i)),this.m=u.m):u&&(m=String(u).match(Gl))?(this.l=!1,Dt(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),rs(this,m[4]),this.h=fi(m[5]||"",!0),fo(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,Zr,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Zr,!0),"@"),u.push(Ii(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(lr(g,g.charAt(0)=="/"?mo:Fl,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",lr(g,Ql)),u.join("")},mn.prototype.resolve=function(u){const m=_t(this);let g=!!u.j;g?Dt(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var b=u.h;if(g)rs(m,u.u);else if(g=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ee=U[ne++];Ee=="."?b&&ne==U.length&&q.push(""):Ee==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ne==U.length&&q.push("")):(q.push(Ee),b=!0)}b=q.join("/")}else b=U}return g?m.h=b:g=u.i.toString()!=="",g?fo(m,Kl(u.i)):g=!!u.m,g&&(m.m=u.m),m};function _t(u){return new mn(u)}function Dt(u,m,g){u.j=g?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function fo(u,m,g){m instanceof os?(u.i=m,Wr(u.i,u.l)):(g||(m=lr(m,as)),u.i=new os(m,u.l))}function qe(u,m,g){u.i.set(m,g)}function or(u){return qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zr=/[#\/\?@]/g,Fl=/[#\?:]/g,mo=/[#\?]/g,as=/[#\?@]/g,Ql=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&$r(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}r=os.prototype,r.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Yl(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function po(u,m){return sn(u),m=ls(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(g,b){g.forEach(function(U){u.call(m,U,b,this)},this)},this)};function go(u,m){sn(u);let g=[];if(typeof m=="string")po(u,m)&&(g=g.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}r.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=go(this,u),u.length>0?String(u[0]):m):m};function Jr(u,m,g){Yl(u,m),g.length>0&&(u.i=null,u.g.set(ls(u,m),X(g)),u.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var g=m[b];const U=Ii(g);g=go(this,g);for(let q=0;q<g.length;q++){let ne=U;g[q]!==""&&(ne+="="+Ii(g[q])),u.push(ne)}}return this.i=u.join("&")};function Kl(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(g,b){const U=b.toLowerCase();b!=U&&(Yl(this,b),Jr(this,U,g))},u)),u.j=m}function zn(u,m){const g=new Ln;if(d.Image){const b=new Image;b.onload=w(An,g,"TestLoadImage: loaded",!0,m,b),b.onerror=w(An,g,"TestLoadImage: error",!1,m,b),b.onabort=w(An,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=w(An,g,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function yo(u,m){const g=new Ln,b=new AbortController,U=setTimeout(()=>{b.abort(),An(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?An(g,"TestPingServer: ok",!0,m):An(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(g,"TestPingServer: error",!1,m)})}function An(u,m,g,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(g)}catch{}}function us(){this.g=new Vl}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}C(di,Ul),di.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(ur,pt),r=ur.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Bn(this),this.readyState==3&&ea(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},r.Na=function(u){this.g&&(this.response=u,cs(this))},r.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return ke(u,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function cr(u,m,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=wn(g),typeof u=="string"?g!=null&&Ii(g):qe(u,m,g))}function Fe(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Fe,pt);var mi=/^https?$/i,vo=["POST","PUT"];r=Fe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ao.g(),this.g.onreadystatechange=L(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){hr(this,q);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)g.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())g.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(vo,m,void 0)>=0)||b||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of g)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){hr(this,q)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,_o(u),Ni(u)}function _o(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Fe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},r.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),qn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var b;if(b=q===0){let ne=String(u.D).match(Gl)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!mi.test(ne?ne.toLowerCase():"")}g=b}if(g)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",_o(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||Rt(u,"ready");try{g.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),uh(m)}};function Lt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var g=Bl(u[b]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=m[U]||[];m[U]=q,q.push(g)}Be(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new oo(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,g,b){gt(0),this.W=u,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=tu(this,null,this.W),gi(this)};function Eo(u){if(ta(u),u.I==3){var m=u.V++,g=_t(u.J);if(qe(g,"SID",u.M),qe(g,"RID",m),qe(g,"TYPE","terminate"),dr(u,g),m=new jn(u,u.j,m),m.M=2,m.A=or(_t(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}eu(u)}function fs(u){u.g&&(bo(u),u.g.cancel(),u.g=null)}function ta(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||S(),te||(ie(),te=!0),A.add(m,u),u.D=0}}function na(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(v(u.Ea,u,m),Wl(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Xl(this,U,m),g=_t(this.J),qe(g,"RID",u),qe(g,"CVER",22),this.G&&qe(g,"X-HTTP-Session-Id",this.G),dr(this,g),q&&(this.R?m="headers="+Ii(wn(q))+"&"+m:this.u&&cr(g,this.u,q)),uo(this.h,U),this.Ra&&qe(g,"TYPE","init"),this.S?(qe(g,"$req",m),qe(g,"SID","null"),U.U=!0,ai(U,g,null)):ai(U,g,m),this.I=2}}else this.I==3&&(u?To(this,u):this.i.length==0||lo(this.h)||To(this))};function To(u,m){var g;m?g=m.l:g=u.V++;const b=_t(u.J);qe(b,"SID",u.M),qe(b,"RID",g),qe(b,"AID",u.K),dr(u,b),u.u&&u.o&&cr(b,u.u,u.o),g=new jn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Xl(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),uo(u.h,g),ai(g,b,m)}function dr(u,m){u.H&&ke(u.H,function(g,b){qe(m,b,g)}),u.l&&ke({},function(g,b){qe(m,b,g)})}function Xl(u,m,g){g=Math.min(u.i.length,g);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ee=-1;for(;;){const ft=["count="+g];Ee==-1?g>0?(Ee=U[0].g,ft.push("ofs="+Ee)):Ee=0:ft.push("ofs="+Ee);let Le=!0;for(let it=0;it<g;it++){var q=U[it].g;const xn=U[it].map;if(q-=Ee,q<0)Ee=Math.max(0,U[it].g-100),Le=!1;else try{q="req"+q+"_"||"";try{var ne=xn instanceof Map?xn:Object.entries(xn);for(const[vi,Hn]of ne){let Gn=Hn;y(Hn)&&(Gn=ss(Hn)),ft.push(q+vi+"="+encodeURIComponent(Gn))}}catch(vi){throw ft.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{b&&b(xn)}}if(Le){ne=ft.join("&");break e}}ne=void 0}return u=u.i.splice(0,g),m.G=u,ne}function $l(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||S(),te||(ie(),te=!0),A.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(v(u.Da,u),Wl(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Zl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),fs(this),Zl(this))};function bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Zl(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_t(u.na);qe(m,"RID","rpc"),qe(m,"SID",u.M),qe(m,"AID",u.K),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&qe(m,"TO",u.ia),qe(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=or(_t(m)),g.u=null,g.R=!0,Kr(g,u)}r.Va=function(){this.C!=null&&(this.C=null,fs(this),mr(this),gt(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Jl(u,m){var g=null;if(u.g==m){ia(u),bo(u),u.g=null;var b=2}else if(hi(u.h,m))g=m.G,co(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Yr(),Rt(b,new ii(b,g)),gi(u)}else $l(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&na(u,m)||b==2&&mr(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),U){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Wl(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var g=v(u.bb,u),b=u.Ua;const U=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dt(b,"https"),or(b),U?zn(b.toString(),g):yo(b.toString(),g)}else gt(2);u.I=0,u.l&&u.l.pa(m),eu(u),ta(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const m=ho(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function tu(u,m,g){var b=g instanceof mn?_t(g):new mn(g);if(b.g!="")m&&(b.g=m+"."+b.g),rs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new mn(null);b&&Dt(q,b),m&&(q.g=m),U&&rs(q,U),g&&(q.h=g),b=q}return g=u.G,m=u.wa,g&&m&&qe(b,g,m),qe(b,"VER",u.ka),dr(u,b),b}function nu(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Fe(new di({ab:g})):new Fe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}r=iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new en(u,m)};function en(u,m){pt.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}C(en,pt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Eo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=ss(u),u=g);m.i.push(new vt(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,en.Z.N.call(this)};function su(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(su,Ut);function ru(){bn.call(this),this.status=1}C(ru,bn);function Oi(u){this.g=u}C(Oi,iu),Oi.prototype.ra=function(){Rt(this.g,"a")},Oi.prototype.qa=function(u){Rt(this.g,new su(u))},Oi.prototype.pa=function(u){Rt(this.g,new ru)},Oi.prototype.oa=function(){Rt(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,G_=function(){return new ds},H_=function(){return Yr()},q_=ht,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,vc=rr,ro.COMPLETE="complete",B_=ro,Ll.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pt.prototype.listen=pt.prototype.J,ll=Ll,Fe.prototype.listenOnce=Fe.prototype.K,Fe.prototype.getLastError=Fe.prototype.Ha,Fe.prototype.getLastErrorCode=Fe.prototype.ya,Fe.prototype.getStatus=Fe.prototype.ca,Fe.prototype.getResponseJson=Fe.prototype.La,Fe.prototype.getResponseText=Fe.prototype.la,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Fa,z_=Fe}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",_v="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Kd("@firebase/firestore");function Va(){return Lr.logLevel}function ce(r,...t){if(Lr.logLevel<=Ne.DEBUG){const i=t.map(Jd);Lr.debug(`Firestore (${Za}): ${r}`,...i)}}function jr(r,...t){if(Lr.logLevel<=Ne.ERROR){const i=t.map(Jd);Lr.error(`Firestore (${Za}): ${r}`,...i)}}function Yc(r,...t){if(Lr.logLevel<=Ne.WARN){const i=t.map(Jd);Lr.warn(`Firestore (${Za}): ${r}`,...i)}}function Jd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,F_(r,a,i)}function F_(r,t,i){let a=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw jr(a),new Error(a)}function ct(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||F_(t,l,a)}function Je(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class r1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class a1{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ct(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},y=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new Q_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ct(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class o1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new o1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ct(this.o===void 0,3512);const a=h=>{h.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ct(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=c1(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function ze(r,t){return r<t?-1:r>t?1:0}function Dd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return vd(l)===vd(h)?ze(l,h):vd(l)?1:-1}return ze(r.length,t.length)}const h1=55296,f1=57343;function vd(r){const t=r.charCodeAt(0);return t>=h1&&t<=f1}function Ga(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&we(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&we(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Si.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return ze(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zd.fromString(t.substring(4,t.length-2))}}class ot extends Si{construct(t,i,a){return new ot(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const d1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Si{construct(t,i,a){return new Ft(t,i,a)}static isValidIdentifier(t){return d1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Ft([Tv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(h(),l++)}if(h(),d)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ft(i)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.path=t}static fromPath(t){return new Ae(ot.fromString(t))}static fromName(t){return new Ae(ot.fromString(t).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ot.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ae(new ot(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r,t,i){if(!i)throw new fe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function m1(r,t,i,a){if(t===!0&&a===!0)throw new fe(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function bv(r){if(!Ae.isDocumentKey(r))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Sv(r){if(Ae.isDocumentKey(r))throw new fe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function K_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function em(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Od(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=em(r);throw new fe(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,t){const i={typeString:r};return t&&(i.value=t),i}function wl(r,t){if(!K_(r))throw new fe(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new fe(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,wv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(t){return at.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*wv);return new at(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wl(t,at._jsonSchema))return new at(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:wt("string",at._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(t){return new rt(t)}static min(){return new rt(new at(0,0))}static max(){return new rt(new at(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function p1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=rt.fromTimestamp(a===1e9?new at(i+1,0):new at(i,a));return new Xs(l,Ae.empty(),t)}function g1(r){return new Xs(r.readTime,r.key,yl)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(rt.min(),Ae.empty(),yl)}static max(){return new Xs(rt.max(),Ae.empty(),yl)}}function y1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Ae.comparator(r.documentKey,t.documentKey),i!==0?i:ze(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==v1)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,h=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++h,d&&h===l&&i()}),(_=>a(_)))})),d=!0,h===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const h=t.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((w=>{d[v]=w,++y,y===h&&a(d)}),(w=>l(w)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function E1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function sm(r){return r==null}function Ic(r){return r===0&&1/r==-1/0}function T1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="";function b1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=xv(t)),t=S1(r.get(i),t);return xv(t)}function S1(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case X_:i+="";break;default:i+=h}}return i}function xv(r){return r+X_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ja(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function $_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,i){this.comparator=t,this.root=i||Ht.EMPTY}insert(t,i){return new hn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new hn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Ht.RED,this.left=l??Ht.EMPTY,this.right=h??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Ht(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ht.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw we(27949);return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Ht(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new hn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Yt(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.fields=t,t.sort(Ft.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Yt(Ft.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new A1("Invalid base64 string: "+h):h}})(t);return new xi(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new xi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ze(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const w1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(ct(!!r,39018),typeof r=="string"){let t=0;const i=w1.exec(r);if(ct(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Gt(r.seconds),nanos:Gt(r.nanos)}}function Gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fa(r){return typeof r=="string"?xi.fromBase64String(r):xi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="server_timestamp",J_="__type__",W_="__previous_value__",e0="__local_write_time__";function rm(r){return(r?.mapValue?.fields||{})[J_]?.stringValue===Z_}function am(r){const t=r.mapValue.fields[W_];return rm(t)?am(t):t}function Nc(r){const t=Pr(r.mapValue.fields[e0].timestampValue);return new at(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,i,a,l,h,d,y,_,v,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=w}}const Dc="(default)";class Oc{constructor(t,i){this.projectId=t,this.database=i||Dc}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof Oc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__type__",C1="__max__",fc={mapValue:{}},n0="__vector__",Md="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:I1(r)?9007199254740991:R1(r)?10:11:we(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=zr(r);if(i!==zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nc(r).isEqual(Nc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Pr(l.timestampValue),y=Pr(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Fa(l.bytesValue).isEqual(Fa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return Gt(l.geoPointValue.latitude)===Gt(h.geoPointValue.latitude)&&Gt(l.geoPointValue.longitude)===Gt(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Gt(l.integerValue)===Gt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Gt(l.doubleValue),y=Gt(h.doubleValue);return d===y?Ic(d)===Ic(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return Ga(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},y=h.mapValue.fields||{};if(Cv(d)!==Cv(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ci(d[_],y[_])))return!1;return!0})(r,t);default:return we(52216,{left:r})}}function vl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Qa(r,t){if(r===t)return 0;const i=zr(r),a=zr(t);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const y=Gt(h.integerValue||h.doubleValue),_=Gt(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(r,t);case 3:return Iv(r.timestampValue,t.timestampValue);case 4:return Iv(Nc(r),Nc(t));case 5:return Dd(r.stringValue,t.stringValue);case 6:return(function(h,d){const y=Fa(h),_=Fa(d);return y.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const w=ze(y[v],_[v]);if(w!==0)return w}return ze(y.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const y=ze(Gt(h.latitude),Gt(d.latitude));return y!==0?y:ze(Gt(h.longitude),Gt(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const y=h.fields||{},_=d.fields||{},v=y[Md]?.arrayValue,w=_[Md]?.arrayValue,C=ze(v?.values?.length||0,w?.values?.length||0);return C!==0?C:Nv(v,w)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let C=0;C<_.length&&C<w.length;++C){const L=Dd(_[C],w[C]);if(L!==0)return L;const X=Qa(y[_[C]],v[w[C]]);if(X!==0)return X}return ze(_.length,w.length)})(r.mapValue,t.mapValue);default:throw we(23264,{he:i})}}function Iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ze(r,t);const i=Pr(r),a=Pr(t),l=ze(i.seconds,a.seconds);return l!==0?l:ze(i.nanos,a.nanos)}function Nv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Qa(i[l],a[l]);if(h)return h}return ze(i.length,a.length)}function Ya(r){return kd(r)}function kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Fa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ae.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=kd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${kd(i.fields[d])}`;return l+"}"})(r.mapValue):we(61005,{value:r})}function _c(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=am(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return Fa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+_c(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Ja(a.fields,((h,d)=>{l+=h.length+_c(d)})),l})(r.mapValue);default:throw we(13486,{value:r})}}function Vd(r){return!!r&&"integerValue"in r}function om(r){return!!r&&"arrayValue"in r}function Ec(r){return!!r&&"mapValue"in r}function R1(r){return(r?.mapValue?.fields||{})[t0]?.stringValue===n0}function cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ja(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=cl(r.arrayValue.values[i]);return t}return{...r}}function I1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===C1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ec(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=cl(i)}setAll(t){let i=Ft.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=cl(d):l.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ja(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new $n(cl(this.value))}}function i0(r){const t=[];return Ja(r.fields,((i,a)=>{const l=new Ft([i]);if(Ec(a)){const h=i0(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,i,a,l,h,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Kn(t,0,rt.min(),rt.min(),rt.min(),$n.empty(),0)}static newFoundDocument(t,i,a,l){return new Kn(t,1,i,rt.min(),a,l,0)}static newNoDocument(t,i){return new Kn(t,2,i,rt.min(),rt.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new Kn(t,3,i,rt.min(),rt.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],d=r.position[l];if(h.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function N1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{}class kt extends s0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new O1(t,i,a):i==="array-contains"?new V1(t,a):i==="in"?new U1(t,a):i==="not-in"?new L1(t,a):i==="array-contains-any"?new j1(t,a):new kt(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new M1(t,a):new k1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends s0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $s(t,i)}matches(t){return r0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r0(r){return r.op==="and"}function a0(r){return D1(r)&&r0(r)}function D1(r){for(const t of r.filters)if(t instanceof $s)return!1;return!0}function Ud(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(a0(r))return r.filters.map((t=>Ud(t))).join(",");{const t=r.filters.map((i=>Ud(i))).join(",");return`${r.op}(${t})`}}function o0(r,t){return r instanceof kt?(function(a,l){return l instanceof kt&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof $s?(function(a,l){return l instanceof $s&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,y)=>h&&o0(d,l.filters[y])),!0):!1})(r,t):void we(19439)}function l0(r){return r instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(r):r instanceof $s?(function(i){return i.op.toString()+" {"+i.getFilters().map(l0).join(" ,")+"}"})(r):"Filter"}class O1 extends kt{constructor(t,i,a){super(t,i,a),this.key=Ae.fromName(a.referenceValue)}matches(t){const i=Ae.comparator(t.key,this.key);return this.matchesComparison(i)}}class M1 extends kt{constructor(t,i){super(t,"in",i),this.keys=u0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class k1 extends kt{constructor(t,i){super(t,"not-in",i),this.keys=u0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function u0(r,t){return(t.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class V1 extends kt{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return om(i)&&vl(i.arrayValue,this.value)}}class U1 extends kt{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vl(this.value.arrayValue,i)}}class L1 extends kt{constructor(t,i){super(t,"not-in",i)}matches(t){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vl(this.value.arrayValue,i)}}class j1 extends kt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>vl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,i=null,a=[],l=[],h=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Mv(r,t=null,i=[],a=[],l=null,h=null,d=null){return new P1(r,t,i,a,l,h,d)}function lm(r){const t=Je(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Ud(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),sm(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ya(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ya(a))).join(",")),t.Te=i}return t.Te}function um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!N1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!o0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ov(r.startAt,t.startAt)&&Ov(r.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i=null,a=[],l=[],h=null,d="F",y=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z1(r,t,i,a,l,h,d,y){return new Kc(r,t,i,a,l,h,d,y)}function B1(r){return new Kc(r)}function kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q1(r){return r.collectionGroup!==null}function hl(r){const t=Je(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(Ft.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new kc(h,a))})),i.has(Ft.keyField().canonicalString())||t.Ie.push(new kc(Ft.keyField(),a))}return t.Ie}function kr(r){const t=Je(r);return t.Ee||(t.Ee=H1(t,hl(r))),t.Ee}function H1(r,t){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new kc(l.field,h)}));const i=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ld(r,t,i){return new Kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function c0(r,t){return um(kr(r),kr(t))&&r.limitType===t.limitType}function h0(r){return`${lm(kr(r))}|lt:${r.limitType}`}function ol(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>l0(l))).join(", ")}]`),sm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${a})`})(kr(r))}; limitType=${r.limitType})`}function cm(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ae.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of hl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,_){const v=Dv(d,y,_);return d.inclusive?v<=0:v<0})(a.startAt,hl(a),l)||a.endAt&&!(function(d,y,_){const v=Dv(d,y,_);return d.inclusive?v>=0:v>0})(a.endAt,hl(a),l))})(r,t)}function G1(r){return(t,i)=>{let a=!1;for(const l of hl(r)){const h=F1(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function F1(r,t,i){const a=r.field.isKeyField()?Ae.comparator(t.key,i.key):(function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?Qa(_,v):we(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return $_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new hn(Ae.comparator);function Vc(){return Q1}const f0=new hn(Ae.comparator);function dc(...r){let t=f0;for(const i of r)t=t.insert(i.key,i);return t}function d0(r){let t=f0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Or(){return fl()}function m0(){return fl()}function fl(){return new qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Y1=new hn(Ae.comparator),K1=new Yt(Ae.comparator);function Zt(...r){let t=K1;for(const i of r)t=t.add(i);return t}const X1=new Yt(ze);function $1(){return X1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function p0(r){return{integerValue:""+r}}function Z1(r,t){return T1(t)?p0(t):hm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function J1(r,t,i){return r instanceof _l?(function(l,h){const d={fields:{[J_]:{stringValue:Z_},[e0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&rm(h)&&(h=am(h)),h&&(d.fields[W_]=h),{mapValue:d}})(i,t):r instanceof El?y0(r,t):r instanceof Tl?v0(r,t):(function(l,h){const d=g0(l,h),y=Vv(d)+Vv(l.Ae);return Vd(d)&&Vd(l.Ae)?p0(y):hm(l.serializer,y)})(r,t)}function W1(r,t,i){return r instanceof El?y0(r,t):r instanceof Tl?v0(r,t):i}function g0(r,t){return r instanceof Uc?(function(a){return Vd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class _l extends Xc{}class El extends Xc{constructor(t){super(),this.elements=t}}function y0(r,t){const i=_0(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Tl extends Xc{constructor(t){super(),this.elements=t}}function v0(r,t){let i=_0(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Uc extends Xc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Vv(r){return Gt(r.integerValue||r.doubleValue)}function _0(r){return om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,i){this.field=t,this.transform=i}}function tA(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof El&&l instanceof El||a instanceof Tl&&l instanceof Tl?Ga(a.elements,l.elements,Ci):a instanceof Uc&&l instanceof Uc?Ci(a.Ae,l.Ae):a instanceof _l&&l instanceof _l})(r.transform,t.transform)}class nA{constructor(t,i){this.version=t,this.transformResults=i}}class $i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class $c{}function E0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new b0(r.key,$i.none()):new Cl(r.key,r.data,$i.none());{const i=r.data,a=$n.empty();let l=new Yt(Ft.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new Hr(r.key,a,new Jn(l.toArray()),$i.none())}}function iA(r,t,i){r instanceof Cl?(function(l,h,d){const y=l.value.clone(),_=Lv(l.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof Hr?(function(l,h,d){if(!Tc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Lv(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(T0(l)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function dl(r,t,i,a){return r instanceof Cl?(function(h,d,y,_){if(!Tc(h.precondition,d))return y;const v=h.value.clone(),w=jv(h.fieldTransforms,_,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Hr?(function(h,d,y,_){if(!Tc(h.precondition,d))return y;const v=jv(h.fieldTransforms,_,d),w=d.data;return w.setAll(T0(h)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,t,i,a):(function(h,d,y){return Tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function sA(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=g0(a.transform,l||null);h!=null&&(i===null&&(i=$n.empty()),i.set(a.field,h))}return i||null}function Uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ga(a,l,((h,d)=>tA(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Cl extends $c{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends $c{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function T0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Lv(r,t,i){const a=new Map;ct(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,y=t.data.field(h.field);a.set(h.field,W1(d,y,i[l]))}return a}function jv(r,t,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,J1(h,d,t))}return a}class b0 extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rA extends $c{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&iA(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=m0();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(l.key)?null:y;const _=E0(d,y);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(rt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Zt())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,((i,a)=>Uv(i,a)))&&Ga(this.baseMutations,t.baseMutations,((i,a)=>Uv(i,a)))}}class fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){ct(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Y1})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new fm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Me;function lA(r){switch(r){case W.OK:return we(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function uA(r){if(r===void 0)return jr("GRPC error has no .code"),W.UNKNOWN;switch(r){case At.OK:return W.OK;case At.CANCELLED:return W.CANCELLED;case At.UNKNOWN:return W.UNKNOWN;case At.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case At.INTERNAL:return W.INTERNAL;case At.UNAVAILABLE:return W.UNAVAILABLE;case At.UNAUTHENTICATED:return W.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case At.NOT_FOUND:return W.NOT_FOUND;case At.ALREADY_EXISTS:return W.ALREADY_EXISTS;case At.PERMISSION_DENIED:return W.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case At.ABORTED:return W.ABORTED;case At.OUT_OF_RANGE:return W.OUT_OF_RANGE;case At.UNIMPLEMENTED:return W.UNIMPLEMENTED;case At.DATA_LOSS:return W.DATA_LOSS;default:return we(39323,{code:r})}}(Me=At||(At={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zd([4294967295,4294967295],0);class cA{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jd(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function fA(r,t){return jd(r,t.toTimestamp())}function ja(r){return ct(!!r,49232),rt.fromTimestamp((function(i){const a=Pr(i);return new at(a.seconds,a.nanos)})(r))}function S0(r,t){return Pd(r,t).canonicalString()}function Pd(r,t){const i=(function(l){return new ot(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function dA(r){const t=ot.fromString(r);return ct(TA(t),10190,{key:t.toString()}),t}function zd(r,t){return S0(r.databaseId,t.path)}function mA(r){const t=dA(r);return t.length===4?ot.emptyPath():gA(t)}function pA(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gA(r){return ct(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,t,i){return{name:zd(r,t),fields:i.value.mapValue.fields}}function yA(r,t){let i;if(t instanceof Cl)i={update:Pv(r,t.key,t.value)};else if(t instanceof b0)i={delete:zd(r,t.key)};else if(t instanceof Hr)i={update:Pv(r,t.key,t.data),updateMask:EA(t.fieldMask)};else{if(!(t instanceof rA))return we(16599,{Vt:t.type});i={verify:zd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof _l)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof El)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Tl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw we(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:fA(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:we(27497)})(r,t.precondition)),i}function vA(r,t){return r&&r.length>0?(ct(t!==void 0,14353),r.map((i=>(function(l,h){let d=l.updateTime?ja(l.updateTime):ja(h);return d.isEqual(rt.min())&&(d=ja(h)),new nA(d,l.transformResults||[])})(i,t)))):[]}function _A(r){let t=mA(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ct(a===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let h=[];i.where&&(h=(function(C){const L=A0(C);return L instanceof $s&&a0(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((L=>(function($){return new kc(Ua($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(L)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let L;return L=typeof C=="object"?C.value:C,sm(L)?null:L})(i.limit));let _=null;i.startAt&&(_=(function(C){const L=!!C.before,X=C.values||[];return new Mc(X,L)})(i.startAt));let v=null;return i.endAt&&(v=(function(C){const L=!C.before,X=C.values||[];return new Mc(X,L)})(i.endAt)),z1(t,l,d,h,y,"F",_,v)}function A0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return kt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(i){return kt.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $s.create(i.compositeFilter.filters.map((a=>A0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(r):we(30097,{filter:r})}function Ua(r){return Ft.fromServerFormat(r.fieldPath)}function EA(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function TA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.yt=t}}function SA(r){const t=_A({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.Cn=new wA}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Xs.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class wA{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Yt(ot.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Yt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(w0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LruGarbageCollector",xA=1048576;function qv([r,t],[i,a]){const l=ze(r,i);return l===0?ze(t,a):l}class CA{constructor(t){this.Ir=t,this.buffer=new Yt(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RA{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ce(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?ce(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await tm(i)}await this.Vr(3e5)}))}}class IA{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(nm.ce);const a=new CA(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(zv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,y,_,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(a=C,y=Date.now(),this.removeTargets(t,a,i)))).next((C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((C=>(v=Date.now(),Va()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function NA(r,t){return new IA(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.changes=new qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&dl(a.mutation,l,Jn.empty(),at.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Zt()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=dc();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Or();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let h=Vc();const d=fl(),y=(function(){return fl()})();return i.forEach(((_,v)=>{const w=a.get(v.key);l.has(v.key)&&(w===void 0||w.mutation instanceof Hr)?h=h.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),dl(w.mutation,v,w.mutation.getFieldMask(),at.now())):d.set(v.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,w)=>d.set(v,w))),i.forEach(((v,w)=>y.set(v,new OA(w,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=fl();let l=new hn(((d,y)=>d-y)),h=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let w=a.get(_)||Jn.empty();w=y.applyToLocalView(v,w),a.set(_,w);const C=(l.get(y.batchId)||Zt()).add(_);l=l.insert(y.batchId,C)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,w=_.value,C=m0();w.forEach((L=>{if(!h.has(L)){const X=E0(i.get(L),a.get(L));X!==null&&C.set(L,X),h=h.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,C))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):q1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):Z.resolve(Or());let y=yl,_=h;return d.next((v=>Z.forEach(v,((w,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(t,w).next((L=>{_=_.insert(w,L)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,Zt()))).next((w=>({batchId:y,changes:d0(w)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ae(i)).next((a=>{let l=dc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=dc();return this.indexManager.getCollectionParents(t,h).next((y=>Z.forEach(y,(_=>{const v=(function(C,L){return new Kc(L,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((w=>{w.forEach(((C,L)=>{d=d.insert(C,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((_,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,Kn.newInvalidDocument(w)))}));let y=dc();return d.forEach(((_,v)=>{const w=h.get(_);w!==void 0&&dl(w.mutation,v,Jn.empty(),at.now()),cm(i,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ja(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:SA(l.bundledQuery),readTime:ja(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.overlays=new hn(Ae.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Or();return Z.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.St(t,i,h)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Or(),h=i.length+1,d=new Ae(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new hn(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let w=h.get(v.largestBatchId);w===null&&(w=Or(),h=h.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const y=Or(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,w)=>y.set(v,w))),!(y.size()>=l)););return Z.resolve(y)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new oA(i,a));let h=this.qr.get(i);h===void 0&&(h=Zt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Qr=new Yt(Mt.$r),this.Ur=new Yt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Mt(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Mt(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Ae(new ot([])),a=new Mt(i,t),l=new Mt(i,t+1),h=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Ae(new ot([])),a=new Mt(i,t),l=new Mt(i,t+1);let h=Zt();return this.Ur.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Mt(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Mt{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Ae.comparator(t.key,i.key)||ze(t.Yr,i.Yr)}static Kr(t,i){return ze(t.Yr,i.Yr)||Ae.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Mt.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aA(h,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Mt(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?im:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Mt(i,0),l=new Mt(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Yt(ze);return i.forEach((l=>{const h=new Mt(l,0),d=new Mt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;Ae.isDocumentKey(h)||(h=h.child(""));const d=new Mt(new Ae(h),0);let y=new Yt(ze);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(y=y.add(_.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){ct(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const h=new Mt(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Mt(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t){this.ri=t,this.docs=(function(){return new hn(Ae.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(i))}getEntries(t,i){let a=Vc();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Kn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Vc();const d=i.path,y=new Ae(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||y1(g1(w),a)<=0||(l.has(w.key)||cm(i,w))&&(h=h.insert(w.key,w.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(t,i,a,l){we(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new PA(this)}getSize(t){return Z.resolve(this.size)}}class PA extends DA{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.persistence=t,this.si=new qr((i=>lm(i)),um),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.oi=0,this._i=new dm,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),Z.waitFor(h).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,i){this.ui={},this.overlays={},this.ci=new nm(0),this.li=!1,this.li=!0,this.hi=new UA,this.referenceDelegate=t(this),this.Pi=new zA(this),this.indexManager=new AA,this.remoteDocumentCache=(function(l){return new jA(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new bA(i),this.Ii=new kA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new VA,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new LA(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ce("MemoryPersistence","Starting transaction:",t);const l=new BA(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class BA extends _1{constructor(t){super(),this.currentSequenceNumber=t}}class mm{constructor(t){this.persistence=t,this.Ri=new dm,this.Vi=null}static mi(t){return new mm(t)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=Ae.fromPath(a);return this.gi(t,l).next((h=>{h||i.removeEntry(l,rt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Lc{constructor(t,i){this.persistence=t,this.pi=new qr((a=>b1(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=NA(this,i)}static mi(t,i){return new Lc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,h.removeEntry(d,rt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Zt(),l=Zt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new pm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zb()?8:E1(Jt())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new qA;return this.Ss(t,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>h.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Va()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ol(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Va()<=Ne.DEBUG&&ce("QueryEngine","Query:",ol(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Va()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ol(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kr(i))):Z.resolve())}ys(t,i){if(kv(i))return Z.resolve(null);let a=kr(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Ld(i,null,"F"),a=kr(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Zt(...h);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.Ds(i,y);return this.Cs(i,v,d,_.readTime)?this.ys(t,Ld(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,a,l){return kv(i)||l.isEqual(rt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?Z.resolve(null):(Va()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ol(i)),this.vs(t,d,i,p1(l,yl)).next((y=>y)))}))}Ds(t,i){let a=new Yt(G1(t));return i.forEach(((l,h)=>{cm(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return Va()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ol(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="LocalStore";class FA{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new hn(ze),this.xs=new qr((h=>lm(h)),um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function QA(r,t,i,a){return new FA(r,t,i,a)}async function C0(r,t){const i=Je(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let _=Zt();for(const v of l){d.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of h){y.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function YA(r,t){const i=Je(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,v,w){const C=v.batch,L=C.keys();let X=Z.resolve();return L.forEach(($=>{X=X.next((()=>w.getEntry(_,$))).next((ee=>{const J=v.docVersions.get($);ct(J!==null,48541),ee.version.compareTo(J)<0&&(C.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),w.addEntry(ee)))}))})),X.next((()=>y.mutationQueue.removeMutationBatch(_,C)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let _=Zt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function KA(r){const t=Je(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function XA(r,t){const i=Je(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}class Hv{constructor(){this.activeTargetIds=$1()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $A{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ce(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Bd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",JA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WA{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Dc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=Bd(),y=this.zo(t,i.toUriEncodedString());ce(_d,`Sending RPC '${t}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,h);const{host:v}=new URL(y),w=Xa(v);return this.Jo(t,y,_,a,w).then((C=>(ce(_d,`Received RPC '${t}' ${d}: `,C),C)),(C=>{throw Yc(_d,`RPC '${t}' ${d} failed with error: `,C,"url: ",y,"request:",a),C}))}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const a=JA[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class tw extends WA{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=Bd();return new Promise(((y,_)=>{const v=new z_;v.setWithCredentials(!0),v.listenOnce(B_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case vc.NO_ERROR:const C=v.getResponseJson();ce(Xt,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),y(C);break;case vc.TIMEOUT:ce(Xt,`RPC '${t}' ${d} timed out`),_(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const L=v.getStatus();if(ce(Xt,`RPC '${t}' ${d} failed with status:`,L,"response text:",v.getResponseText()),L>0){let X=v.getResponseJson();Array.isArray(X)&&(X=X[0]);const $=X?.error;if($&&$.status&&$.message){const ee=(function(le){const pe=le.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(pe)>=0?pe:W.UNKNOWN})($.status);_(new fe(ee,$.message))}else _(new fe(W.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new fe(W.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Xt,`RPC '${t}' ${d} completed.`)}}));const w=JSON.stringify(l);ce(Xt,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",w,a,15)}))}T_(t,i,a){const l=Bd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=G_(),y=H_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const w=h.join("");ce(Xt,`Creating RPC '${t}' stream ${l}: ${w}`,_);const C=d.createWebChannel(w,_);this.I_(C);let L=!1,X=!1;const $=new ew({Yo:J=>{X?ce(Xt,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(L||(ce(Xt,`Opening RPC '${t}' stream ${l} transport.`),C.open(),L=!0),ce(Xt,`RPC '${t}' stream ${l} sending:`,J),C.send(J))},Zo:()=>C.close()}),ee=(J,le,pe)=>{J.listen(le,(ge=>{try{pe(ge)}catch(Pe){setTimeout((()=>{throw Pe}),0)}}))};return ee(C,ll.EventType.OPEN,(()=>{X||(ce(Xt,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),ee(C,ll.EventType.CLOSE,(()=>{X||(X=!0,ce(Xt,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(C))})),ee(C,ll.EventType.ERROR,(J=>{X||(X=!0,Yc(Xt,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new fe(W.UNAVAILABLE,"The operation could not be completed")))})),ee(C,ll.EventType.MESSAGE,(J=>{if(!X){const le=J.data[0];ct(!!le,16349);const pe=le,ge=pe?.error||pe[0]?.error;if(ge){ce(Xt,`RPC '${t}' stream ${l} received error:`,ge);const Pe=ge.status;let ie=(function(S){const x=At[S];if(x!==void 0)return uA(x)})(Pe),te=ge.message;ie===void 0&&(ie=W.INTERNAL,te="Unknown error status: "+Pe+" with message "+ge.message),X=!0,$.a_(new fe(ie,te)),C.close()}else ce(Xt,`RPC '${t}' stream ${l} received:`,le),$.u_(le)}})),ee(y,q_.STAT_EVENT,(J=>{J.stat===Nd.PROXY?ce(Xt,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Nd.NOPROXY&&ce(Xt,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r){return new cA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class nw{constructor(t,i,a,l,h,d,y,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(jr(i.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new fe(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ce(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ce(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iw extends nw{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ct(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ct(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ct(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=vA(t.writeResults,t.commitTime),a=ja(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pA(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>yA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{}class rw extends sw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Pd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(W.UNKNOWN,h.toString())}))}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,Pd(i,a),l,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class ow{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Nl(this)&&(ce(Rl,"Restarting streams for network reachability change."),await(async function(_){const v=Je(_);v.Ea.add(4),await Il(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Jc(v)})(this))}))})),this.Ra=new aw(a,l)}}async function Jc(r){if(Nl(r))for(const t of r.da)await t(!0)}async function Il(r){for(const t of r.da)await t(!1)}function Nl(r){return Je(r).Ea.size===0}async function I0(r,t,i){if(!xl(t))throw t;r.Ea.add(1),await Il(r),r.Ra.set("Offline"),i||(i=()=>KA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Rl,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Jc(r)}))}function N0(r,t){return t().catch((i=>I0(r,i,t)))}async function Wc(r){const t=Je(r),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:im;for(;lw(t);)try{const l=await XA(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,uw(t,l)}catch(l){await I0(t,l)}D0(t)&&O0(t)}function lw(r){return Nl(r)&&r.Ta.length<10}function uw(r,t){r.Ta.push(t);const i=Zs(r);i.O_()&&i.X_&&i.ea(t.mutations)}function D0(r){return Nl(r)&&!Zs(r).x_()&&r.Ta.length>0}function O0(r){Zs(r).start()}async function cw(r){Zs(r).ra()}async function hw(r){const t=Zs(r);for(const i of r.Ta)t.ea(i.mutations)}async function fw(r,t,i){const a=r.Ta.shift(),l=fm.from(a,t,i);await N0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Wc(r)}async function dw(r,t){t&&Zs(r).X_&&await(async function(a,l){if((function(d){return lA(d)&&d!==W.ABORTED})(l.code)){const h=a.Ta.shift();Zs(a).B_(),await N0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Wc(a)}})(r,t),D0(r)&&O0(r)}async function Yv(r,t){const i=Je(r);i.asyncQueue.verifyOperationInProgress(),ce(Rl,"RemoteStore received new credentials");const a=Nl(i);i.Ea.add(3),await Il(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Jc(i)}async function mw(r,t){const i=Je(r);t?(i.Ea.delete(2),await Jc(i)):t||(i.Ea.add(2),await Il(i),i.Ra.set("Unknown"))}function Zs(r){return r.fa||(r.fa=(function(i,a,l){const h=Je(i);return h.sa(),new iw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cw.bind(null,r),r_:dw.bind(null,r),ta:hw.bind(null,r),na:fw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Wc(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Rl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,y=new gm(t,i,d,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M0(r,t){if(jr("AsyncQueue",`${t}: ${r}`),xl(r))return new fe(W.UNAVAILABLE,`${t}: ${r}`);throw r}class pw{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Je(i),h=l.queries;l.queries=Kv(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(a)}))})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function Kv(){return new qr((r=>h0(r)),c0)}function gw(r){r.Ca.forEach((t=>{t.next()}))}var Xv,$v;($v=Xv||(Xv={})).Ma="default",$v.Cache="cache";const yw="SyncEngine";class vw{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qr((y=>h0(y)),c0),this.Iu=new Map,this.Eu=new Set,this.du=new hn(Ae.comparator),this.Au=new Map,this.Ru=new dm,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _w(r,t,i){const a=Sw(r);try{const l=await(function(d,y){const _=Je(d),v=at.now(),w=y.reduce(((X,$)=>X.add($.key)),Zt());let C,L;return _.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let $=Vc(),ee=Zt();return _.Ns.getEntries(X,w).next((J=>{$=J,$.forEach(((le,pe)=>{pe.isValidDocument()||(ee=ee.add(le))}))})).next((()=>_.localDocuments.getOverlayedDocuments(X,$))).next((J=>{C=J;const le=[];for(const pe of y){const ge=sA(pe,C.get(pe.key).overlayedDocument);ge!=null&&le.push(new Hr(pe.key,ge,i0(ge.value.mapValue),$i.exists(!0)))}return _.mutationQueue.addMutationBatch(X,v,le,y)})).next((J=>{L=J;const le=J.applyToLocalDocumentSet(C,ee);return _.documentOverlayCache.saveOverlays(X,J.batchId,le)}))})).then((()=>({batchId:L.batchId,changes:d0(C)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new hn(ze)),v=v.insert(y,_),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await eh(a,l.changes),await Wc(a.remoteStore)}catch(l){const h=M0(l,"Failed to persist write");i.reject(h)}}function Zv(r,t,i){const a=Je(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const _=Je(d);_.onlineState=y;let v=!1;_.queries.forEach(((w,C)=>{for(const L of C.Sa)L.va(y)&&(v=!0)})),v&&gw(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Ew(r,t){const i=Je(r),a=t.batch.batchId;try{const l=await YA(i.localStore,t);V0(i,a,null),k0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eh(i,l)}catch(l){await tm(l)}}async function Tw(r,t,i){const a=Je(r);try{const l=await(function(d,y){const _=Je(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return _.mutationQueue.lookupMutationBatch(v,y).next((C=>(ct(C!==null,37113),w=C.keys(),_.mutationQueue.removeMutationBatch(v,C)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,w,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>_.localDocuments.getDocuments(v,w)))}))})(a.localStore,t);V0(a,t,i),k0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eh(a,l)}catch(l){await tm(l)}}function k0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function V0(r,t,i){const a=Je(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}async function eh(r,t,i){const a=Je(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const w=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(v){l.push(v);const w=pm.As(_.targetId,v);h.push(w)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,v){const w=Je(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Z.forEach(v,(L=>Z.forEach(L.Es,(X=>w.persistence.referenceDelegate.addReference(C,L.targetId,X))).next((()=>Z.forEach(L.ds,(X=>w.persistence.referenceDelegate.removeReference(C,L.targetId,X)))))))))}catch(C){if(!xl(C))throw C;ce(GA,"Failed to update sequence numbers: "+C)}for(const C of v){const L=C.targetId;if(!C.fromCache){const X=w.Ms.get(L),$=X.snapshotVersion,ee=X.withLastLimboFreeSnapshotVersion($);w.Ms=w.Ms.insert(L,ee)}}})(a.localStore,h))}async function bw(r,t){const i=Je(r);if(!i.currentUser.isEqual(t)){ce(yw,"User change. New user:",t.toKey());const a=await C0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new fe(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eh(i,a.Ls)}}function Sw(r){const t=Je(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ew.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tw.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return QA(this.persistence,new HA,t.initialUser,this.serializer)}Cu(t){return new x0(mm.mi,this.serializer)}Du(t){return new $A}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class Aw extends jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ct(this.persistence.referenceDelegate instanceof Lc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new RA(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new x0((a=>Lc.mi(a,i)),this.serializer)}}class qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bw.bind(null,this.syncEngine),await mw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pw})()}createDatastore(t){const i=Zc(t.databaseInfo.databaseId),a=(function(h){return new tw(h)})(t.databaseInfo);return(function(h,d,y,_){return new rw(h,d,y,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,y){return new ow(a,l,h,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Fv.v()?new Fv:new ZA})())}createSyncEngine(t,i){return(function(l,h,d,y,_,v,w){const C=new vw(l,h,d,y,_,v);return w&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Je(i);ce(Rl,"RemoteStore shutting down."),a.Ea.add(5),await Il(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class ww{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ce(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=M0(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Td(r,t){r.asyncQueue.verifyOperationInProgress(),ce(Js,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await C0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Jv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await xw(r);ce(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function xw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Js,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Yc("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new jc)}}else ce(Js,"Using default OfflineComponentProvider"),await Td(r,new Aw(void 0));return r._offlineComponents}async function Cw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Js,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(ce(Js,"Using default OnlineComponentProvider"),await Jv(r,new qd))),r._onlineComponents}function Rw(r){return Cw(r).then((t=>t.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firestore.googleapis.com",e_=!0;class t_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L0,this.ssl=e_}else this.host=t.host,this.ssl=t.ssl??e_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xA)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}m1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new s1;switch(a.type){case"firstParty":return new l1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Wv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Wv.delete(i),a.terminate())})(this),Promise.resolve()}}function Iw(r,t,i,a={}){r=Od(r,th);const l=Xa(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;l&&(O_(`https://${y}`),M_("Firestore",!0)),h.host!==L0&&h.host!==y&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:l,emulatorOptions:a};if(!Vr(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,w;if(typeof a.mockUserToken=="string")v=a.mockUserToken,w=$t.MOCK_USER;else{v=Db(a.mockUserToken,r._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $t(C)}r._authCredentials=new r1(new Q_(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ym(this.firestore,t,this._query)}}class Qt{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qt(this.firestore,t,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(wl(i,Qt._jsonSchema))return new Qt(t,a||null,new Ae(ot.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:wt("string",Qt._jsonSchemaVersion),referencePath:wt("string")};class Fs extends ym{constructor(t,i,a){super(t,i,B1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qt(this.firestore,null,new Ae(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function Nw(r,t,...i){if(r=ei(r),Y_("collection","path",t),r instanceof th){const a=ot.fromString(t,...i);return Sv(a),new Fs(r,null,a)}{if(!(r instanceof Qt||r instanceof Fs))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return Sv(a),new Fs(r.firestore,null,a)}}function Dw(r,t,...i){if(r=ei(r),arguments.length===1&&(t=Wd.newId()),Y_("doc","path",t),r instanceof th){const a=ot.fromString(t,...i);return bv(a),new Qt(r,null,new Ae(a))}{if(!(r instanceof Qt||r instanceof Fs))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ot.fromString(t,...i));return bv(a),new Qt(r.firestore,r instanceof Fs?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class i_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R0(this,"async_queue_retry"),this._c=()=>{const a=Ed();a&&ce(n_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xl(t))throw t;ce(n_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",s_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=gm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:s_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function s_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class j0 extends th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new i_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new i_(t),this._firestoreClient=void 0,await t}}}function Ow(r,t){const i=typeof r=="object"?r:L_(),a=typeof r=="string"?r:Dc,l=$d(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=Ib("firestore");h&&Iw(l,...h)}return l}function Mw(r){if(r._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kw(r),r._firestoreClient}function kw(r){const t=r._freezeSettings(),i=(function(l,h,d,y){return new x1(l,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,U0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new ww(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(xi.fromBase64String(t))}catch(i){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(xi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wl(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:wt("string",Zn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ze(this._lat,t._lat)||ze(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(t){if(wl(t,Zi._jsonSchema))return new Zi(t.latitude,t.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:wt("string",Zi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wl(t,Ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ji(t.vectorValues);throw new fe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:wt("string",Ji._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=/^__.*__$/;class Uw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Cl(t,this.data,i,this.fieldTransforms)}}function P0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class Em{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Em({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(P0(this.Ac)&&Vw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Lw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Zc(t)}Cc(t,i,a,l=!1){return new Em({Ac:t,methodName:i,Dc:a,path:Ft.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jw(r){const t=r._freezeSettings(),i=Zc(r._databaseId);return new Lw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function Pw(r,t,i,a,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,t,i,l);H0("Data must be an object, but it was:",d,a);const y=B0(a,d);let _,v;if(h.merge)_=new Jn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const w=[];for(const C of h.mergeFields){const L=zw(t,C,i);if(!d.contains(L))throw new fe(W.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);qw(w,L)||w.push(L)}_=new Jn(w),v=d.fieldTransforms.filter((C=>_.covers(C.field)))}else _=null,v=d.fieldTransforms;return new Uw(new $n(y),_,v)}class Tm extends _m{_toFieldTransform(t){return new eA(t.path,new _l)}isEqual(t){return t instanceof Tm}}function z0(r,t){if(q0(r=ei(r)))return H0("Unsupported field value:",t,r),B0(r,t);if(r instanceof _m)return(function(a,l){if(!P0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const y of a){let _=z0(y,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=ei(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=at.fromDate(a);return{timestampValue:jd(l.serializer,h)}}if(a instanceof at){const h=new at(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jd(l.serializer,h)}}if(a instanceof Zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:hA(l.serializer,a._byteString)};if(a instanceof Qt){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:S0(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ji)return(function(d,y){return{mapValue:{fields:{[t0]:{stringValue:n0},[Md]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return hm(y.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${em(a)}`)})(r,t)}function B0(r,t){const i={};return $_(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(r,((a,l)=>{const h=z0(l,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Zi||r instanceof Zn||r instanceof Qt||r instanceof _m||r instanceof Ji)}function H0(r,t,i){if(!q0(i)||!K_(i)){const a=em(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function zw(r,t,i){if((t=ei(t))instanceof vm)return t._internalPath;if(typeof t=="string")return G0(r,t);throw Pc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Bw=new RegExp("[~\\*/\\[\\]]");function G0(r,t,i){if(t.search(Bw)>=0)throw Pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vm(...t.split("."))._internalPath}catch{throw Pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Pc(r,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new fe(W.INVALID_ARGUMENT,y+r+_)}function qw(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Hw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Q0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Hw extends F0{data(){return super.data()}}function Q0(r,t){return typeof t=="string"?G0(r,t):t instanceof vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pa extends F0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Q0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:wt("string",Pa._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class bc extends Pa{data(t={}){return super.data(t)}}class ml{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new bc(this._firestore,this._userDataWriter,a.key,a,new pc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const _=new bc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new bc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,w=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:Fw(y.type),doc:_,oldIndex:v,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Fw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:wt("string",ml._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};function Qw(r,t,i){r=Od(r,Qt);const a=Od(r.firestore,j0),l=Gw(r.converter,t);return Yw(a,[Pw(jw(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,$i.none())])}function Yw(r,t){return(function(a,l){const h=new Mr;return a.asyncQueue.enqueueAndForget((async()=>_w(await Rw(a),l,h))),h.promise})(Mw(r),t)}function Kw(){return new Tm("serverTimestamp")}(function(t,i=!0){(function(l){Za=l})($a),Ha(new Ur("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new j0(new a1(a.getProvider("auth-internal")),new u1(d,a.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(v.options.projectId,w)})(d,l),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Gs(vv,_v,t),Gs(vv,_v,"esm2020")})();var Xw="firebase",$w="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(Xw,$w,"app");function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zw=Y0,K0=new Sl("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Kd("@firebase/auth");function Jw(r,...t){zc.logLevel<=Ne.WARN&&zc.warn(`Auth (${$a}): ${r}`,...t)}function Sc(r,...t){zc.logLevel<=Ne.ERROR&&zc.error(`Auth (${$a}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,...t){throw bm(r,...t)}function Ai(r,...t){return bm(r,...t)}function X0(r,t,i){const a={...Zw(),[t]:i};return new Sl("auth","Firebase",a).create(t,{appName:r.name})}function Qs(r){return X0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return K0.create(r,...t)}function ye(r,t,...i){if(!r)throw bm(t,...i)}function Ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function ts(r,t){r||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return typeof self<"u"&&self.location?.href||""}function Ww(){return r_()==="http:"||r_()==="https:"}function r_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ww()||Lb()||"connection"in navigator)?navigator.onLine:!0}function t2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=kb()||jb()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new Dl(3e4,6e4);function nh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Wa(r,t,i,a,l={}){return Z0(r,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const y=Al({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:_,...h};return Ub()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(v.credentials="include"),$0.fetch()(await W0(r,r.config.apiHost,i,y),v)})}async function Z0(r,t,i){r._canInitEmulator=!1;const a={...n2,...t};try{const l=new r2(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[_,v]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw gc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw gc(r,"user-disabled",d);const w=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw X0(r,w,v);es(r,w)}}catch(l){if(l instanceof ns)throw l;es(r,"network-request-failed",{message:String(l)})}}async function J0(r,t,i,a,l={}){const h=await Wa(r,t,i,a,l);return"mfaPendingCredential"in h&&es(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function W0(r,t,i,a){const l=`${t}${i}?${a}`,h=r,d=h.config.emulator?Sm(r.config,l):`${r.config.apiScheme}://${l}`;return i2.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class r2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),s2.get())})}}function gc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,t){return Wa(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return Wa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o2(r,t=!1){const i=ei(r),a=await i.getIdToken(t),l=Am(a);ye(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:pl(bd(l.auth_time)),issuedAtTime:pl(bd(l.iat)),expirationTime:pl(bd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function bd(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=R_(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function a_(r){const t=Am(r);return ye(t,"internal-error"),ye(typeof t.exp<"u","internal-error"),ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&l2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function l2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){const t=r.auth,i=await r.getIdToken(),a=await bl(r,Bc(t,{idToken:i}));ye(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?eE(l.providerUserInfo):[],d=h2(r.providerData,h),y=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,v=y?_:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function c2(r){const t=ei(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function h2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function eE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,t){const i=await Z0(r,{},async()=>{const a=Al({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await W0(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(_.credentials="include"),$0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function d2(r,t){return Wa(r,"POST","/v2/accounts:revokeToken",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ye(t.idToken,"internal-error"),ye(typeof t.idToken<"u","internal-error"),ye(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):a_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ye(t.length!==0,"internal-error");const i=a_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await f2(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new za;return a&&(ye(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(ye(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(ye(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(r,t){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await bl(this,this.stsTokenManager.getToken(this.auth,t));return ye(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return o2(this,t)}reload(){return c2(this)}_assign(t){this!==t&&(ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await bl(this,a2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:C,emailVerified:L,isAnonymous:X,providerData:$,stsTokenManager:ee}=i;ye(C&&ee,t,"internal-error");const J=za.fromJSON(this.name,ee);ye(typeof C=="string",t,"internal-error"),Us(a,t.name),Us(l,t.name),ye(typeof L=="boolean",t,"internal-error"),ye(typeof X=="boolean",t,"internal-error"),Us(h,t.name),Us(d,t.name),Us(y,t.name),Us(_,t.name),Us(v,t.name),Us(w,t.name);const le=new Wn({uid:C,auth:t,email:l,emailVerified:L,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:J,createdAt:v,lastLoginAt:w});return $&&Array.isArray($)&&(le.providerData=$.map(pe=>({...pe}))),_&&(le._redirectEventId=_),le}static async _fromIdTokenResponse(t,i,a=!1){const l=new za;l.updateFromServerResponse(i);const h=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await qc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];ye(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?eE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new za;y.updateFromIdToken(a);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;function Xi(r){ts(r instanceof Function,"Expected a class definition");let t=o_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,o_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}tE.type="NONE";const l_=tE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r,t,i){return`firebase:${r}:${t}:${i}`}class Ba{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ac("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ba(Xi(l_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Xi(l_);const d=Ac(a,t.config.apiKey,t.name);let y=null;for(const v of i)try{const w=await v._get(d);if(w){let C;if(typeof w=="string"){const L=await Bc(t,{idToken:w}).catch(()=>{});if(!L)break;C=await Wn._fromGetAccountInfoResponse(t,L,w)}else C=Wn._fromJSON(t,w);v!==h&&(y=C),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ba(h,t,a):(h=_[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ba(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oE(t))return"Blackberry";if(lE(t))return"Webos";if(iE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(aE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function nE(r=Jt()){return/firefox\//i.test(r)}function iE(r=Jt()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(r=Jt()){return/crios\//i.test(r)}function rE(r=Jt()){return/iemobile/i.test(r)}function aE(r=Jt()){return/android/i.test(r)}function oE(r=Jt()){return/blackberry/i.test(r)}function lE(r=Jt()){return/webos/i.test(r)}function wm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function m2(r=Jt()){return wm(r)&&!!window.navigator?.standalone}function p2(){return Pb()&&document.documentMode===10}function uE(r=Jt()){return wm(r)||aE(r)||lE(r)||oE(r)||/windows phone/i.test(r)||rE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r,t=[]){let i;switch(r){case"Browser":i=u_(Jt());break;case"Worker":i=`${u_(Jt())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,y)=>{try{const _=t(h);d(_)}catch(_){y(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,t={}){return Wa(r,"GET","/v2/passwordPolicy",nh(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=6;class _2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??v2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new g2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=t2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Qs(this));const i=t?ei(t):null;return i&&ye(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await y2(this),i=new _2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await d2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;ye(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Jw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(r){return ei(r)}class c_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yb(i=>this.observer=i)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(r){xm=r}function b2(r){return xm.loadJS(r)}function S2(){return xm.gapiScript}function A2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,t){const i=$d(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Vr(h,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function x2(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function C2(r,t,i){const a=ih(r);ye(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=hE(t),{host:d,port:y}=R2(t),_=y===null?"":`:${y}`,v={url:`${h}//${d}${_}/`},w=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ye(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ye(Vr(v,a.config.emulator)&&Vr(w,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=w,a.settings.appVerificationDisabledForTesting=!0,Xa(d)?(O_(`${h}//${d}${_}`),M_("Auth",!0)):I2()}function hE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function R2(r){const t=hE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:h_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:h_(d)}}}function h_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function I2(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,t){return J0(r,"POST","/v1/accounts:signInWithIdp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="http://localhost";class Br extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:N2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Al(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Ol{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ol{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Ol{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(r,t){return J0(r,"POST","/v1/accounts:signUp",nh(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Wn._fromIdTokenResponse(t,a,l),d=f_(a);return new Ws({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=f_(a);return new Ws({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function f_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r){if(Xn(r.app))return Promise.reject(Qs(r));const t=ih(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await D2(t,{returnSecureToken:!0}),a=await Ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Hc(t,i,a,l)}}function mE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,h,t,a):h})}async function M2(r,t,i=!1){const a=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ws._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Qs(a));const l="reauthenticate";try{const h=await bl(r,mE(a,l,t,r),i);ye(h.idToken,a,"internal-error");const d=Am(h.idToken);ye(d,a,"internal-error");const{sub:y}=d;return ye(r.uid===y,a,"user-mismatch"),Ws._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&es(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,t,i=!1){if(Xn(r.app))return Promise.reject(Qs(r));const a="signIn",l=await mE(r,a,t),h=await Ws._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}function U2(r,t,i,a){return ei(r).onIdTokenChanged(t,i,a)}function L2(r,t,i){return ei(r).beforeAuthStateChanged(t,i)}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1e3,P2=10;class gE extends pE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);p2()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,P2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},j2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}gE.type="LOCAL";const z2=gE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends pE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}yE.type="SESSION";const vE=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async v=>v(i.origin,h)),_=await B2(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,_)=>{const v=Cm("",20);l.port1.start();const w=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(C){const L=C;if(L.data.eventId===v)switch(L.data.status){case"ack":clearTimeout(w),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(L.data.response);break;default:clearTimeout(w),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function H2(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function G2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function Q2(){return _E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebaseLocalStorageDb",Y2=1,Fc="firebaseLocalStorage",TE="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function K2(){const r=indexedDB.deleteDatabase(EE);return new Ml(r).toPromise()}function Fd(){const r=indexedDB.open(EE,Y2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:TE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await K2(),t(await Fd()))})})}async function d_(r,t,i){const a=rh(r,!0).put({[TE]:t,value:i});return new Ml(a).toPromise()}async function X2(r,t){const i=rh(r,!1).get(t),a=await new Ml(i).toPromise();return a===void 0?null:a.value}function m_(r,t){const i=rh(r,!0).delete(t);return new Ml(i).toPromise()}const $2=800,Z2=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Z2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Q2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await G2(),!this.activeServiceWorker)return;this.sender=new q2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await d_(t,Gc,"1"),await m_(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>d_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>X2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>m_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=rh(l,!1).getAll();return new Ml(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const J2=bE;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r,t){return t?Xi(t):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends fE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ex(r){return V2(r.auth,new Rm(r),r.bypassAuthState)}function tx(r){const{auth:t,user:i}=r;return ye(i,t,"internal-error"),k2(i,new Rm(r),r.bypassAuthState)}async function nx(r){const{auth:t,user:i}=r;return ye(i,t,"internal-error"),M2(i,new Rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:es(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Dl(2e3,1e4);class La extends SE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ye(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ix.get())};t()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="pendingRedirect",wc=new Map;class rx extends SE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await ax(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ax(r,t){const i=ux(t),a=lx(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ox(r,t){wc.set(r._key(),t)}function lx(r){return Xi(r._redirectPersistence)}function ux(r){return Ac(sx,r.config.apiKey,r.name)}async function cx(r,t,i=!1){if(Xn(r.app))return Promise.reject(Qs(r));const a=ih(r),l=W2(a,t),d=await new rx(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=600*1e3;class fx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!AE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(t))}saveEventToCache(t){this.cachedEventUids.add(p_(t)),this.lastProcessedEventTime=Date.now()}}function p_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function AE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(r,t={}){return Wa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function yx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mx(r);for(const i of t)try{if(vx(i))return}catch{}es(r,"unauthorized-domain")}function vx(r){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gx.test(i))return!1;if(px.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Dl(3e4,6e4);function g_(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ex(r){return new Promise((t,i)=>{function a(){g_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g_(),i(Ai(r,"network-request-failed"))},timeout:_x.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=A2("iframefcb");return wi()[l]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},b2(`${S2()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw xc=null,t})}let xc=null;function Tx(r){return xc=xc||Ex(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Dl(5e3,15e3),Sx="__/auth/iframe",Ax="emulator/auth/iframe",wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cx(r){const t=r.config;ye(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Sm(t,Ax):`https://${r.config.authDomain}/${Sx}`,a={apiKey:t.apiKey,appName:r.name,v:$a},l=xx.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Al(a).slice(1)}`}async function Rx(r){const t=await Tx(r),i=wi().gapi;return ye(i,r,"internal-error"),t.open({where:document.body,url:Cx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wx,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),y=wi().setTimeout(()=>{h(d)},bx.get());function _(){wi().clearTimeout(y),l(a)}a.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nx=500,Dx=600,Ox="_blank",Mx="http://localhost";class y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kx(r,t,i,a=Nx,l=Dx){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _={...Ix,width:a.toString(),height:l.toString(),top:h,left:d},v=Jt().toLowerCase();i&&(y=sE(v)?Ox:i),nE(v)&&(t=t||Mx,_.scrollbars="yes");const w=Object.entries(_).reduce((L,[X,$])=>`${L}${X}=${$},`,"");if(m2(v)&&y!=="_self")return Vx(t||"",y),new y_(null);const C=window.open(t||"",y,w);ye(C,r,"popup-blocked");try{C.focus()}catch{}return new y_(C)}function Vx(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="__/auth/handler",Lx="emulator/auth/handler",jx=encodeURIComponent("fac");async function v_(r,t,i,a,l,h){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof dE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Qb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,C]of Object.entries({}))d[w]=C}if(t instanceof Ol){const w=t.getScopes().filter(C=>C!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const _=await r._getAppCheckToken(),v=_?`#${jx}=${encodeURIComponent(_)}`:"";return`${Px(r)}?${Al(y).slice(1)}${v}`}function Px({config:r}){return r.emulator?Sm(r,Lx):`https://${r.authDomain}/${Ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=cx,this._overrideRedirectResult=ox}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await v_(t,i,a,Hd(),l);return kx(t,h,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await v_(t,i,a,Hd(),l);return H2(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(ts(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Rx(t),a=new fx(t);return i.register("authEvent",l=>(ye(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Sd,{type:Sd},l=>{const h=l?.[0]?.[Sd];h!==void 0&&i(!!h),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return uE()||iE()||wm()}}const Bx=zx;var __="@firebase/auth",E_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gx(r){Ha(new Ur("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(r)},v=new E2(a,l,h,_);return x2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ha(new Ur("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new qx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(__,E_,Hx(r)),Gs(__,E_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=300,Qx=D_("authIdTokenMaxAge")||Fx;let T_=null;const Yx=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Qx)return;const l=i?.token;T_!==l&&(T_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Kx(r=L_()){const t=$d(r,"auth");if(t.isInitialized())return t.getImmediate();const i=w2(r,{popupRedirectResolver:Bx,persistence:[J2,z2,vE]}),a=D_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Yx(h.toString());L2(i,d,()=>d(i.currentUser)),U2(i,y=>d(y))}}const l=I_("auth");return l&&C2(i,`http://${l}`),i}function Xx(){return document.getElementsByTagName("head")?.[0]??document}T2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Ai("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",Xx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gx("Browser");const $x={apiKey:"AIzaSyD3uhzlt8xEAreucraxJS3nsx__a4d-tq8",authDomain:"wtp-survey-production.firebaseapp.com",projectId:"wtp-survey-production",storageBucket:"wtp-survey-production.firebasestorage.app",messagingSenderId:"1050941271087",appId:"1:1050941271087:web:dd807bc5973a6c0f57aada"},wE=U_($x),Zx=Ow(wE),Jx=Kx(wE);O2(Jx).catch(r=>{console.error("Anonymous auth error:",r)});const xE="v0.4",yc=()=>{let r=localStorage.getItem("deviceId");return r||(r=`device-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("deviceId",r)),r},Wx=async r=>{try{const t=Dw(Nw(Zx,"surveys"),r.id),i={...r.surveyData,surveyId:r.id,deviceId:r.deviceId,syncedAt:Kw(),version:xE,startedAt:new Date(r.surveyData.startedAt),completedAt:r.surveyData.completedAt?new Date(r.surveyData.completedAt):null};await Qw(t,i),console.log(`Successfully synced survey ${r.id} to Firebase`)}catch(t){throw console.error(`Error syncing survey ${r.id}:`,t),t}},qt=[];for(let r=0;r<256;++r)qt.push((r+256).toString(16).slice(1));function eC(r,t=0){return(qt[r[t+0]]+qt[r[t+1]]+qt[r[t+2]]+qt[r[t+3]]+"-"+qt[r[t+4]]+qt[r[t+5]]+"-"+qt[r[t+6]]+qt[r[t+7]]+"-"+qt[r[t+8]]+qt[r[t+9]]+"-"+qt[r[t+10]]+qt[r[t+11]]+qt[r[t+12]]+qt[r[t+13]]+qt[r[t+14]]+qt[r[t+15]]).toLowerCase()}let Ad;const tC=new Uint8Array(16);function nC(){if(!Ad){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ad=crypto.getRandomValues.bind(crypto)}return Ad(tC)}const iC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b_={randomUUID:iC};function sC(r,t,i){r=r||{};const a=r.random??r.rng?.()??nC();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,eC(a)}function S_(r,t,i){return b_.randomUUID&&!r?b_.randomUUID():sC(r)}const CE=Xe.createContext(void 0),rC=r=>{const t=[...r];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},A_=()=>({participantId:"",startedAt:new Date().toISOString(),appOrder:rC(gb),tokenOrder:Math.random()<.5?"ascending":"descending",choices:[],selectedChoice:null,completedAt:null,tokenBalance:Bs,comprehensionAnswers:{tokenValue:"",rewardType:""},switchingPoints:{}}),aC=({children:r})=>{const[t,i]=Xe.useState(()=>{const ie=localStorage.getItem("surveyData");return ie?JSON.parse(ie):A_()}),[a]=Xe.useState(()=>localStorage.getItem("currentSurveyId")||S_()),[l,h]=Xe.useState({pending:0,synced:0,failed:0,lastSyncAttempt:null,lastSuccessfulSync:null});Xe.useEffect(()=>{(async()=>{localStorage.setItem("surveyData",JSON.stringify(t)),localStorage.setItem("currentSurveyId",a);const te={id:a,surveyData:t,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yc()};await ka(()=>rv(te),void 0)})()},[t,a]),Xe.useEffect(()=>{(async()=>{const te=await ka(()=>uc(),[]),A=te.filter(x=>!x.synced).length,S=te.filter(x=>x.synced).length;h(x=>({...x,pending:A,synced:S}))})()},[]),Xe.useEffect(()=>{const ie=async()=>{console.log("Internet connection detected, attempting auto-sync..."),await ee()};return window.addEventListener("online",ie),navigator.onLine&&ie(),()=>window.removeEventListener("online",ie)},[]);const d=ie=>{i(te=>({...te,participantId:ie}))},y=(ie,te)=>{i(A=>({...A,comprehensionAnswers:{...A.comprehensionAnswers,[ie]:te}}))},_=ie=>{i(te=>{const A=te.choices.findIndex(S=>S.app===ie.app&&S.tokenAmount===ie.tokenAmount);if(A!==-1){const S=[...te.choices];return S[A]=ie,{...te,choices:S}}else return{...te,choices:[...te.choices,ie]}})},v=(ie,te)=>{i(A=>({...A,choices:A.choices.filter(S=>!(S.app===ie&&S.tokenAmount===te))}))},w=()=>{const ie=Math.floor(Math.random()*t.choices.length),te=t.choices[ie];return i(A=>({...A,selectedChoice:te})),te},C=ie=>{i(te=>({...te,tokenBalance:te.tokenBalance+ie}))},L=async()=>{const ie={...t,completedAt:new Date().toISOString()};i(ie);const te={id:a,surveyData:ie,synced:!1,syncedAt:null,createdAt:t.startedAt,deviceId:yc()};await ka(()=>rv(te),void 0),navigator.onLine&&await ee()},X=()=>{const ie=A_();i(ie),localStorage.setItem("currentSurveyId",S_())},$=async()=>{const ie=await ka(()=>uc(),[]),te={exportedAt:new Date().toISOString(),deviceId:yc(),totalSurveys:ie.length,syncedSurveys:ie.filter(N=>N.synced).length,pendingSurveys:ie.filter(N=>!N.synced).length,surveys:ie},A=new Blob([JSON.stringify(te,null,2)],{type:"application/json"}),S=URL.createObjectURL(A),x=document.createElement("a");x.href=S,x.download=`wtp-survey-export-${yc()}-${Date.now()}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(S)},ee=async()=>{if(!navigator.onLine){console.warn("Cannot sync: device is offline");return}h(ie=>({...ie,lastSyncAttempt:new Date().toISOString()}));try{const te=(await ka(()=>uc(),[])).filter(N=>!N.synced&&N.surveyData.completedAt);console.log(`Syncing ${te.length} surveys...`);let A=0,S=0;for(const N of te)try{await Wx(N),await _b(N.id,!0),A++}catch(D){console.error(`Failed to sync survey ${N.id}:`,D),S++}const x=await ka(()=>uc(),[]);h({pending:x.filter(N=>!N.synced).length,synced:x.filter(N=>N.synced).length,failed:S,lastSyncAttempt:new Date().toISOString(),lastSuccessfulSync:A>0?new Date().toISOString():l.lastSuccessfulSync}),console.log(`Sync complete: ${A} succeeded, ${S} failed`)}catch(ie){console.error("Sync error:",ie)}},J=(ie,te,A)=>{i(S=>({...S,switchingPoints:{...S.switchingPoints,[ie]:{tokenAmount:te,switchedTo:A,confirmed:!1}}}))},le=ie=>{i(te=>{const A=te.switchingPoints[ie];return A?{...te,switchingPoints:{...te.switchingPoints,[ie]:{...A,confirmed:!0}}}:te})},pe=ie=>{i(te=>{const A=te.switchingPoints[ie];if(!A||!A.confirmed)return te;const S=te.tokenOrder==="ascending"?[...Ys].reverse():Ys,x=S.findIndex(k=>k===A.tokenAmount);if(x===-1)return te;const D=S.slice(x+1).map(k=>({id:`${ie}-${k}-${Date.now()}-autofilled`,app:ie,tokenAmount:k,selectedOption:A.switchedTo,timestamp:new Date().toISOString(),autoFilled:!0}));return{...te,choices:[...te.choices,...D]}})},ge=ie=>{i(te=>({...te,choices:te.choices.filter(A=>!(A.app===ie&&A.autoFilled)),switchingPoints:{...te.switchingPoints,[ie]:void 0}}))},Pe=ie=>!!t.switchingPoints[ie]?.confirmed;return T.jsx(CE.Provider,{value:{surveyData:t,currentSurveyId:a,syncStatus:l,setParticipantId:d,setComprehensionAnswer:y,addChoice:_,removeChoice:v,selectRandomChoice:w,updateTokenBalance:C,completeSurvey:L,resetSurvey:X,setSwitchingPoint:J,confirmSwitchingPoint:le,autoFillChoices:pe,clearAutoFilledChoices:ge,hasSwitchingPoint:Pe,exportAllData:$,triggerManualSync:ee},children:r})},fn=()=>{const r=Xe.useContext(CE);if(!r)throw new Error("useSurvey must be used within a SurveyProvider");return r},RE=Xe.createContext(void 0),oC=({children:r})=>{const[t,i]=Xe.useState(()=>localStorage.getItem("language")||"es");Xe.useEffect(()=>{localStorage.setItem("language",t)},[t]);const a=l=>{i(l)};return T.jsx(RE.Provider,{value:{language:t,setLanguage:a},children:r})},Vt=()=>{const r=Xe.useContext(RE);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r},$e=({onClick:r,children:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const h="px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400"};return T.jsx("button",{type:"button",onClick:r,disabled:a,className:`${h} ${d[i]} ${l}`,children:t})},lC={common:{continue:{en:"Continue",es:"Continuar"},back:{en:"Back",es:"Atrás"},tokens:{en:"Tokens",es:"Tokens"},or:{en:"or",es:"o"}},participantId:{title:{en:"Welcome to the Survey",es:"Bienvenido a la Encuesta"},description:{en:"Please enter your participant ID to begin.",es:"Por favor ingresa tu ID de participante para comenzar."},label:{en:"Participant ID",es:"ID de Participante"},placeholder:{en:"Enter your ID",es:"Ingresa tu ID"}},instructions:{title:{en:"Survey Instructions",es:"Instrucciones de la Encuesta"},paragraph1:{en:"You are going to make some choices that will give you the chance to earn real rewards.",es:"Vas a tomar algunas decisiones que te darán la oportunidad de ganar recompensas reales."},paragraph2:{en:"To get these rewards, you will receive tokens. These tokens have a value of",es:"Para obtener estas recompensas, recibirás tokens. Estos tokens tienen un valor de"},paragraph2b:{en:", and can be exchanged for a",es:", y pueden ser canjeados por una"},paragraph2c:{en:"whatever you want at the school shop",es:"lo que quieras en la tienda escolar"},paragraph3:{en:"Please pay attention to the comprehension checks on the next screen to ensure you understand how the survey works.",es:"Por favor presta atención a las preguntas de comprensión en la siguiente pantalla para asegurarte de que entiendes cómo funciona la encuesta."}},comprehension:{title:{en:"Comprehension Check",es:"Verificación de Comprensión"},question1:{en:"How much is 1 token worth in COP?",es:"¿Cuánto vale 1 token en COP?"},question2:{en:"Where can you exchange your tokens to buy things?",es:"¿Dónde puedes canjear tus tokens para comprar cosas?"},placeholder1:{en:"Enter amount",es:"Ingresa la cantidad"},placeholder2:{en:"Enter location",es:"Ingresa el lugar"},error:{en:"Incorrect. Please review the instructions.",es:"Incorrecto. Por favor revisa las instrucciones."}},reinstructions:{title:{en:"Let's Review the Instructions",es:"Repasemos las Instrucciones"},intro:{en:"Let's go over the key information again:",es:"Repasemos la información clave nuevamente:"},tokenValueLabel:{en:"Token Value:",es:"Valor del Token:"},tokenValueText:{en:"Each token is worth",es:"Cada token vale"},rewardTypeLabel:{en:"Reward Type:",es:"Tipo de Recompensa:"},rewardTypeText:{en:"You can exchange your tokens at the school shop to buy whatever you want.",es:"Puedes canjear tus tokens en la tienda escolar para comprar lo que quieras."},outro:{en:"Please review these details carefully. You'll have another chance to answer the comprehension questions.",es:"Por favor revisa estos detalles cuidadosamente. Tendrás otra oportunidad para responder las preguntas de comprensión."},button:{en:"Continue to Comprehension Check",es:"Continuar a la Verificación de Comprensión"}},tokenAllocation:{title:{en:"Your Starting Tokens",es:"Tus Tokens Iniciales"},description1:{en:"You have been given",es:"Se te han dado"},description2:{en:"tokens",es:"tokens"},worth:{en:"Worth",es:"Equivalente a"},info:{en:"Your token balance is displayed in the top right corner. It will update throughout the survey as you make your choices. Whatever you have left at the end you can reimburse.",es:"Tu saldo de tokens se muestra en la esquina superior derecha. Se actualizará durante la encuesta a medida que tomes tus decisiones. Lo que te quede al final podrás cobrarlo."}},choiceInstructions1:{title:{en:"About Your Choices",es:"Acerca de tus Decisiones"},paragraph1:{en:"The choices you will make will involve limiting certain apps to 30 minutes per day on your phone.",es:"Las decisiones que tomarás implicarán limitar ciertas aplicaciones a 30 minutos por día en tu teléfono."},paragraph2:{en:"If you choose to set a limit, and that option is chosen, then our team will actually limit the app to 30 minutes per day on your phone for one week later today, and set a password so you cannot change it.",es:"Si eliges establecer un límite, y esa opción es seleccionada, entonces nuestro equipo realmente limitará la aplicación a 30 minutos por día en tu teléfono por una semana más tarde hoy, y pondrá una contraseña para que no puedas cambiarlo."},paragraph3:{en:"So you should only select the options that you really prefer.",es:"Por lo tanto, solo debes seleccionar las opciones que realmente prefieres."}},choiceInstructions2:{important:{en:"Important:",es:"Importante:"},paragraph1:{en:"You will make multiple choices, and only one of your choices will randomly be selected to be implemented.",es:"Harás múltiples decisiones, y solo una de tus decisiones será seleccionada al azar para ser implementada."},paragraph2:{en:"This means that each question should be treated independently, and for every choice, you should give your honest answer.",es:"Esto significa que cada pregunta debe ser tratada independientemente, y para cada decisión, debes dar tu respuesta honesta."},button:{en:"Begin Choices",es:"Comenzar Decisiones"}},appIntroduction:{title:{en:"App Limiting Questions:",es:"Preguntas sobre Limitar Aplicación:"},description:{en:"We're now going to ask you some questions to see how willing you would be to limit",es:"Ahora te haremos algunas preguntas para ver qué tan dispuesto estarías a limitar"},description2:{en:"to 30 minutes per day for 1 week on your phone.",es:"a 30 minutos por día por 1 semana en tu teléfono."}},choiceQuestion:{questionOf:{en:"Question",es:"Pregunta"},of:{en:"of",es:"de"},wouldYouRather:{en:"Would you rather...",es:"Preferirías..."},receive:{en:"RECEIVE",es:"RECIBIR"},pay:{en:"PAY",es:"PAGAR"},tokens:{en:"tokens",es:"tokens"},worth:{en:"worth",es:"equivalente a"},limit:{en:"Limit",es:"Limitar"},limitDescription:{en:"to 30 min/day for 1 week",es:"a 30 min/día por 1 semana"},andNotLimit:{en:"AND NOT limit",es:"Y NO limitar"},butNotLimit:{en:"BUT NOT limit",es:"PERO NO limitar"},doNotLimit:{en:"DO NOT limit",es:"NO limitar"},maintainTokens:{en:"and maintain token balance",es:"y mantener el saldo de tokens"}},choiceComprehensionCheck:{title:{en:"Comprehension Check",es:"Verificación de Comprensión"},confirmTokens:{en:"To confirm, you would prefer to {action} {tokens} tokens {connector} NOT limit {app}, so that you would end up with {finalBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías {action} {tokens} tokens {connector} NO limitar {app}, para que termines con {finalBalance} tokens al final del experimento?"},confirmTokensZero:{en:"To confirm, you would prefer to NOT limit {app} and maintain your token balance at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías NO limitar {app} y mantener tu saldo de tokens en {currentBalance} tokens al final del experimento?"},confirmLimit:{en:"To confirm, you would prefer to limit {app} to 30 minutes per day for a week, rather than {action} {tokens} tokens, so your token balance would remain at {currentBalance} tokens at the end of the experiment?",es:"Para confirmar, ¿preferirías limitar {app} a 30 minutos por día por una semana, en lugar de {action} {tokens} tokens, por lo que tu saldo de tokens permanecería en {currentBalance} tokens al final del experimento?"},receive:{en:"receive",es:"recibir"},pay:{en:"pay",es:"pagar"},receiving:{en:"receiving",es:"recibir"},paying:{en:"paying",es:"pagar"},and:{en:"AND",es:"Y"},but:{en:"BUT",es:"PERO"},yes:{en:"I confirm",es:"Confirmo"},no:{en:"Go back",es:"Volver"}},choicesSummary:{title:{en:"Your Choices",es:"Tus Decisiones"},selecting:{en:"Randomly selecting one of your choices...",es:"Seleccionando aleatoriamente una de tus decisiones..."},instruction:{en:"Here are all the choices you made. Click below to randomly select one to implement.",es:"Aquí están todas las decisiones que tomaste. Haz clic abajo para seleccionar aleatoriamente una para implementar."},selectButton:{en:"Randomly Select One Choice",es:"Seleccionar Aleatoriamente una Decisión"},selectingLabel:{en:"Selecting...",es:"Seleccionando..."},selectedMessage:{en:"has been selected!",es:"ha sido seleccionada!"},selectedDescription:{en:"This is the choice that will be implemented.",es:"Esta es la decisión que será implementada."},continueToResults:{en:"Continue to Results",es:"Continuar a Resultados"},receive:{en:"Receive",es:"Recibir"},pay:{en:"Pay",es:"Pagar"},tokens:{en:"tokens",es:"tokens"},limit:{en:"Limit",es:"Limitar"},limitDuration:{en:"to 30 min/day for 1 week",es:"a 30 min/día por 1 semana"},choice:{en:"Choice #",es:"Decisión #"}},results:{title:{en:"Implementation Results",es:"Resultados de Implementación"},whatWillHappen:{en:"What will happen:",es:"Qué sucederá:"},limitMessage1:{en:"will be limited to 30 minutes per day on your phone for",es:"será limitada a 30 minutos por día en tu teléfono por"},limitMessage2:{en:"1 week",es:"1 semana"},limitMessage3:{en:"starting today.",es:"comenzando hoy."},limitMessage4:{en:"Our team will set the limit with a password so you cannot change it.",es:"Nuestro equipo establecerá el límite con una contraseña para que no puedas cambiarlo."},tokenMessage1:{en:"You will",es:"Tú"},receive:{en:"receive",es:"recibirás"},pay:{en:"pay",es:"pagarás"},tokens:{en:"tokens",es:"tokens"},thisIsWorth:{en:"This is worth",es:"Esto equivale a"},willNotBeLimited:{en:"will not be limited.",es:"no será limitada."},finalTokenBalance:{en:"Final Token Balance:",es:"Saldo Final de Tokens:"},finishSurvey:{en:"Finish Survey",es:"Finalizar Encuesta"}},thankYou:{title:{en:"Thank You!",es:"¡Gracias!"},completed:{en:"You have completed the survey.",es:"Has completado la encuesta."},recorded:{en:"Your responses have been recorded.",es:"Tus respuestas han sido registradas."},contactInfo:{en:"Our team will contact you about implementing your selected choice (app limit or tokens) and redeeming your tokens at the school shop.",es:"Nuestro equipo te contactará sobre la implementación de tu decisión seleccionada (límite de aplicación o tokens) y el canje de tus tokens en la tienda escolar."},participantId:{en:"Participant ID:",es:"ID de Participante:"},downloadData:{en:"Download Survey Data (for testing)",es:"Descargar Datos de la Encuesta (para pruebas)"},startNew:{en:"Start New Survey",es:"Iniciar Nueva Encuesta"}},tokenCounter:{tokens:{en:"Tokens",es:"Tokens"}},versionInfo:{refreshTitle:{en:"Force refresh and clear cache",es:"Forzar actualización y limpiar caché"},refreshLabel:{en:"Force refresh",es:"Forzar actualización"}},switchingPoint:{title:{en:"Please Confirm Your Choice",es:"Por Favor Confirma tu Decisión"},yourChoice:{en:"Your Choice:",es:"Tu Decisión:"},whatThisMeans:{en:"What This Means:",es:"Qué Significa Esto:"},choseLimitOverReceive:{en:"You chose to limit {app} rather than receive {tokenAmount} tokens (worth {value} COP).",es:"Elegiste limitar {app} en lugar de recibir {tokenAmount} tokens (equivalente a {value} COP)."},choseLimitOverPay:{en:"You chose to limit {app} rather than pay {tokenAmount} tokens (worth {value} COP) to avoid limiting.",es:"Elegiste limitar {app} en lugar de pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar."},choseLimitOverZero:{en:"You chose to limit {app} rather than keep your tokens unchanged.",es:"Elegiste limitar {app} en lugar de mantener tus tokens sin cambios."},chosePayOverLimit:{en:"You were willing to pay {tokenAmount} tokens (worth {value} COP) to avoid limiting {app}.",es:"Estuviste dispuesto a pagar {tokenAmount} tokens (equivalente a {value} COP) para evitar limitar {app}."},choseReceiveOverLimit:{en:"You chose to receive {tokenAmount} tokens (worth {value} COP) rather than limit {app}.",es:"Elegiste recibir {tokenAmount} tokens (equivalente a {value} COP) en lugar de limitar {app}."},choseZeroOverLimit:{en:"You chose to keep your tokens unchanged rather than limit {app}.",es:"Elegiste mantener tus tokens sin cambios en lugar de limitar {app}."},implicationLimitDescending:{en:"Since you prefer to limit {app} rather than receive these tokens, we assume you would also prefer to limit for smaller amounts (like 0 tokens), and that you would NOT want to PAY tokens to avoid limiting {app}.",es:"Dado que prefieres limitar {app} en lugar de recibir estos tokens, asumimos que también preferirías limitar por cantidades menores (como 0 tokens), y que NO querrías PAGAR tokens para evitar limitar {app}."},implicationLimitAscending:{en:"Since you prefer to limit {app} rather than pay these tokens, we assume you would also prefer to limit if you had to pay LESS, or even if you received tokens instead.",es:"Dado que prefieres limitar {app} en lugar de pagar estos tokens, asumimos que también preferirías limitar si tuvieras que pagar MENOS, o incluso si recibieras tokens."},implicationLimitFromZero:{en:"Since you prefer to limit {app} rather than keep your tokens unchanged, we assume you would also prefer to limit even if you had to PAY tokens, or if you received tokens.",es:"Dado que prefieres limitar {app} en lugar de mantener tus tokens sin cambios, asumimos que también preferirías limitar incluso si tuvieras que PAGAR tokens, o si recibieras tokens."},implicationPayAscending:{en:"Since you were willing to pay tokens to avoid limiting {app}, we assume you would also be willing to pay LESS, pay nothing (0 tokens), or even RECEIVE tokens instead of limiting.",es:"Dado que estuviste dispuesto a pagar tokens para evitar limitar {app}, asumimos que también estarías dispuesto a pagar MENOS, no pagar nada (0 tokens), o incluso RECIBIR tokens en lugar de limitar."},implicationReceiveDescending:{en:"Since you chose to receive tokens rather than limit {app}, we assume you would also choose to receive smaller amounts, receive nothing (0 tokens), or even PAY tokens to avoid limiting.",es:"Dado que elegiste recibir tokens en lugar de limitar {app}, asumimos que también elegirías recibir cantidades más pequeñas, no recibir nada (0 tokens), o incluso PAGAR tokens para evitar limitar."},implicationTokensFromZero:{en:"Since you chose to keep your tokens rather than limit {app}, we assume you would also choose to receive tokens, or even PAY tokens to avoid limiting.",es:"Dado que elegiste mantener tus tokens en lugar de limitar {app}, asumimos que también elegirías recibir tokens, o incluso PAGAR tokens para evitar limitar."},autoFillNotice:{en:"We will automatically fill in the remaining {count} questions for {app} based on your choice.",es:"Automáticamente completaremos las {count} preguntas restantes para {app} según tu decisión."},confirmQuestion:{en:"Is this understanding correct?",es:"¿Es correcta esta interpretación?"},goBack:{en:"No, Go Back",es:"No, Volver"},confirm:{en:"Yes, Continue",es:"Sí, Continuar"}},autoFilled:{title:{en:"Questions Completed for {app}",es:"Preguntas Completadas para {app}"},explanation:{en:"Based on your previous choice, we have automatically filled {count} remaining questions for {app}.",es:"Según tu decisión anterior, hemos completado automáticamente {count} preguntas restantes para {app}."},filledAnswers:{en:"Automatically Filled Answers:",es:"Respuestas Completadas Automáticamente:"},question:{en:"Question",es:"Pregunta"},decision:{en:"Choice",es:"Decisión"},canGoBack:{en:"If you want to change your answer, you can go back to modify your choice.",es:"Si quieres cambiar tu respuesta, puedes volver atrás para modificar tu decisión."}}},z=(r,t)=>{const i=r.split(".");let a=lC;for(const l of i)if(a=a[l],!a)return r;return a[t]||a.en||r},uC=({onNext:r})=>{const[t,i]=Xe.useState(""),{setParticipantId:a,resetSurvey:l}=fn(),{language:h}=Vt(),d=()=>{t.trim()&&(l(),a(t.trim()),r())};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("participantId.title",h)}),T.jsx("p",{className:"text-gray-600 mb-6 text-center",children:z("participantId.description",h)}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"participantId",className:"block text-sm font-medium text-gray-700 mb-2",children:z("participantId.label",h)}),T.jsx("input",{id:"participantId",type:"text",value:t,onChange:y=>i(y.target.value),onKeyPress:y=>y.key==="Enter"&&d(),placeholder:z("participantId.placeholder",h),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),T.jsx($e,{onClick:d,disabled:!t.trim(),className:"w-full",children:z("common.continue",h)})]})})},cC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("instructions.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("instructions.paragraph1",i)}),T.jsxs("p",{children:[z("instructions.paragraph2",i)," ",T.jsxs("strong",{children:["$",Vn.toLocaleString()," COP"]}),z("instructions.paragraph2b",i)," ",T.jsx("strong",{children:z("instructions.paragraph2c",i)}),"."]}),T.jsx("p",{children:z("instructions.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx($e,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})},hC=({onNext:r,onBack:t,onFailed:i})=>{const[a,l]=Xe.useState(""),[h,d]=Xe.useState(""),[y,_]=Xe.useState(!1),{setComprehensionAnswer:v}=fn(),{language:w}=Vt(),C=Vn.toString(),L=a.trim()===C,X=h.toLowerCase().trim(),$=X.includes("school shop")||X.includes("school")||X.includes("scool")||X.includes("shool")||X.includes("shop")||X.includes("store")||X.includes("tienda escolar")||X.includes("tienda")||X.includes("tiemda")||X.includes("escolar")||X.includes("escuela")||X.includes("escela")||X.includes("escuella")||X.includes("colegio")||X.includes("cole"),ee=L&&$,J=()=>{ee?(v("tokenValue",a),v("rewardType",h),r()):(_(!0),i&&setTimeout(()=>{i()},1500))};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("comprehension.title",w)}),T.jsxs("div",{className:"space-y-6 mb-8",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"tokenValue",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question1",w)}),T.jsx("input",{id:"tokenValue",type:"text",value:a,onChange:le=>{l(le.target.value),_(!1)},placeholder:z("comprehension.placeholder1",w),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${y&&!L?"border-red-500":"border-gray-300"}`}),y&&!L&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",w)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"rewardType",className:"block text-lg font-medium text-gray-700 mb-2",children:z("comprehension.question2",w)}),T.jsx("input",{id:"rewardType",type:"text",value:h,onChange:le=>{d(le.target.value),_(!1)},placeholder:z("comprehension.placeholder2",w),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${y&&!$?"border-red-500":"border-gray-300"}`}),y&&!$&&T.jsx("p",{className:"text-red-600 text-sm mt-1",children:z("comprehension.error",w)})]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:t,className:"px-6",children:z("common.back",w)}),T.jsx($e,{onClick:J,disabled:!a.trim()||!h.trim(),className:"flex-1",children:z("common.continue",w)})]})]})})},fC=({onNext:r})=>{const{language:t}=Vt();return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("reinstructions.title",t)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("reinstructions.intro",t)}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.tokenValueLabel",t)}),T.jsxs("p",{children:[z("reinstructions.tokenValueText",t)," ",T.jsxs("strong",{children:["$",Vn.toLocaleString()," COP"]}),"."]})]}),T.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 my-4",children:[T.jsx("p",{className:"font-semibold mb-2",children:z("reinstructions.rewardTypeLabel",t)}),T.jsx("p",{children:z("reinstructions.rewardTypeText",t)})]}),T.jsx("p",{children:z("reinstructions.outro",t)})]}),T.jsx($e,{onClick:r,className:"w-full",children:z("reinstructions.button",t)})]})})},Ri=()=>{const{surveyData:r}=fn(),{language:t}=Vt(),i=()=>{const a=[],l=r.tokenBalance;for(let h=0;h<l;h++)a.push(T.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white border border-blue-200"},`token-${h}`));return a};return T.jsxs("div",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg",children:[T.jsx("div",{className:"text-sm font-semibold",children:z("tokenCounter.tokens",t)}),T.jsx("div",{className:"text-2xl font-bold",children:r.tokenBalance}),T.jsxs("div",{className:"text-xs opacity-90",children:["$",(r.tokenBalance*Vn).toLocaleString()," COP"]}),T.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 mt-2 max-w-[120px]",children:i()})]})},IE=({tokenCount:r})=>{const t=()=>{const i=[];for(let a=0;a<r;a++)i.push(T.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-600"},`token-${a}`));return i};return T.jsx("div",{className:"flex flex-col items-center gap-3 mt-4",children:T.jsx("div",{className:"flex flex-wrap justify-center gap-1.5 max-w-[280px]",children:t()})})},dC=({onNext:r,onBack:t})=>{const[i,a]=Xe.useState(!1),{language:l}=Vt();return Xe.useEffect(()=>{setTimeout(()=>a(!0),500)},[]),T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[i&&T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("tokenAllocation.title",l)}),T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-blue-100 rounded-full mb-4",children:T.jsx("span",{className:"text-5xl font-bold text-blue-600",children:Bs})}),T.jsxs("p",{className:"text-xl text-gray-700",children:[z("tokenAllocation.description1",l)," ",T.jsxs("strong",{children:[Bs," ",z("tokenAllocation.description2",l)]})]}),T.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["(",z("tokenAllocation.worth",l)," $",(Bs*Vn).toLocaleString()," COP)"]}),T.jsx(IE,{tokenCount:Bs})]}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:T.jsx("p",{className:"text-gray-700",children:z("tokenAllocation.info",l)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:t,className:"px-6",children:z("common.back",l)}),T.jsx($e,{onClick:r,className:"flex-1",children:z("common.continue",l)})]})]})})]})},mC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:z("choiceInstructions1.title",i)}),T.jsxs("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:[T.jsx("p",{children:z("choiceInstructions1.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions1.paragraph2",i)}),T.jsx("p",{className:"font-semibold text-blue-600",children:z("choiceInstructions1.paragraph3",i)})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx($e,{onClick:r,className:"flex-1",children:z("common.continue",i)})]})]})})]})},pC=({onNext:r,onBack:t})=>{const{language:i}=Vt();return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"space-y-6 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[T.jsx("p",{className:"font-semibold text-gray-900 mb-4 text-xl",children:z("choiceInstructions2.important",i)}),T.jsx("p",{className:"mb-3",children:z("choiceInstructions2.paragraph1",i)}),T.jsx("p",{children:z("choiceInstructions2.paragraph2",i)})]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:t,className:"px-6",children:z("common.back",i)}),T.jsx($e,{onClick:r,className:"flex-1",children:z("choiceInstructions2.button",i)})]})]})})]})},ah="/wtp-survey/assets/tiktok-logo-B98-VsHJ.png",oh="/wtp-survey/assets/whatsapp-logo-bigyjet4.png",w_=({app:r,onNext:t,onBack:i})=>{const{language:a}=Vt(),l=r==="TikTok"?ah:oh;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("img",{src:l,alt:`${r} logo`,className:"w-24 h-24 mb-6 object-contain"}),T.jsxs("h1",{className:"text-3xl font-bold text-gray-900 text-center",children:[z("appIntroduction.title",a)," ",r]})]}),T.jsx("div",{className:"space-y-4 text-gray-700 text-lg leading-relaxed mb-8",children:T.jsxs("p",{className:"text-center",children:[z("appIntroduction.description",a)," ",r," ",z("appIntroduction.description2",a)]})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:i,className:"px-6",children:z("common.back",a)}),T.jsx($e,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},gC=({tokenAmount:r})=>{const t=()=>{const l=[],h=[],d=[];if(r<0){const y=Bs+r,_=Math.abs(r);for(let v=0;v<y;v++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${v}`));for(let v=0;v<_;v++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 border border-red-600"},`red-${v}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}else if(r>0){for(let y=0;y<Bs;y++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${y}`));for(let y=0;y<r;y++)d.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 border border-green-600"},`green-${y}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1")),l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:d},"row-2"))}else{for(let y=0;y<Bs;y++)h.push(T.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400 border border-gray-500"},`grey-${y}`));l.push(T.jsx("div",{className:"flex gap-1 justify-center",children:h},"row-1"))}return l},i=()=>r<0?"text-red-600":r>0?"text-green-600":"text-gray-600",a=()=>r<0?`${r}`:r>0?`+${r}`:"0";return T.jsxs("div",{className:"flex flex-col items-center gap-2 mt-3",children:[T.jsx("div",{className:"flex flex-col gap-1",children:t()}),T.jsx("div",{className:`text-sm font-bold ${i()}`,children:a()})]})},yC=({app:r,tokenAmount:t,questionNumber:i,totalQuestions:a,onNext:l,onSwitchingPointDetected:h,onBack:d})=>{const{language:y}=Vt(),[_,v]=Xe.useState(null),{addChoice:w,surveyData:C,setSwitchingPoint:L,clearAutoFilledChoices:X}=fn();Xe.useEffect(()=>{v(null)},[r,t]);const $=te=>{const A=C.choices.filter(N=>N.app===r&&!N.autoFilled&&N.tokenAmount!==t);return A.length===0||!A.every(N=>N.selectedOption===A[0].selectedOption)?!1:A[0].selectedOption!==te},ee=te=>{const A=C.switchingPoints[r];if(!A||!A.confirmed)return!1;const S=C.tokenOrder==="ascending"?[...Ys].reverse():Ys,x=S.findIndex(k=>k===t),N=S.findIndex(k=>k===A.tokenAmount);if(x>=N)return!1;const D=C.choices.filter(k=>k.app===r&&!k.autoFilled&&k.tokenAmount!==t&&S.findIndex(R=>R===k.tokenAmount)<N);if(D.length>0){const k=D[0].selectedOption;if(te!==k)return!0}return!1},J=()=>{if(_){ee(_)&&X(r);const A=$(_);w({id:`${r}-${t}-${Date.now()}`,app:r,tokenAmount:t,selectedOption:_,timestamp:new Date().toISOString()}),A?(L(r,t,_),h()):l()}},le=t>0?`${z("choiceQuestion.receive",y)} ${t} ${z("choiceQuestion.tokens",y)}`:t<0?`${z("choiceQuestion.pay",y)} ${Math.abs(t)} ${z("choiceQuestion.tokens",y)}`:`${z("choiceQuestion.doNotLimit",y)} ${r}`,pe=t>0?`${z("choiceQuestion.andNotLimit",y)} ${r}`:t<0?`${z("choiceQuestion.butNotLimit",y)} ${r}`:z("choiceQuestion.maintainTokens",y),ge=t*Vn,Pe=t!==0?`(${z("choiceQuestion.worth",y)} $${Math.abs(ge).toLocaleString()} COP)`:"",ie=r==="WhatsApp"?oh:ah;return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"text-sm font-semibold text-gray-500 mb-2",children:[z("choiceQuestion.questionOf",y)," ",i," ",z("choiceQuestion.of",y)," ",a]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i/a*100}%`}})})]}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:z("choiceQuestion.wouldYouRather",y)}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[T.jsx("button",{onClick:()=>v("tokens"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${_==="tokens"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-4xl mb-2",children:"💰"}),T.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:le}),T.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:pe}),T.jsx("div",{className:"text-sm text-gray-600",children:Pe}),T.jsx(gC,{tokenAmount:t})]})}),T.jsx("button",{onClick:()=>v("limit"),className:`p-6 rounded-xl border-2 transition-all duration-200 ${_==="limit"?"border-blue-600 bg-blue-50 shadow-lg":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-2 flex justify-center",children:T.jsx("img",{src:ie,alt:r,className:"w-16 h-16"})}),T.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-2",children:[z("choiceQuestion.limit",y)," ",r]}),T.jsx("div",{className:"text-sm text-gray-600",children:z("choiceQuestion.limitDescription",y)})]})})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:d,className:"px-6",children:z("common.back",y)}),T.jsx($e,{onClick:J,disabled:!_,className:"flex-1",children:z("common.continue",y)})]})]})})]})},vC=({onNext:r,onBack:t})=>{const{surveyData:i}=fn(),{language:a}=Vt(),l=i.choices[0];if(!l)return r(),null;const{app:h,tokenAmount:d,selectedOption:y}=l,_=i.tokenBalance+d;let v;if(y==="tokens")if(d===0)v=z("choiceComprehensionCheck.confirmTokensZero",a).replace("{app}",h).replace("{currentBalance}",i.tokenBalance.toString());else{const L=d>0?z("choiceComprehensionCheck.receive",a):z("choiceComprehensionCheck.pay",a),X=d>0?z("choiceComprehensionCheck.and",a):z("choiceComprehensionCheck.but",a),$=Math.abs(d);v=z("choiceComprehensionCheck.confirmTokens",a).replace("{action}",L).replace("{tokens}",$.toString()).replace("{connector}",X).replace("{finalBalance}",_.toString()).replace("{app}",h)}else{const L=d>=0?z("choiceComprehensionCheck.receiving",a):z("choiceComprehensionCheck.paying",a),X=Math.abs(d);v=z("choiceComprehensionCheck.confirmLimit",a).replace("{app}",h).replace("{action}",L).replace("{tokens}",X.toString()).replace("{currentBalance}",i.tokenBalance.toString())}const w=()=>{r()},C=()=>{t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("choiceComprehensionCheck.title",a)}),T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:T.jsx("p",{className:"text-lg text-gray-800 leading-relaxed",children:v})}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx($e,{onClick:C,className:"bg-red-500 hover:bg-red-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.no",a)}),T.jsx($e,{onClick:w,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3",children:z("choiceComprehensionCheck.yes",a)})]})]})})]})},_C=({app:r,onConfirm:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:l,confirmSwitchingPoint:h}=fn(),d=l.switchingPoints[r];if(!d)return i(),null;const{tokenAmount:y,switchedTo:_}=d,v=r==="WhatsApp"?oh:ah,w=l.tokenOrder==="ascending"?[...Ys].reverse():Ys,C=w.findIndex(J=>J===y),L=w.slice(C+1),$=_==="limit"?y>0?{choice:z("switchingPoint.choseLimitOverReceive",a).replace("{app}",r).replace("{tokenAmount}",y.toString()).replace("{value}",`$${(y*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitDescending",a).replaceAll("{app}",r)}:y<0?{choice:z("switchingPoint.choseLimitOverPay",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(y).toString()).replace("{value}",`$${(Math.abs(y)*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationLimitAscending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseLimitOverZero",a).replace("{app}",r),implication:z("switchingPoint.implicationLimitFromZero",a).replace("{app}",r)}:y<0?{choice:z("switchingPoint.chosePayOverLimit",a).replace("{app}",r).replace("{tokenAmount}",Math.abs(y).toString()).replace("{value}",`$${(Math.abs(y)*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationPayAscending",a).replace("{app}",r)}:y>0?{choice:z("switchingPoint.choseReceiveOverLimit",a).replace("{app}",r).replace("{tokenAmount}",y.toString()).replace("{value}",`$${(y*Vn).toLocaleString()}`),implication:z("switchingPoint.implicationReceiveDescending",a).replace("{app}",r)}:{choice:z("switchingPoint.choseZeroOverLimit",a).replace("{app}",r),implication:z("switchingPoint.implicationTokensFromZero",a).replace("{app}",r)},ee=()=>{h(r),t()};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:v,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("switchingPoint.title",a)}),T.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.yourChoice",a)}),T.jsx("p",{className:"text-gray-700",children:$.choice})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("switchingPoint.whatThisMeans",a)}),T.jsx("p",{className:"text-gray-700",children:$.implication})]}),T.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:T.jsx("p",{className:"text-sm text-gray-700",children:z("switchingPoint.autoFillNotice",a).replace("{count}",L.length.toString()).replace("{app}",r)})})]}),T.jsx("div",{className:"mb-4",children:T.jsx("p",{className:"text-center text-gray-600",children:z("switchingPoint.confirmQuestion",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:i,className:"flex-1",children:z("switchingPoint.goBack",a)}),T.jsx($e,{onClick:ee,className:"flex-1 bg-green-600 hover:bg-green-700",children:z("switchingPoint.confirm",a)})]})]})})]})},EC=({app:r,onNext:t,onGoBack:i})=>{const{language:a}=Vt(),{surveyData:l}=fn(),h=l.switchingPoints[r];if(!h||!h.confirmed)return t(),null;const d=r==="WhatsApp"?oh:ah,y=l.choices.filter(_=>_.app===r&&_.autoFilled);return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("div",{className:"mb-6 flex justify-center",children:T.jsx("img",{src:d,alt:r,className:"w-20 h-20"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:z("autoFilled.title",a).replace("{app}",r)}),T.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-lg text-gray-700 mb-4",children:z("autoFilled.explanation",a).replace("{app}",r).replace("{count}",y.length.toString())}),T.jsxs("div",{className:"bg-white rounded-lg p-4 max-h-64 overflow-y-auto",children:[T.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:z("autoFilled.filledAnswers",a)}),T.jsx("div",{className:"space-y-3",children:y.map((_,v)=>{const w=_.tokenAmount>0?`${z("choiceQuestion.receive",a).toLowerCase()} ${_.tokenAmount} ${z("choiceQuestion.tokens",a)}`:_.tokenAmount<0?`${z("choiceQuestion.pay",a).toLowerCase()} ${Math.abs(_.tokenAmount)} ${z("choiceQuestion.tokens",a)}`:`${z("choiceQuestion.doNotLimit",a).toLowerCase()} ${r}`,C=_.selectedOption==="tokens"?w:`${z("choiceQuestion.limit",a)} ${r}`,X=`${`${z("choiceQuestion.limit",a)} ${r}`} vs ${w}`;return T.jsx("div",{className:"py-2 px-3 bg-gray-50 rounded",children:T.jsxs("div",{className:"text-sm text-gray-700",children:[T.jsxs("span",{className:"text-gray-600",children:[z("autoFilled.question",a)," ",v+1,":"]})," ",X," → ",z("autoFilled.decision",a),": ",T.jsx("span",{className:"font-bold text-gray-900",children:C})]})},_.id)})})]})]}),T.jsx("div",{className:"mb-6",children:T.jsx("p",{className:"text-center text-gray-600",children:z("autoFilled.canGoBack",a)})}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx($e,{onClick:i,className:"flex-1",children:z("common.back",a)}),T.jsx($e,{onClick:t,className:"flex-1",children:z("common.continue",a)})]})]})})]})},TC=({onNext:r})=>{const{language:t}=Vt(),[i,a]=Xe.useState(!1),[l,h]=Xe.useState(null),[d,y]=Xe.useState(-1),{surveyData:_,selectRandomChoice:v,updateTokenBalance:w}=fn(),C=()=>{a(!0),y(0);let $=0;const ee=setInterval(()=>{$=($+1)%_.choices.length,y($)},150);setTimeout(()=>{clearInterval(ee);const J=v();J.selectedOption==="tokens"&&w(J.tokenAmount);const le=_.choices.findIndex(pe=>pe.id===J.id);y(le),h(J),a(!1)},3e3)},L=($,ee)=>ee==="tokens"?$.tokenAmount>=0?`${z("choicesSummary.receive",t)} ${$.tokenAmount} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.pay",t)} ${Math.abs($.tokenAmount)} ${z("choicesSummary.tokens",t)}`:`${z("choicesSummary.limit",t)} ${$.app} ${z("choicesSummary.limitDuration",t)}`,X=({choice:$,option:ee})=>{const J=$.selectedOption===ee;return T.jsx("div",{className:`
        flex-1 p-3 rounded-lg border-2 transition-all
        ${J?"border-blue-500 bg-blue-50 font-semibold":"border-gray-200 bg-white"}
      `,children:T.jsxs("div",{className:"flex items-center gap-2",children:[J&&T.jsx("span",{className:"text-blue-600",children:"✓"}),T.jsx("span",{className:J?"text-gray-900":"text-gray-600",children:L($,ee)})]})})};return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-3xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:z("choicesSummary.title",t)}),!l&&T.jsx("p",{className:"text-center text-gray-600 mb-6",children:z(i?"choicesSummary.selecting":"choicesSummary.instruction",t)}),T.jsx("div",{className:"space-y-3 mb-8",children:_.choices.map(($,ee)=>T.jsx("div",{className:`
                p-4 rounded-lg transition-all duration-200
                ${d===ee&&i?"bg-yellow-100 border-2 border-yellow-400 shadow-lg scale-105":d===ee&&l?"bg-green-100 border-2 border-green-500 shadow-lg":"bg-gray-50 border border-gray-200"}
              `,children:T.jsxs("div",{className:"flex gap-3 items-center",children:[T.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:T.jsx("span",{className:"text-sm font-semibold text-gray-500",children:ee+1})}),T.jsxs("div",{className:"flex-1 flex gap-3",children:[T.jsx(X,{choice:$,option:"tokens"}),T.jsx("div",{className:"flex items-center text-gray-400",children:T.jsx("span",{children:z("common.or",t)})}),T.jsx(X,{choice:$,option:"limit"})]})]})},$.id))}),!i&&!l&&T.jsx($e,{onClick:C,className:"w-full",children:z("choicesSummary.selectButton",t)}),i&&T.jsx("div",{className:"text-center",children:T.jsxs("div",{className:"inline-flex items-center gap-2 text-lg font-semibold text-gray-900",children:[T.jsx("span",{className:"animate-pulse text-3xl",children:"🎲"}),T.jsx("span",{children:z("choicesSummary.selectingLabel",t)})]})}),!i&&l&&T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mb-4",children:T.jsx("span",{className:"text-5xl",children:"✅"})}),T.jsxs("p",{className:"text-xl font-semibold text-gray-900 mb-4",children:[z("choicesSummary.choice",t),d+1," ",z("choicesSummary.selectedMessage",t)]}),T.jsx("p",{className:"text-gray-600 mb-6",children:z("choicesSummary.selectedDescription",t)}),T.jsx($e,{onClick:r,className:"w-full",children:z("choicesSummary.continueToResults",t)})]})]})})]})},bC=({onNext:r})=>{const{language:t}=Vt(),{surveyData:i,completeSurvey:a}=fn();Xe.useEffect(()=>{i.completedAt||a()},[]);const l=i.selectedChoice;if(!l)return null;const h=l.selectedOption==="limit";return T.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-4",children:[T.jsx("div",{className:"w-full flex justify-end mb-4",children:T.jsx(Ri,{})}),T.jsx("div",{className:"flex-1 flex items-center justify-center",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"text-6xl mb-4",children:h?"⏱️":"💰"}),T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:z("results.title",t)})]}),T.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:z("results.whatWillHappen",t)}),h?T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[T.jsx("strong",{children:l.app})," ",z("results.limitMessage1",t)," ",z("results.limitMessage2",t)]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.limitMessage3",t)," ",z("results.limitMessage4",t)]})]}):T.jsxs("div",{className:"space-y-2",children:[T.jsxs("p",{className:"text-gray-700",children:[z("results.tokenMessage1",t)," ",T.jsx("strong",{children:l.tokenAmount>=0?`${z("results.receive",t)} ${l.tokenAmount} ${z("results.tokens",t)}`:`${z("results.pay",t)} ${Math.abs(l.tokenAmount)} ${z("results.tokens",t)}`}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[z("results.thisIsWorth",t)," ",T.jsxs("strong",{children:["$",Math.abs(l.tokenAmount*Vn).toLocaleString()," COP"]}),"."]}),T.jsxs("p",{className:"text-gray-700",children:[l.app," ",z("results.willNotBeLimited",t)]})]})]}),T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-8",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:z("results.finalTokenBalance",t)}),T.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[i.tokenBalance," ",z("results.tokens",t)]}),T.jsxs("p",{className:"text-gray-600 mt-1",children:["($",(i.tokenBalance*Vn).toLocaleString()," COP)"]}),T.jsx(IE,{tokenCount:i.tokenBalance})]}),T.jsx($e,{onClick:r,className:"w-full",children:z("results.finishSurvey",t)})]})})]})},SC=()=>{const{language:r}=Vt(),{surveyData:t}=fn(),i=()=>{const l=JSON.stringify(t,null,2),h=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(h),y=document.createElement("a");y.href=d,y.download=`survey-${t.participantId}-${Date.now()}.json`,y.click(),URL.revokeObjectURL(d)},a=()=>{window.location.reload()};return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[T.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),T.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:z("thankYou.title",r)}),T.jsx("p",{className:"text-xl text-gray-700 mb-6",children:z("thankYou.completed",r)}),T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[T.jsx("p",{className:"text-gray-700 mb-2",children:z("thankYou.recorded",r)}),T.jsx("p",{className:"text-gray-700",children:z("thankYou.contactInfo",r)})]}),T.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[z("thankYou.participantId",r)," ",t.participantId]}),T.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-700 underline text-sm mb-6",children:z("thankYou.downloadData",r)}),T.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:T.jsx($e,{onClick:a,className:"w-full",children:z("thankYou.startNew",r)})})]})})},AC=()=>{const{language:r}=Vt(),t=()=>{localStorage.clear(),window.location.reload()};return T.jsxs("div",{className:"fixed bottom-4 right-4 flex items-center gap-2 text-gray-400 text-sm",children:[T.jsx("span",{children:xE}),T.jsx("button",{onClick:t,className:"hover:text-gray-600 transition-colors p-1",title:z("versionInfo.refreshTitle",r),"aria-label":z("versionInfo.refreshLabel",r),children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})})})]})},wC=()=>{const{language:r,setLanguage:t}=Vt();return T.jsxs("div",{className:"fixed bottom-4 left-4 flex items-center gap-1 text-sm bg-white rounded-lg shadow-md px-3 py-2",children:[T.jsx("button",{onClick:()=>t("es"),className:`px-2 py-1 rounded transition-colors ${r==="es"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"ES"}),T.jsx("span",{className:"text-gray-400",children:"|"}),T.jsx("button",{onClick:()=>t("en"),className:`px-2 py-1 rounded transition-colors ${r==="en"?"bg-blue-600 text-white font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"EN"})]})},xC=()=>{const{syncStatus:r}=fn(),t=navigator.onLine;return T.jsxs("div",{className:"fixed top-4 right-4 bg-white shadow-lg rounded-lg p-3 text-sm border border-gray-200 z-50",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500":"bg-red-500"}`}),T.jsx("span",{className:"font-medium",children:t?"Online":"Offline"})]}),T.jsxs("div",{className:"space-y-1 text-gray-600",children:[T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Synced:"}),T.jsx("span",{className:"font-medium text-green-600",children:r.synced})]}),T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Pending:"}),T.jsx("span",{className:"font-medium text-yellow-600",children:r.pending})]}),r.failed>0&&T.jsxs("div",{className:"flex justify-between gap-4",children:[T.jsx("span",{children:"Failed:"}),T.jsx("span",{className:"font-medium text-red-600",children:r.failed})]})]}),r.lastSuccessfulSync&&T.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last sync: ",new Date(r.lastSuccessfulSync).toLocaleTimeString()]})]})},CC=()=>{const{exportAllData:r,syncStatus:t}=fn(),[i,a]=Xe.useState(!1),l=async()=>{a(!0);try{await r(),alert("Data exported successfully! Check your downloads folder.")}catch(d){console.error("Export error:",d),alert("Failed to export data. Please try again.")}finally{a(!1)}},h=t.synced+t.pending;return T.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:T.jsx($e,{onClick:l,disabled:i||h===0,variant:"secondary",children:i?"Exporting...":`Export Data (${h})`})})},RC=()=>{const{triggerManualSync:r,syncStatus:t}=fn(),[i,a]=Xe.useState(!1),l=navigator.onLine,h=async()=>{a(!0);try{await r(),alert("Sync completed successfully!")}catch(d){console.error("Sync error:",d),alert("Sync failed. Please check internet connection and try again.")}finally{a(!1)}};return t.pending===0?null:T.jsxs("div",{className:"fixed bottom-4 left-4 z-50",children:[T.jsx($e,{onClick:h,disabled:i||!l,variant:"primary",children:i?"Syncing...":`Sync Now (${t.pending})`}),!l&&T.jsx("div",{className:"text-xs text-red-600 mt-1 text-center",children:"Connect to internet to sync"})]})},IC=()=>{const[r,t]=Xe.useState("participantId"),[i,a]=Xe.useState(0),{surveyData:l,autoFillChoices:h,hasSwitchingPoint:d,clearAutoFilledChoices:y,removeChoice:_}=fn(),v=l.tokenOrder==="ascending"?[...Ys].reverse():Ys,w=l.appOrder.flatMap(ee=>v.map(J=>({app:ee,tokenAmount:J}))),C=()=>{switch(r){case"participantId":t("instructions");break;case"instructions":t("comprehension");break;case"comprehension":t("tokenAllocation");break;case"reinstructions":t("comprehension");break;case"tokenAllocation":t("choiceInstructions1");break;case"choiceInstructions1":t("choiceInstructions2");break;case"choiceInstructions2":t("appIntroduction1");break;case"appIntroduction1":t("choices"),a(0);break;case"appIntroduction2":t("choices"),a(8);break;case"choices":{const ee=w[i].app;if(d(ee)){let J=i+1;for(;J<w.length&&w[J].app===ee;)J++;if(J>i+1){t("autoFilledExplanation"),a(J);break}}i===0?t("choiceComprehension"):i===7?t("appIntroduction2"):i<w.length-1?a(i+1):t("choicesSummary");break}case"choiceComprehension":a(1),t("choices");break;case"switchingPointConfirmation":{const ee=w[i].app;h(ee);let J=i+1;for(;J<w.length&&w[J].app===ee;)J++;a(J),t("autoFilledExplanation");break}case"autoFilledExplanation":{i===8?t("appIntroduction2"):i<w.length?t("choices"):t("choicesSummary");break}case"choicesSummary":t("results");break;case"results":t("thankYou");break}},L=()=>{t("reinstructions")},X=()=>{t("switchingPointConfirmation")},$=()=>{switch(r){case"instructions":t("participantId");break;case"comprehension":t("instructions");break;case"tokenAllocation":t("comprehension");break;case"choiceInstructions1":t("tokenAllocation");break;case"choiceInstructions2":t("choiceInstructions1");break;case"appIntroduction1":t("choiceInstructions2");break;case"appIntroduction2":t("choices"),a(7);break;case"choiceComprehension":a(0),t("choices");break;case"switchingPointConfirmation":{const ee=w[i].app,J=w[i].tokenAmount;_(ee,J),y(ee),t("choices");break}case"autoFilledExplanation":{const ee=w[i-1]?.app||w[0].app;y(ee);const J=l.choices.findIndex(le=>le.app===ee&&!le.autoFilled);if(J!==-1){const le=l.choices[J],pe=w.findIndex(ge=>ge.app===le.app&&ge.tokenAmount===le.tokenAmount);a(pe)}else{const le=w.findIndex(pe=>pe.app===ee);a(le)}t("choices");break}case"choices":{const ee=w[i].app;if(d(ee)){const J=i-1;if(J>=0&&w[J].app!==ee){const le=w.findIndex(pe=>pe.app===ee);a(le+1),t("autoFilledExplanation");break}}i===8?t("appIntroduction2"):i===1?t("choiceComprehension"):i>0?a(i-1):t("appIntroduction1");break}}};return T.jsxs(T.Fragment,{children:[r==="participantId"&&T.jsx(uC,{onNext:C}),r==="instructions"&&T.jsx(cC,{onNext:C,onBack:$}),r==="comprehension"&&T.jsx(hC,{onNext:C,onBack:$,onFailed:L}),r==="reinstructions"&&T.jsx(fC,{onNext:C}),r==="tokenAllocation"&&T.jsx(dC,{onNext:C,onBack:$}),r==="choiceInstructions1"&&T.jsx(mC,{onNext:C,onBack:$}),r==="choiceInstructions2"&&T.jsx(pC,{onNext:C,onBack:$}),r==="appIntroduction1"&&T.jsx(w_,{app:l.appOrder[0],onNext:C,onBack:$}),r==="appIntroduction2"&&T.jsx(w_,{app:l.appOrder[1],onNext:C,onBack:$}),r==="choices"&&T.jsx(yC,{app:w[i].app,tokenAmount:w[i].tokenAmount,questionNumber:i+1,totalQuestions:w.length,onNext:C,onSwitchingPointDetected:X,onBack:$}),r==="choiceComprehension"&&T.jsx(vC,{onNext:C,onBack:$}),r==="switchingPointConfirmation"&&T.jsx(_C,{app:w[i].app,onConfirm:C,onGoBack:$}),r==="autoFilledExplanation"&&T.jsx(EC,{app:w[i-1]?.app||w[0].app,onNext:C,onGoBack:$}),r==="choicesSummary"&&T.jsx(TC,{onNext:C}),r==="results"&&T.jsx(bC,{onNext:C}),r==="thankYou"&&T.jsx(SC,{})]})};function NC(){return T.jsx(oC,{children:T.jsxs(aC,{children:[T.jsx(IC,{}),T.jsx(wC,{}),T.jsx(AC,{}),T.jsx(xC,{}),T.jsx(CC,{}),T.jsx(RC,{})]})})}pb.createRoot(document.getElementById("root")).render(T.jsx(NC,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});
